(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{345:function(e,t,r){"use strict";r.r(t),r.d(t,"RecaptchaManager",(function(){return h})),r.d(t,"RecaptchaWidget",(function(){return s}));r(30),r(8),r(20);var i=r(220);r(73),r(217);function n(e,t,r,i,n,a,c){try{var o=e[a](c),u=o.value}catch(e){return void r(e)}o.done?t(u):Promise.resolve(u).then(i,n)}function a(e){return function(){var t=this,r=arguments;return new Promise((function(i,a){var c=e.apply(t,r);function o(e){n(c,i,a,o,u,"next",e)}function u(e){n(c,i,a,o,u,"throw",e)}o(void 0)}))}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function u(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e}var s=function(){function e(t,r){c(this,e),this.widgetId=null,this.isExecuting=!1,this.siteKey=t.siteKey,this.grecaptchaLibrary=t.grecaptchaLibrary;var i=this.createContainer();this.setup(i,r)}var t;return u(e,[{key:"execute",value:(t=a(regeneratorRuntime.mark((function e(){var t,r=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(t=this.widgetId)){e.next=3;break}throw new Error("Recaptcha is not setup");case 3:return this.isExecuting&&this.finishExecution(),this.isExecuting=!0,e.abrupt("return",new Promise((function(e,i){r.executionSuccessBlock=function(t){r.finishExecution(),e(t)},r.executionExpiredBlock=function(){r.finishExecution(),i(new Error("expired"))},r.executionErrorBlock=function(){r.finishExecution(),i(new Error("error"))},r.grecaptchaLibrary.execute(t)})));case 6:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"finishExecution",value:function(){this.isExecuting=!1;var e=this.widgetId;null!==e&&this.grecaptchaLibrary.reset(e)}},{key:"setup",value:function(e,t){var r;this.widgetId=this.grecaptchaLibrary.render(e,{callback:this.responseHandler.bind(this),"expired-callback":this.expiredHandler.bind(this),"error-callback":this.errorHandler.bind(this),sitekey:this.siteKey,tabindex:null==t?void 0:t.tabindex,theme:null==t?void 0:t.theme,type:null==t?void 0:t.type,size:null!==(r=null==t?void 0:t.size)&&void 0!==r?r:"invisible",badge:null==t?void 0:t.badge})}},{key:"createContainer",value:function(e){var t="recaptchaManager-".concat(this.siteKey),r=document.getElementById(t);return r||((r=document.createElement("div")).id=t,r.style.position="fixed",r.style.top="50%",r.style.left="50%",r.style.zIndex=e?"".concat(e):"10",document.body.appendChild(r)),r}},{key:"responseHandler",value:function(e){this.executionSuccessBlock&&(this.executionSuccessBlock(e),this.executionSuccessBlock=void 0)}},{key:"expiredHandler",value:function(){this.executionExpiredBlock&&(this.executionExpiredBlock(),this.executionExpiredBlock=void 0)}},{key:"errorHandler",value:function(){this.executionErrorBlock&&(this.executionErrorBlock(),this.executionErrorBlock=void 0)}}]),e}(),h=function(){function e(t){var r;c(this,e),this.recaptchaCache={},this.defaultSiteKey=null==t?void 0:t.defaultSiteKey,this.lazyLoader=null!==(r=null==t?void 0:t.lazyLoader)&&void 0!==r?r:new i.a,this.grecaptchaLibraryCache=null==t?void 0:t.grecaptchaLibrary}var t,r;return u(e,[{key:"getRecaptchaWidget",value:(r=a(regeneratorRuntime.mark((function e(t){var r,i,n,a,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=null!==(r=null==t?void 0:t.siteKey)&&void 0!==r?r:this.defaultSiteKey){e.next=3;break}throw new Error("The reCaptcha widget requires a site key");case 3:if(!(n=this.recaptchaCache[i])){e.next=6;break}return e.abrupt("return",n);case 6:return e.next=8,this.getRecaptchaLibrary();case 8:return a=e.sent,c=new s({siteKey:i,grecaptchaLibrary:a},null==t?void 0:t.recaptchaParams),this.recaptchaCache[i]=c,e.abrupt("return",c);case 12:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"getRecaptchaLibrary",value:(t=a(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.grecaptchaLibraryCache){e.next=2;break}return e.abrupt("return",this.grecaptchaLibraryCache);case 2:return e.abrupt("return",new Promise((function(e){window.grecaptchaLoadedCallback=function(){setTimeout((function(){delete window.grecaptchaLoadedCallback}),10),t.grecaptchaLibraryCache=window.grecaptcha,e(window.grecaptcha)},t.lazyLoader.loadScript({src:"https://www.google.com/recaptcha/api.js?onload=grecaptchaLoadedCallback&render=explicit"})})));case 3:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}()}}]);
//# sourceMappingURL=recaptchaManager.6022408b533c5d1c3568.js.map