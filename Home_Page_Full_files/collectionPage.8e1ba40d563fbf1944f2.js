(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{250:function(e,t,n){var r=n(1),i=Math.log,o=Math.LOG10E;r({target:"Math",stat:!0},{log10:function(e){return i(e)*o}})},347:function(e,t,n){var r=n(1),i=Math.log,o=Math.LN2;r({target:"Math",stat:!0},{log2:function(e){return i(e)/o}})},350:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return fu}));n(33),n(59),n(30),n(39),n(42),n(43),n(60),n(133),n(134),n(135),n(8),n(18),n(19),n(100),n(136),n(137),n(50),n(29),n(25),n(34),n(11),n(23),n(9),n(12),n(104),n(75),n(32),n(24),n(20),n(181),n(103),n(139),n(141),n(102),n(35),n(77),n(101),n(138),n(76),n(142),n(347),n(230),n(222),n(109),n(52);var r,i,o,a,s,c,l,u,d,f,p,h,m,y,v,b,g,w,k,x=n(5),O=n(0),j=n(216),E=n(13),S=n(239),C=n(287),T=n(232),P=n(249),A=n(293),R=n(292),D=(n(180),n(224),n(73)),_=n(72),I=n(44),z=n(140),M=n(74),L=n(234),B=n(235);n(105);function F(e){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function U(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function H(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function G(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function V(e,t,n){return t&&G(e.prototype,t),n&&G(e,n),e}function W(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&K(e,t)}function K(e,t){return(K=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$(e);if(t){var i=$(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return q(this,n)}}function q(e,t){return!t||"object"!==F(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function $(e){return($=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var X=function(e){W(n,e);var t=Y(n);function n(){var e;return H(this,n),(e=t.apply(this,arguments)).src="",e.alt="",e}return V(n,[{key:"render",value:function(){return Object(I.f)(r||(r=U(["\n      <div>\n        <img src="," alt=",' />\n        <div id="overlay"></div>\n      </div>\n    '])),this.src,this.alt)}}]),n}(_.c);X.styles=Object(_.a)(i||(i=U(["\n    :host {\n      display: block;\n    }\n\n    :host(.yellow) div#overlay {\n      background-color: #fefe81;\n    }\n\n    :host(.green) div#overlay {\n      background-color: #e3fdd5;\n    }\n\n    :host(.blue) div#overlay {\n      background-color: #e5f1fa;\n    }\n\n    :host(.yellow) img,\n    :host(.green) img,\n    :host(.blue) img {\n      mix-blend-mode: darken;\n    }\n\n    div {\n      display: flex;\n      flex-direction: column;\n      position: relative;\n    }\n\n    img {\n      object-fit: cover;\n      width: var(--ia-dl-resource-card-img-width, 160px);\n      height: 260px;\n    }\n\n    div#overlay {\n      position: absolute;\n      top: 0;\n      bottom: 0;\n      left: 0;\n      right: 0;\n      mix-blend-mode: color;\n    }\n  "]))),Object(D.a)([Object(M.a)({type:String})],X.prototype,"src",void 0),Object(D.a)([Object(M.a)({type:String})],X.prototype,"alt",void 0),X=Object(D.a)([Object(z.a)("item-preview-image")],X);var J=[{title:"JAN 6th COMMITTEE DOCS",collectionTitle:"Jan 6th Committee Docs",id:"report-final-report-jan-6-select-committee",blurb:"The United States House Select Committee to Investigate the January 6th Attack on the United States Capitol (the January 6th Committee) is a bipartisan select committee of the U.S. House of Representatives established to investigate the U.S. Capitol attack.",link:"https://archive.org/details/jan-6th-committee-docs",image:"https://archive.org/services/img/report-final-report-jan-6-select-committee"},{title:"EXCAVATION OF HUMMINGBIRD SHELTER",collectionTitle:"Bureau of Land Management Library",id:"excavationofhumm00conn",blurb:"The Bureau of Land Management's report on the excavation of Hummingbird Shelter, part of the White River Resource Area in Colorado, United States.",link:"https://archive.org/details/blmlibrary",image:"https://archive.org/services/img/excavationofhumm00conn"},{title:"ORGANIZED CRIME ON WALL STREET",collectionTitle:"U.S. Congressional Hearings",id:"gov.gpo.fdsys.CHRG-106hhrg67115",blurb:"The Committee on Commerce's hearing on the topic of organized crime on Wall Street. Part of the 106th Congress' second session, this hearing took place September 13, 2000.",link:"https://archive.org/details/us_house_hearings",image:"https://archive.org/services/img/gov.gpo.fdsys.CHRG-106hhrg67115"},{title:"WEATHER MODIFICATION IN ALBERTA",collectionTitle:"Government of Alberta Publications",id:"potentialforweat00advi",blurb:"Report to the Minister of Agriculture, Government of Alberta from the Advisory Committee on Weather Modification",link:"https://archive.org/details/albertagovernmentpublications",image:"https://archive.org/services/img/potentialforweat00advi"},{title:"EDIBLE & POISONOUS MUSHROOMS OF CANADA",collectionTitle:"Agriculture and Agri-Food Canada Library",id:"ediblepoisonousm00grov",blurb:'From the guide: "Actually there is only one test to find out whether a mushroom or any other plant is poisonous and that is to eat it. If it makes you sick or kills you it is poisonous."',link:"https://archive.org/details/canadianagriculturallibrary",image:"https://archive.org/services/img/ediblepoisonousm00grov"}],Q=function(e){W(n,e);var t=Y(n);function n(){return H(this,n),t.apply(this,arguments)}return V(n,[{key:"render",value:function(){return Object(I.f)(o||(o=U([" <slot></slot> "])))}}]),n}(_.c);Q.styles=Object(_.a)(a||(a=U(["\n    :host {\n      display: flex;\n      justify-content: space-around;\n      flex-flow: wrap;\n    }\n\n    ::slotted(*) {\n      width: 32%;\n      border: 1px solid transparent;\n      margin-bottom: 10px;\n      max-height: 350px;\n    }\n\n    @media only screen and (max-width: 500px) {\n      :host {\n        display: block;\n      }\n      ::slotted(*) {\n        width: 100%;\n      }\n    }\n\n    @media only screen and (min-width: 501px) and (max-width: 1300px) {\n      ::slotted(*) {\n        width: 48%;\n      }\n    }\n  "]))),Q=Object(D.a)([Object(z.a)("resources-highlights")],Q);var Z=[{id:"MH07D7178",title:"Fundraising for Social Change, Part One",image:"https://archive.org/services/img/MH07D7178"},{id:"CAT92272736",title:"Two keys for appraising forest fire fuels",image:"https://archive.org/services/img/CAT92272736"},{id:"CAT79708698031",title:"Hamburger—Questions and Answers",image:"https://archive.org/services/img/CAT79708698031"},{id:"usda-posters",title:"U.S. Department of Agriculture Poster Collection",image:"https://archive.org/services/img/CAT31123678"},{id:"selectedpolishso00army",title:"Selected Polish songs",image:"https://archive.org/services/img/selectedpolishso00army"},{id:"blueprintforfutu9611unit",title:"Blueprint for the future",image:"https://archive.org/services/img/blueprintforfutu9611unit"},{id:"introductionlapt00albe",title:"Introduction à la pâtisserie",image:"https://archive.org/services/img/introductionlapt00albe"},{id:"hintsonmountainl94youn",title:"Hints on mountain-lion trapping",image:"https://archive.org/services/img/hintsonmountainl94youn"},{id:"drylandfarmingin00cott",title:"Dry land farming in the Southwest",image:"https://archive.org/services/img/drylandfarmingin00cott"}],ee=[{cardTitle:"ABOUT THIS PROJECT",details:"Democracy's Library brings together more than 700 collections from over 50 government organizations, archived by the Internet Archive since 2006. With more than half a million documents (and counting) from local, regional, and national governments, we're just getting started!",link:"http://blog.archive.org/2022/09/06/building-democracys-library-celebrate-with-the-internet-archive-on-october-19/",linkText:"Learn more"},{cardTitle:"WHAT'S NEXT?",details:"This is just the beginning. Democracy's Library will continue to grow and be updated over time. We'll be adding more information from all over the world, along with useful tools to help find and access what you need. You can help us grow by making a contribution today!",link:"https://archive.org/donate/?origin=iawww-democlibrycllctn",linkText:"DONATE",donateCard:!0}],te=function(e){W(n,e);var t=Y(n);function n(){return H(this,n),t.apply(this,arguments)}return V(n,[{key:"render",value:function(){return Object(I.f)(s||(s=U([" <span><slot></slot></span> "])))}}]),n}(_.c);te.styles=Object(_.a)(c||(c=U(["\n    :host,\n    ::slotted(*) {\n      font-size: 2.5rem;\n    }\n    :host {\n      font-family: 'Teko', sans-serif;\n      padding: 10px 5px 5px 0;\n      background-repeat: no-repeat;\n      background-size: cover;\n      margin-bottom: 10px;\n      display: inline-block;\n      text-transform: uppercase;\n      line-height: 20px;\n      letter-spacing: 0.025em;\n      background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 379 115'%3E%3Cpath d='m2.41535907.06436505 93.98160413 2.05968771 93.9636758.42943203 93.981604 2.05968771 93.963677.42943203-.665728 8.52369197-2.808745 8.5057642-.665728 8.523692-2.808745 8.5057641-1.871974-.0001517-.305648 2.5778912 2.129108 16.5918028-.996866 8.389818-90.463508 2.9353281-90.36899 4.449321-70.310096 2.2808389 70.18701.1005118 94.051638 1.4916745 94.184497.1335401.687706 8.9709079-1.47682 9.4913393.690908 8.8960033-1.472546 9.39132-94.020429-3.36343-94.324131-2.010171-93.1214334-3.337782-94.27554848-2.008784 1.27882743-7.2656845-.85881548-7.374232 1.27882743-7.2656841-.85881547-7.3742321 7.71912497.1217028.0436635-1.448196 2.2974858-8.048923.2360666-7.9550062 2.2974858-8.0489229 89.0683703-4.7902162 158.503928-5.8247357-167.8631141-2.9324015-92.63274412.0113194 1.47781288-8.9465155-2.26795466-14.9397675z' fill='%23fefe81' fill-rule='evenodd'/%3E%3C/svg%3E\");\n    }\n\n    :host(.green) {\n      background-image: url(\"data:image/svg+xml,%3Csvg viewBox='0 0 379 115' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='m2.41535907.06436505 93.98160413 2.05968771 93.9636758.42943203 93.981604 2.05968771 93.963677.42943203-.665728 8.52369197-2.808745 8.5057642-.665728 8.523692-2.808745 8.5057641-1.871974-.0001517-.305648 2.5778912 2.129108 16.5918028-.996866 8.389818-90.463508 2.9353281-90.36899 4.449321-70.310096 2.2808389 70.18701.1005118 94.051638 1.4916745 94.184497.1335401.687706 8.9709079-1.47682 9.4913393.690908 8.8960033-1.472546 9.39132-94.020429-3.36343-94.324131-2.010171-93.1214334-3.337782-94.27554848-2.008784 1.27882743-7.2656845-.85881548-7.374232 1.27882743-7.2656841-.85881547-7.3742321 7.71912497.1217028.0436635-1.448196 2.2974858-8.048923.2360666-7.9550062 2.2974858-8.0489229 89.0683703-4.7902162 158.503928-5.8247357-167.8631141-2.9324015-92.63274412.0113194 1.47781288-8.9465155-2.26795466-14.9397675z' fill='%23e3fdd5' fill-rule='evenodd'/%3E%3C/svg%3E\");\n    }\n\n    :host(.black) {\n      background-image: none;\n      background-color: #000000;\n      padding: 10px 5px 5px 5px;\n      color: #ffffff;\n    }\n  "]))),te=Object(D.a)([Object(z.a)("dl-title")],te);var ne=function(e){W(n,e);var t=Y(n);function n(){return H(this,n),t.apply(this,arguments)}return V(n,[{key:"render",value:function(){return Object(I.f)(l||(l=U(["<slot></slot>"])))}}]),n}(_.c);ne.styles=Object(_.a)(u||(u=U(["\n    :host {\n      display: grid;\n      gap: 0px 20px;\n    }\n\n    ::slotted(*) {\n      border: 1px solid transparent;\n    }\n\n    ::slotted(*.title) {\n      grid-area: 1 / 1 / 2 / 8;\n    }\n\n    ::slotted(*.item-preview) {\n      grid-area: 2 / 1 / 8 / 3;\n    }\n\n    ::slotted(p.full-width) {\n      grid-area: 2 / 1 / 7 / 8;\n      margin-left: 0;\n    }\n\n    ::slotted(div.factoid-link) {\n      grid-column-end: 8;\n      grid-column-start: 1;\n    }\n\n    ::slotted(p) {\n      grid-area: 2 / 3 / 7 / 8;\n      overflow: auto;\n      padding: 0px 10px 10px 0;\n      margin: 0 auto;\n      word-break: break-word;\n    }\n\n    ::slotted(a.link-to-collection),\n    ::slotted(select) {\n      grid-area: 7 / 3 / 7 / 8;\n      vertical-align: baseline;\n      display: flex;\n    }\n\n    ::slotted(*.map-img) {\n      grid-area: 2 / 1 / 6 / 8;\n    }\n  "]))),ne=Object(D.a)([Object(z.a)("dl-article")],ne);var re=function(e){W(n,e);var t=Y(n);function n(){return H(this,n),t.apply(this,arguments)}return V(n,[{key:"render",value:function(){return Object(I.f)(d||(d=U(['\n      <section class="celebration-header">\n        <span class="celebration-title"\n          >Welcome to Democracy\'s Library collection.</span\n        >\n        <div class="pic"></div>\n        <div class="left"></div>\n        <div class="action-bar-section">\n          <slot name="action-bar-section"></slot>\n        </div>\n      </section>\n    '])))}}]),n}(_.c);re.styles=Object(_.a)(f||(f=U(["\n    :host {\n      position: relative;\n      display: block;\n      width: 100%;\n      height: 230px;\n      margin-bottom: 10px;\n    }\n\n    ::slotted(*.action-bar-section) {\n      height: 100%;\n      float: right;\n      padding: 0 10px;\n    }\n\n    section,\n    section > * {\n      height: inherit;\n    }\n\n    .celebration-title {\n      height: 1px;\n      width: 1px;\n      position: absolute;\n      margin-left: -1000px;\n      overflow: hidden;\n    }\n\n    .left {\n      position: absolute;\n      top: 0;\n      bottom: 0;\n      margin-left: 10px;\n      width: 100%;\n      background-repeat: no-repeat;\n      height: 100%;\n      z-index: 2;\n      pointer-events: none;\n      background-image: url('https://archive.org/download/democracys-library/web-component/banner-logo-rebrand.svg');\n    }\n\n    .pic {\n      z-index: 1;\n      top: 0px;\n      bottom: 0px;\n      margin: auto;\n      height: 100%;\n      background-repeat: no-repeat;\n      background-size: contain;\n      background-position: center bottom;\n      background-image: url('https://archive.org/download/democracys-library/web-component/banner-image-rebrand.webp');\n    }\n\n    .action-bar-section {\n      position: absolute;\n      top: 0;\n      right: 0;\n      bottom: 0;\n      min-width: 27px;\n    }\n\n    @media only screen and (min-width: 768px) {\n      .action-bar-section {\n        margin-right: 5px;\n      }\n    }\n\n    @media only screen and (min-width: 1301px) {\n      :host {\n        height: 230px !important;\n      }\n    }\n\n    @media only screen and (max-width: 1300px) {\n      :host {\n        height: 180px !important;\n      }\n    }\n\n    @media only screen and (max-width: 990px) {\n      :host {\n        height: 150px !important;\n      }\n    }\n\n    @media only screen and (max-width: 767px) {\n      :host {\n        height: var(--ia-dl-header-mobile-height, 88px) !important;\n      }\n      .left {\n        margin-left: 5px;\n      }\n    }\n  "]))),re=Object(D.a)([Object(z.a)("welcome-header")],re);var ie="https://webservices.archive.org/wgw/",oe="Government websites of the world",ae=function(e){W(i,e);var t,n,r=Y(i);function i(){var e;return H(this,i),(e=r.apply(this,arguments)).carousel1=Z,e.didYouKnow=ee,e.highlights=J,e.analytics=void 0,e.availableResources=void 0,e}return V(i,[{key:"firstUpdated",value:function(){this.fetchAvailableResources();var e=document.createElement("style");e.innerHTML='\n    @font-face {\n      font-family: "Teko";\n      src: url(https://archive.org/cors/democracys-library/web-component/Teko-SemiBold.ttf);\n    }',e.setAttribute("id","teko-font"),document.head.appendChild(e)}},{key:"disconnectedCallback",value:function(){var e=document.head.querySelector("#teko-font");e&&document.head.removeChild(e)}},{key:"fetchAvailableResources",value:(t=regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://archive.org/cors/democracys-library/web-component/regional-resources.json");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,Object.keys(n).length?this.availableResources=n:this.availableResources=void 0;case 8:case"end":return e.stop()}}),e,this)})),n=function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(e){N(o,r,i,a,s,"next",e)}function s(e){N(o,r,i,a,s,"throw",e)}a(void 0)}))},function(){return n.apply(this,arguments)})},{key:"factoids",get:function(){var e=this;return this.didYouKnow.map((function(t){return Object(I.f)(p||(p=U(['\n        <dl-article tabindex="0">\n          <div class="title">\n            <dl-title class=','>\n              <h3 class="did-you-know-title">','</h3>\n            </dl-title>\n          </div>\n          <p class="full-width" tabindex="0">','</p>\n          <div class="factoid-link">\n            <a\n              href=','\n              target="_blank"\n              class="factoid-link ','"\n              @click=',"\n              >","</a\n            >\n          </div>\n        </dl-article>\n      "])),"black",t.cardTitle,t.details,t.link,t.donateCard?"donate":"",(function(){var n;null===(n=e.analytics)||void 0===n||n.sendEvent({category:"DemocracysLibrary",action:"FactoidLinkClicked",label:t.link})}),t.linkText)}))}},{key:"resourceCard",value:function(e,t){var n=this;return Object(I.f)(h||(h=U(['\n      <dl-article tabindex="0">\n        <div class="title">\n          <dl-title class="black"><h3>','</h3></dl-title>\n        </div>\n        <a\n          class="item-preview"\n          href=','\n          target="_blank"\n          title=',"\n          @click=","\n        >\n          <item-preview-image\n            src=","\n            class=",'\n          ></item-preview-image>\n        </a>\n        <p tabindex="0">','</p>\n        <a\n          class="link-to-collection"\n          href=','\n          tab="_blank"\n          @click=',"\n          >Browse the ","</a\n        >\n      </dl-article>\n    "])),e.title,"https://archive.org/details/".concat(e.id),"Explore item: ".concat(e.id),(function(){var t;null===(t=n.analytics)||void 0===t||t.sendEvent({category:"DemocracysLibrary",action:"ResourceCardItemImageClick",label:e.id})}),e.image,null!=t?t:"",e.blurb,e.link,(function(){var t;null===(t=n.analytics)||void 0===t||t.sendEvent({category:"DemocracysLibrary",action:"ResourceCardCollectionLinkClick",label:e.link})}),e.collectionTitle)}},{key:"carouselCard",value:function(e,t){var n=this,r="https://archive.org/details/".concat(e.id);return Object(I.f)(m||(m=U(["\n      <a\n        href=",'\n        target="_blank"\n        title=',"\n        @click=","\n      >\n        <item-preview-image\n          src=","\n          class=","\n        ></item-preview-image>\n      </a>\n    "])),r,"Explore item: ".concat(e.title),(function(){var t;null===(t=n.analytics)||void 0===t||t.sendEvent({category:"DemocracysLibrary",action:"CarouselCardClick",label:e.id})}),e.image,null!=t?t:"")}},{key:"topCarousel",get:function(){var e=this;return Object(I.f)(y||(y=U(['\n      <dl-title class="black"><h3>','</h3></dl-title>\n      <section id="carousel-1" class="carousel">\n        ',"\n      </section>\n    "])),"COLLECTION HIGHLIGHTS",this.carousel1.map((function(t){return e.carouselCard(t,"blue")})))}},{key:"resourcesOptions",get:function(){var e,t=this,n=Object.keys(null!==(e=this.availableResources)&&void 0!==e?e:{});return Object(I.f)(v||(v=U(["\n      <option>Select an organization</option>\n      ","\n    "])),Object(L.b)(n,(function(e){return e}),(function(e){var n,r,i=null!==(r=null===(n=t.availableResources)||void 0===n?void 0:n[e])&&void 0!==r?r:[];return Object(I.f)(b||(b=U(["\n            <optgroup label=",">\n              ","\n            </optgroup>\n          "])),e,Object(B.a)(i,(function(e){var t=e.URL,n=e["Organization Name"];return Object(I.f)(g||(g=U(["\n                  <option .value="," data-url=",">","</option>\n                "])),t,t,n)})))})))}},{key:"resourceSelected",value:function(e){var t,n=(null==e?void 0:e.target).value;null===(t=this.analytics)||void 0===t||t.sendEvent({category:"DemocracysLibrary",action:"ResourceSelected",label:n}),window.location.href=n}},{key:"render",value:function(){var e=this;return Object(I.f)(w||(w=U(['\n      <section id="democracys-library-main">\n        <welcome-header>\n          <div slot="action-bar-section">\n            <slot name="action-bar-section"></slot>\n          </div>\n        </welcome-header>\n        <section id="top-carousel" class="one-col-margin">\n          ','\n        </section>\n        <section id="did-you-know" class="one-col-margin">\n          ','\n        </section>\n        <resources-highlights class="one-col-margin">\n          <dl-article tabindex="0">\n            <div class="title">\n              <dl-title class="black"><h3>REGIONAL ORGANIZATIONS</h3></dl-title>\n            </div>\n            <div class="map-img">\n              <img\n                src="https://archive.org/cors/democracys-library/web-component/US%2BCA%20map.png"\n                alt="map of united states and canada"\n              />\n              <div class="map-overlay"></div>\n            </div>\n            <div id="resources-options">\n              <label\n                for="select-resources"\n                style="position: absolute; height: 1px; width: 1px; margin-left: -1000px; overflow: hidden;"\n                >Here are some resources:</label\n              >\n              <select\n                id="select-resources"\n                @change=',"\n              >\n                ",'\n              </select>\n              <a\n                class="gov-world-sites"\n                href=',"\n                @click=","\n                >","</a\n              >\n            </div>\n          </dl-article>\n          ","\n        </resources-highlights>\n      </section>\n    "])),this.topCarousel,this.factoids,(function(t){return e.resourceSelected(t)}),this.resourcesOptions,ie,(function(){var t;null===(t=e.analytics)||void 0===t||t.sendEvent({category:"DemocracysLibrary",action:"AitGovWorldSites",label:ie})}),oe,this.highlights.map((function(t){return e.resourceCard(t,"blue")})))}}]),i}(_.c);ae.styles=Object(_.a)(k||(k=U(["\n    :host {\n      display: block;\n      color: var(--ia-democracys-library-text-color, #000);\n      font-size: 1.5rem;\n      font-family: Helvetica Neue, Helvetica, sans-serif;\n      height: auto;\n    }\n\n    :host(:focus) {\n      outline: none;\n    }\n\n    h3 {\n      margin: 0;\n      /** Teko is already bold, adding for safari's default styling */\n      font-weight: initial;\n    }\n\n    a {\n      color: #4b64ff;\n      text-decoration: none;\n    }\n\n    @media only screen and (min-width: 501px) and (max-width: 650px) {\n      resources-highlights {\n        --ia-dl-resource-card-img-width: 110px !important;\n      }\n    }\n\n    welcome-header {\n      background-color: #e5f1fa;\n    }\n\n    section#democracys-library-main {\n      display: flex;\n      flex-direction: column;\n    }\n    section#democracys-library-main > *:not(:first-child) {\n      margin-top: 10px;\n    }\n\n    /** Did You Know */\n    section#did-you-know {\n      display: flex;\n      gap: 20px;\n    }\n    section#did-you-know > * {\n      border: 1px solid transparent;\n      width: 50%;\n      padding-bottom: 10px;\n    }\n    .did-you-know-title {\n      vertical-align: initial;\n      background-size: 28px;\n      background-position: 0 25%;\n    }\n\n    @media only screen and (max-width: 550px) {\n      section#did-you-know > * {\n        width: 100%;\n      }\n    }\n    @media only screen and (max-width: 768px) {\n      section > .one-col-margin {\n        margin-left: 10px;\n        margin-right: 10px;\n        overflow: hidden;\n      }\n    }\n    /** End Did You Know */\n\n    /* MAP */\n    .map-img {\n      width: 100%;\n      overflow: hidden;\n      position: relative;\n      max-height: 220px;\n    }\n\n    .map-img img {\n      object-fit: contain;\n      height: 100%;\n      width: 100%;\n    }\n\n    .map-overlay {\n      background-color: #e5f1fa;\n      position: absolute;\n      top: 0;\n      bottom: 0;\n      left: 0;\n      right: 0;\n      mix-blend-mode: color;\n    }\n    .gov-world-sites {\n      padding: 5px 5px 5px 0;\n      display: block;\n    }\n    /* End MAP */\n\n    /** Resources */\n    #resources-options {\n      grid-area: 6 / 1 / 6 / 8;\n      width: 95%;\n      left: auto;\n    }\n\n    #resources-options > select {\n      width: 100%;\n      display: block;\n    }\n\n    a.donate {\n      border: 1px solid black;\n      padding: 5px 20px;\n      font-family: 'Teko', sans-serif;\n      font-size: 20px;\n      text-decoration: none;\n      color: #000 !important;\n      background-color: #e3fdd5;\n      box-shadow: 5px 5px #333;\n    }\n    a.donate:active {\n      background-color: #b5caaa;\n      box-shadow: 2px 2px #333;\n      border: 2px inner solid #e3fdd5;\n    }\n    /** End Resources */\n\n    /* Carousel */\n    .carousel {\n      overflow-x: auto;\n      display: flex;\n      gap: 20px;\n      scroll-snap-type: x mandatory;\n      padding-bottom: 10px;\n      scrollbar-width: none; /* Firefox */\n    }\n    .carousel > * {\n      scroll-snap-align: center;\n      display: block;\n      position: relative;\n    }\n    .carousel::-webkit-scrollbar {\n      display: none; /* Safari and Chrome */\n    }\n    /* End Carousel */\n  "]))),Object(D.a)([Object(M.a)({type:Array})],ae.prototype,"carousel1",void 0),Object(D.a)([Object(M.a)({type:Array})],ae.prototype,"didYouKnow",void 0),Object(D.a)([Object(M.a)({type:Array})],ae.prototype,"highlights",void 0),Object(D.a)([Object(M.a)({type:Object})],ae.prototype,"analytics",void 0),Object(D.a)([Object(M.a)({type:Object})],ae.prototype,"availableResources",void 0),ae=Object(D.a)([Object(z.a)("ia-democracys-library")],ae);var se,ce,le,ue,de,fe,pe,he,me,ye,ve,be,ge,we,ke,xe,Oe,je,Ee,Se,Ce,Te,Pe=n(143),Ae=n(78);n(219);function Re(e){return(Re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function De(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ie(e,t){return(Ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ze(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Le(e);if(t){var i=Le(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Me(this,n)}}function Me(e,t){return!t||"object"!==Re(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Le(e){return(Le=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Be(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function Fe(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Be(o,r,i,a,s,"next",e)}function s(e){Be(o,r,i,a,s,"throw",e)}a(void 0)}))}}function Ne(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Ue=Object.assign,He=Object(_.a)(se||(se=Ne(["var(--white, #fff)"]))),Ge=Object(_.a)(ce||(ce=Ne(["var(--primaryDisableCTAFill, #767676)"]))),Ve=Object(_.a)(le||(le=Ne(["var(--secondaryCTABorder, #999)"]))),We=Object(_.a)(ue||(ue=Ne(["var(--primaryCTAFill, #194880)"]))),Ke=Object(_.a)(de||(de=Ne(["var(--primaryCTAFillRGB, 25, 72, 128)"]))),Ye=Object(_.a)(fe||(fe=Ne(["var(--primaryCTABorder, #c5d1df)"]))),qe=Object(_.a)(pe||(pe=Ne(["var(--primaryErrorCTAFill, #d9534f)"]))),$e=Object(_.a)(he||(he=Ne(["var(--primaryErrorCTAFillRGB, 229, 28, 38)"]))),Xe=Object(_.a)(me||(me=Ne(["var(--primaryErrorCTABorder, #d43f3a)"]))),Je=Object(_.a)(ye||(ye=Ne(["var(--secondaryCTAFill, #333)"]))),Qe=Object(_.a)(ve||(ve=Ne(["var(--secondaryCTAFillRGB, 51, 51, 51)"]))),Ze=Object(_.a)(be||(be=Ne(["var(--primaryCTABorder, #979797)"]))),et=Object(_.a)(ge||(ge=Ne(["#ee8950"]))),tt=Object(_.a)(we||(we=Ne(["#ec7939"]))),nt=Object(_.a)(ke||(ke=Ne(["\n  .ia-button {\n    height: 3.5rem;\n    min-height: 3rem;\n    cursor: pointer;\n    color: ",";\n    line-height: normal;\n    border-radius: 0.4rem;\n    font-size: 1.4rem;\n    font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;\n    border: 1px solid transparent;\n    white-space: nowrap;\n    appearance: auto;\n    box-sizing: border-box;\n    display: flex;\n    align-items: center;\n    transition: all 0.1s ease 0s;\n    vertical-align: middle;\n    padding: 0 3rem;\n    outline-color: ",";\n    outline-offset: -4px;\n    user-select: none;\n    text-decoration: none;\n    width: fit-content;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    -o-user-select: none;\n  }\n  .ia-button:focus-visible {\n    outline-style: double;\n  }\n  .ia-button:disabled {\n    cursor: not-allowed;\n    background-color: ",";\n    border: 1px solid ",";\n  }\n  .ia-button.transparent {\n    background-color: transparent;\n  }\n  .ia-button.warning {\n    background-color: ","\n    border-color: ",";\n  }\n\n  .ia-button.primary {\n    background-color: ",";\n    border-color: ",";\n  }\n  .ia-button.primary:hover {\n    background-color: rgba(",", 0.9);\n  }\n  .ia-button.primary:focus-visible {\n    background-color: rgba(",", 0.8);\n  }\n  .ia-button.primary:active {\n    background-color: rgba(",", 0.7);\n  }\n\n  .ia-button.danger {\n    background-color: ",";\n    border-color: ",";\n  }\n  .ia-button.danger:hover {\n    background-color: rgba(",", 0.9);\n  }\n  .ia-button.danger:focus-visible {\n    background-color: rgba(",", 0.8);\n  }\n  .ia-button.danger:active {\n    background-color: rgba(",", 0.7);\n  }\n\n  .ia-button.dark {\n    background-color: ",";\n    border-color: ",";\n  }\n  .ia-button.dark:hover {\n    background-color: rgba(",", 0.9);\n  }\n  .ia-button.dark:focus-visible {\n    background-color: rgba(",", 0.8);\n  }\n  .ia-button.dark:active {\n    background-color: rgba(",", 0.7);\n  }\n"])),He,He,Ge,Ve,et,tt,We,Ye,Ke,Ke,Ke,qe,Xe,$e,$e,$e,Je,Ze,Qe,Qe,Qe),rt="localhost"===location.hostname||"local.archive.org"===location.hostname||location.host.match(/^(www|cat)-[a-z0-9]+\.archive\.org$/)||location.host.match(/\.code\.archive\.org$/)||location.host.match(/\.dev\.archive\.org$/)||location.host.match(/^ia-petabox-/)?console.log.bind(console):function(){};function it(e){return ot.apply(this,arguments)}function ot(){return(ot=Fe(regeneratorRuntime.mark((function e(t){var n,r,i,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ue({action:null,identifier:"",file:null,getParam:"",endpoint:"",headers:{},callback:function(){}},t),i={},o="",a=null===window||void 0===window?void 0:window.location,o="/demo/"===(null==a?void 0:a.pathname)?"/demo/":"".concat(r.endpoint,"?").concat(r.getParam),e.prev=5,e.next=8,fetch(o,{method:"POST",headers:r.headers,body:null!==(n=r.file)&&void 0!==n?n:null}).then((function(e){return rt("response",e),"/demo/"===o&&"verify-upload"===r.action?{success:!0,item_last_updated:1}:"save-file"===r.action&&200===e.status?(r.callback(e),{}):0!==e.status?e.json():void 0})).then((function(e){"save-file"===r.action&&rt("file saved, metadata call started to verify is picture is upadated!"),i=e}));case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(5),rt(e.t0);case 13:return e.abrupt("return",i);case 14:case"end":return e.stop()}}),e,null,[[5,10]])})))).apply(this,arguments)}var at=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ie(e,t)}(s,e);var t,n,r,i,o,a=ze(s);function s(){var e;return De(this,s),(e=a.apply(this,arguments)).identifier="",e.endpoint="/services/post-file.php",e.picture="",e.type="compact",e.lookingAtMyAccount=!1,e.maxFileSizeInMB=8,e.validFileTypes=["image/jpeg","image/png","image/gif"],e.taskStatus="",e.fileValidationError="",e.showDropper=!1,e.fileTypeMessage="Image file must be a JPEG, PNG, or GIF.",e.fileSizeMessage="",e.relatedTarget="",e}return t=s,n=[{key:"firstUpdated",value:function(){this.fileSizeMessage="Image file must be less than ".concat(this.maxFileSizeInMB,"MB."),this.renderInput(),this.lookingAtMyAccount&&this.bindEvents()}},{key:"renderInput",value:function(){var e,t,n,r=this,i=document.createElement("input");i.type="file",i.accept="image/*",i.multiple=!1,null===(e=this.profileSection)||void 0===e||e.addEventListener("mouseenter",(function(){var e;null===(e=r.profileSection)||void 0===e||e.classList.add("profile-hover")})),null===(t=this.dropRegion)||void 0===t||t.addEventListener("click",(function(){i.click()})),null===(n=this.uploadRegion)||void 0===n||n.addEventListener("click",(function(){i.click()})),i.addEventListener("change",(function(){var e=i.files;r.handleSelectedFiles(e)}))}},{key:"dragOver",value:function(e){var t,n,r;this.preventDefault(e),null===(t=this.selfSubmitEle)||void 0===t||t.classList.remove("hidden"),this.showLoadingIndicator||null===(n=this.selfSubmitEle)||void 0===n||n.classList.add("drag-over"),null===(r=this.overlay)||void 0===r||r.classList.add("window-drag-over")}},{key:"dragLeave",value:function(e){var t,n,r;this.preventDefault(e),this.relatedTarget===e.target&&(this.showLoadingIndicator||(null===(t=this.selfSubmitEle)||void 0===t||t.classList.remove("drag-over"),null===(n=this.selfSubmitEle)||void 0===n||n.classList.add("hidden")),null===(r=this.overlay)||void 0===r||r.classList.remove("window-drag-over"))}},{key:"drop",value:function(e){var t,n;this.preventDefault(e),null===(t=this.selfSubmitEle)||void 0===t||t.classList.remove("drag-over"),null===(n=this.overlay)||void 0===n||n.classList.remove("window-drag-over"),this.showLoadingIndicator||this.cancelFile()}},{key:"bindEvents",value:function(){var e,t,n=this;document.addEventListener("dragenter",(function(e){n.relatedTarget=e.target}),!1),document.addEventListener("dragover",(function(e){return n.dragOver(e)}),!1),document.addEventListener("dragleave",(function(e){return n.dragLeave(e)}),!0),document.addEventListener("drop",(function(e){return n.drop(e)}),!1),null===document||void 0===document||document.addEventListener("saveProfileAvatar",(function(e){var t;(null===(t=n.fileSelector)||void 0===t?void 0:t.files.length)&&n.handleSaveFile(e)})),[this.overlay,this.dropRegion,this.selfSubmitEle].forEach((function(e){return null==e?void 0:e.addEventListener("drop",n.handleDropImage.bind(n),!1)})),null===(e=this.saveFile)||void 0===e||e.addEventListener("submit",this.handleSaveFile.bind(this),!1),null===(t=this.fileSelector)||void 0===t||t.addEventListener("change",(function(){var e=n.fileSelector.files;n.handleSelectedFiles(e)}))}},{key:"preventDefault",value:function(e){e.preventDefault(),e.stopPropagation()}},{key:"handleDropImage",value:function(e){var t,n;if(this.preventDefault(e),null===(t=this.selfSubmitEle)||void 0===t||t.classList.remove("drag-over"),!this.showLoadingIndicator){var r=null===(n=null==e?void 0:e.dataTransfer)||void 0===n?void 0:n.files;(null==r?void 0:r.length)&&this.handleSelectedFiles(r)}}},{key:"previewImage",value:function(e){var t,n,r;this.showDropper=!0,(r="full"===this.type?document.createElement("img"):null===(t=this.dropRegion)||void 0===t?void 0:t.querySelector("img")).alt="profile picture";var i=new FileReader;if(i.onload=function(e){var t;r.src=null===(t=e.target)||void 0===t?void 0:t.result},"full"===this.type){var o=null===(n=this.selfSubmitEle)||void 0===n?void 0:n.querySelector(".full-preview");null==o||o.appendChild(r)}i.readAsDataURL(e)}},{key:"validateImage",value:function(e){this.fileValidationError="";var t=this.validFileTypes,n=1024*this.maxFileSizeInMB*1024;return-1===t.indexOf(e.type)?(this.fileValidationError=this.fileTypeMessage,!1):!(e.size>n&&(this.fileValidationError=this.fileSizeMessage,1))}},{key:"handleSelectedFiles",value:(o=Fe(regeneratorRuntime.mark((function e(t){var n,r,i,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=null===(n=this.selfSubmitEle)||void 0===n?void 0:n.querySelector(".image-preview"),null===(r=this.overlay)||void 0===r||r.classList.remove("window-drag-over"),"full"===this.type&&(null===(i=this.selfSubmitEle)||void 0===i||i.classList.remove("hidden")),!t.length||!this.validateImage(t[0])){e.next=10;break}if("full"===this.type)for(;(null==a?void 0:a.firstChild)&&a.removeChild(a.firstChild););return e.next=7,this.previewImage(t[0]);case 7:this.fileSelector&&(this.fileSelector.files=t),e.next=12;break;case 10:for(t.length||this.cancelFile();(null==a?void 0:a.firstChild)&&a.removeChild(a.firstChild););case 12:this.dispatchEvent(new CustomEvent("fileChanged",{detail:{error:null!==(o=this.fileValidationError)&&void 0!==o?o:""}}));case 13:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"handleSaveFile",value:(i=Fe(regeneratorRuntime.mark((function e(t){var n,r,i,o,a=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.preventDefault(t),this.showLoadingIndicator=!0,null===(n=this.selfSubmitEle)||void 0===n||n.classList.add("vertical-center"),this.taskStatus="waiting for your tasks to queue",i=null===(r=this.fileSelector)||void 0===r?void 0:r.files[0],o="identifier=".concat(this.identifier,"&fname=").concat(encodeURIComponent(i.name),"&submit=1"),e.next=8,it({action:"save-file",identifier:this.identifier,file:i,getParam:o,endpoint:this.endpoint,headers:{"Content-type":"multipart/form-data; charset=UTF-8"},callback:function(){var e=Fe(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(rt("callback invoked!",a.type),"full"!==a.type){e.next=4;break}return e.next=4,a.metadataAPIExecution();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()});case 8:this.dispatchEvent(new Event("fileUploaded")),"compact"===this.type&&(this.showLoadingIndicator=!1),this.fileSelector&&(this.fileSelector.value="");case 11:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"metadataAPIExecution",value:function(){var e=this,t=Math.round(Date.now()/1e3),n=setInterval(Fe(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:it({action:"verify-upload",endpoint:"https://archive.org/metadata/".concat(e.identifier,"?rand=").concat(Math.random())}).then((function(r){var i=r.pending_tasks&&r.tasks?r.tasks.length:0;i?r.tasks.filter((function(e){return 2===e.wait_admin})).length?(e.taskStatus="status task failure -- an admin will need to resolve",clearInterval(n)):e.taskStatus="waiting for your ".concat(i," tasks to finish"):r.item_last_updated<t?e.taskStatus="waiting for your tasks to queue":(clearInterval(n),e.taskStatus="reloading page with your image",window.location.reload())}));case 2:case"end":return r.stop()}}),r)}))),2e3)}},{key:"cancelFile",value:function(){var e,t,n,r=null===(e=this.selfSubmitEle)||void 0===e?void 0:e.querySelector(".image-preview");for(this.fileSelector&&(this.fileSelector.value=""),this.showDropper=!1,this.showLoadingIndicator=!1,this.fileValidationError="",null===(t=this.selfSubmitEle)||void 0===t||t.classList.add("hidden"),null===(n=this.profileSection)||void 0===n||n.classList.remove("profile-hover");(null==r?void 0:r.firstChild)&&r.removeChild(r.firstChild););}},{key:"loadingIndicatorTemplate",get:function(){return Object(I.f)(xe||(xe=Ne([' <ia-activity-indicator\n      mode="processing"\n      class="go-button-loading-icon"\n    ></ia-activity-indicator>'])))}},{key:"selfSubmitFormTemplate",get:function(){var e=this,t=encodeURIComponent("".concat(this.endpoint,"?identifier=").concat(this.identifier,"&submit=1"));return Object(I.f)(Oe||(Oe=Ne(['\n      <div class="self-submit-form hidden">\n        <button\n          class="close-button \n          ',"\n          ",'"\n          @click=',"\n        >\n          &#10060;\n        </button>\n        ",'\n        <span\n          class="drag-text ','"\n          @keyup=""\n          @click=',"\n          >",'</span\n        >\n        <button\n          id="file-picker"\n          @click=','\n          class="ia-button primary ','"\n        >\n          Pick image to upload\n        </button>\n        <span class="error">','</span>\n        <form\n          method="post"\n          id="save-file"\n          enctype="multipart/form-data"\n          action="','"\n        >\n          <input\n            class="file-selector"\n            name="file"\n            type="file"\n            accept="image/*"\n            style="display: none;"\n          />\n          <input type="hidden" name="identifier" .value="','" />\n          <button\n            id="file-submit"\n            type="submit"\n            name="submit"\n            value="SUBMIT"\n            class="ia-button\n            ',"\n            ",'"\n          >\n            ','\n          </button>\n        </form>\n        <div\n          class="image-preview full-preview \n          ','"\n          @keyup=""\n          @click=',"\n        ></div>\n      </div>\n    "])),!this.showDropper&&""===this.fileValidationError||this.showLoadingIndicator?"hidden":"",this.showLoadingIndicator?"pointer-none":"",(function(){e.cancelFile()}),this.showLoadingIndicator?this.loadingIndicatorTemplate:this.plusSVGTemplate(35,35,"#969696","#fff"),this.showLoadingIndicator?"pointer-none":"",(function(){var t;null===(t=e.dropRegion)||void 0===t||t.click()}),this.taskStatus?this.taskStatus:"Drag & Drop an image file here or",(function(){var t;null===(t=e.dropRegion)||void 0===t||t.click()}),this.showLoadingIndicator?"pointer-none hidden":"",this.fileValidationError,t,this.identifier,this.showDropper&&""===this.fileValidationError?"":"hidden",this.fileValidationError||this.showLoadingIndicator?"pointer-none hidden":"",this.showLoadingIndicator?this.loadingIndicatorTemplate:"Submit",this.showLoadingIndicator?"pointer-none hidden":"",(function(){var t;null===(t=e.dropRegion)||void 0===t||t.click()}))}},{key:"selectFileTemplate",get:function(){return Object(I.f)(je||(je=Ne(['\n      <div class="select-region">\n        <input\n          class="file-selector"\n          name="file"\n          type="file"\n          accept="image/*"\n          style="display: none;"\n        />\n        <div class="select-message">\n          Drop a new image onto<br />your picture here or<br />\n          <a\n            href="#"\n            id="upload-region"\n            class="','"\n            >select an image to upload</a\n          >\n        </div>\n      </div>\n      <span class="error">',"</span>\n    "])),this.showLoadingIndicator?"pointer-none":"",this.fileValidationError)}},{key:"overlayTemplate",get:function(){var e=this;return Object(I.f)(Ee||(Ee=Ne(['\n      <div\n        class="overlay ','"\n        @keyup="','"\n        @click=',"\n      >\n        ","\n      </div>\n    "])),this.showLoadingIndicator?"show-overlay pointer-none":"",(function(){}),(function(){var t;null===(t=e.dropRegion)||void 0===t||t.click()}),this.showLoadingIndicator?this.loadingIndicatorTemplate:this.plusSVGTemplate(25,25,"#fff","#333333"))}},{key:"plusSVGTemplate",value:function(e,t,n,r){return Object(I.d)(Se||(Se=Ne(['<svg \n      class="plus-icon"  \n      width="','" \n      height="','" \n      viewBox="0 0 26 26" \n      fill="none" \n      xmlns="http://www.w3.org/2000/svg"\n    >\n      <circle cx="12.8137" cy="13.3699" r="12.5" fill="','"/>\n      <path d="M11.3137 5.36987H14.3137V21.3699H11.3137V5.36987Z" fill="','"/>\n      <path d="M4.56366 14.8699V11.8699H21.0637V14.8699H4.56366Z" fill="','"/>\n    </svg>\n    '])),t,e,n,r,r)}},{key:"render",value:function(){return Object(I.f)(Ce||(Ce=Ne(['\n      <div\n        class="profile-section profile-hover \n        ',"\n        ",'\n      "\n      >\n        ','\n        <div\n          id="drop-region"\n          class="image-preview \n            ',"\n            ",'"\n        >\n          <img alt="user profile" src="','" />\n        </div>\n        ',"\n      </div>\n      ","\n    "])),this.lookingAtMyAccount?"":"pointer-none","full"===this.type?"adjust-full":"","compact"===this.type?this.overlayTemplate:I.a,"full"===this.type?"full-preview":"",this.showLoadingIndicator?"pointer-none":"",this.picture,"full"===this.type?this.selfSubmitFormTemplate:I.a,"compact"===this.type?this.selectFileTemplate:I.a)}}],r=[{key:"styles",get:function(){return Object(_.a)(Te||(Te=Ne(["\n      ","\n\n      :host {\n        font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;\n        display: inline-block;\n      }\n\n      :host *:focus,\n      :host *:focus-visible {\n        outline: none;\n      }\n\n      a,\n      a:hover,\n      a:focus {\n        color: #4b64ff;\n      }\n\n      .profile-section,\n      .select-region {\n        display: inline-block;\n        vertical-align: middle;\n        margin-right: 10px;\n        position: relative;\n        font-size: 1.4rem;\n      }\n\n      .profile-section {\n        border-radius: 100%;\n        width: fit-content;\n        line-height: normal;\n        height: fit-content;\n      }\n\n      .adjust-full {\n        width: fit-content;\n      }\n\n      .profile-section > .full-preview img {\n        max-height: 100px;\n        max-width: 200px;\n      }\n\n      .profile-section:hover .overlay {\n        display: block;\n        z-index: 1;\n      }\n\n      .show-overlay {\n        display: block !important;\n        z-index: 1;\n        background: none !important;\n      }\n\n      .show-overlay + .image-preview img {\n        box-shadow: 0 0 45px rgba(0, 0, 0, 0.1);\n        opacity: 0.2;\n      }\n\n      .profile-hover:hover .self-submit-form {\n        display: block;\n      }\n\n      .image-preview {\n        border-radius: 100%;\n      }\n\n      .image-preview img {\n        height: 120px;\n        width: 120px;\n        max-height: 120px;\n        max-width: 120px;\n        background-size: cover;\n        border-radius: 50%;\n        text-align: center;\n        cursor: pointer;\n        transition: all 0.3s ease 0s;\n        position: relative;\n        overflow: hidden;\n      }\n\n      .overlay:hover + .image-preview img,\n      .overlay.window-drag-over + .image-preview img,\n      .image-preview:hover img {\n        box-shadow: 0 0 45px rgba(0, 0, 0, 0.1);\n        opacity: 0.5;\n        cursor: pointer;\n      }\n\n      .overlay {\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        border-radius: 100%;\n        transform: translate(-50%, -50%);\n        text-align: center;\n        cursor: pointer;\n        font-size: 2rem;\n        font-weight: bold;\n        display: none;\n        padding: 5px;\n        min-width: 16px;\n        line-height: 1.5rem;\n      }\n\n      .full-preview img {\n        cursor: default;\n        width: auto;\n        height: 100%;\n        border-radius: 0% !important;\n      }\n\n      .vertical-center {\n        top: 10px !important;\n      }\n\n      .self-submit-form {\n        box-sizing: border-box;\n        background: white;\n        border: 3px solid #ccc;\n        border-radius: 10px;\n        position: absolute;\n        top: -14px;\n        left: 50%;\n        transform: translate(-50%, 0);\n        width: 200px;\n        padding: 11px;\n        text-align: center;\n        justify-content: center;\n        z-index: 3;\n        justify-items: center;\n      }\n\n      @media(max-width: 1350px) {\n        .self-submit-form {\n          left: 100%;\n        }\n      }\n\n      .plus-icon {\n        pointer-events: none;\n      }\n\n      .self-submit-form .full-preview img {\n        height: auto;\n      }\n\n      .close-button {\n        position: absolute;\n        right: 5px;\n        top: 5px;\n        padding: 5px;\n        border: none;\n        font-size: 1rem;\n        background: white;\n      }\n      .close-button:hover {\n        cursor: pointer;\n      }\n\n      .self-submit-form.drag-over {\n        border: 3px dashed #ccc;\n      }\n\n      .self-submit-form .drag-text {\n        font-weight: bold;\n        font-size: 1.2rem;\n        cursor: default;\n        color: #000;\n        text-align: center;\n        display: -webkit-box;\n        -webkit-line-clamp: 2;\n        -webkit-box-orient: vertical;\n        overflow: hidden;\n        margin-bottom: 15px;\n      }\n\n      .window-drag-over {\n        display: block;\n        z-index: 1;\n      }\n\n      .hidden {\n        display: none;\n      }\n\n      .pointer-none {\n        pointer-events: none;\n      }\n\n      #file-picker {\n        margin: 2px auto;\n        padding: 0 1rem;\n      }\n\n      #file-submit {\n        padding: 0 1rem;\n        margin: 4px auto;\n        background-color: #5cb85c;\n        justify-content: center;\n        width: 8rem;\n        border-color: #4cae4c;\n      }\n\n      #file-submit:hover {\n        background-color: #47a447;\n        border-color: #398439;\n      }\n\n      .error {\n        margin: 3px 0px;\n        font-size: 1.2rem;\n        color: #bb0505;\n        overflow: hidden;\n        word-wrap: unset;\n        display: -webkit-box;\n        -webkit-line-clamp: 3;\n        -webkit-box-orient: vertical;\n      }\n\n      .self-submit-form ia-activity-indicator {\n        display: inline-block;\n        width: 20px;\n        color: white;\n        margin-top: 2px;\n        --activityIndicatorLoadingRingColor: #000;\n        --activityIndicatorLoadingDotColor: #000;\n      }\n\n      .show-overlay ia-activity-indicator {\n        display: inline-block;\n        width: 25px;\n        color: white;\n        margin-top: 2px;\n        --activityIndicatorLoadingRingColor: #000;\n        --activityIndicatorLoadingDotColor: #000;\n      }\n    "])),nt)}}],n&&_e(t.prototype,n),r&&_e(t,r),s}(_.c);Object(D.a)([Object(M.a)({type:String})],at.prototype,"identifier",void 0),Object(D.a)([Object(M.a)({type:String})],at.prototype,"endpoint",void 0),Object(D.a)([Object(M.a)({type:String})],at.prototype,"picture",void 0),Object(D.a)([Object(M.a)({type:String})],at.prototype,"type",void 0),Object(D.a)([Object(M.a)({type:Boolean})],at.prototype,"lookingAtMyAccount",void 0),Object(D.a)([Object(M.a)({type:Number})],at.prototype,"maxFileSizeInMB",void 0),Object(D.a)([Object(M.a)({type:Number})],at.prototype,"validFileTypes",void 0),Object(D.a)([Object(Pe.a)()],at.prototype,"showLoadingIndicator",void 0),Object(D.a)([Object(Pe.a)()],at.prototype,"taskStatus",void 0),Object(D.a)([Object(Pe.a)()],at.prototype,"fileValidationError",void 0),Object(D.a)([Object(Pe.a)()],at.prototype,"showDropper",void 0),Object(D.a)([Object(Ae.a)("#drop-region")],at.prototype,"dropRegion",void 0),Object(D.a)([Object(Ae.a)("#upload-region")],at.prototype,"uploadRegion",void 0),Object(D.a)([Object(Ae.a)(".profile-section")],at.prototype,"profileSection",void 0),Object(D.a)([Object(Ae.a)(".overlay")],at.prototype,"overlay",void 0),Object(D.a)([Object(Ae.a)(".plus-icon")],at.prototype,"plusIcon",void 0),Object(D.a)([Object(Ae.a)("#save-file")],at.prototype,"saveFile",void 0),Object(D.a)([Object(Ae.a)(".self-submit-form")],at.prototype,"selfSubmitEle",void 0),Object(D.a)([Object(Ae.a)(".file-selector")],at.prototype,"fileSelector",void 0),at=Object(D.a)([Object(z.a)("ia-pic-uploader")],at);n(299),n(251);var st,ct,lt,ut=n(213);function dt(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function ft(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pt(e,t){return(pt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ht(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vt(e);if(t){var i=vt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return mt(this,n)}}function mt(e,t){return!t||"object"!==bt(t)&&"function"!=typeof t?yt(e):t}function yt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vt(e){return(vt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function bt(e){return(bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gt(){gt=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){["method","field"].forEach((function(n){t.forEach((function(t){t.kind===n&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var n=e.prototype;["method","field"].forEach((function(r){t.forEach((function(t){var i=t.placement;if(t.kind===r&&("static"===i||"prototype"===i)){var o="static"===i?e:n;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var n=t.descriptor;if("field"===t.kind){var r=t.initializer;n={enumerable:n.enumerable,writable:n.writable,configurable:n.configurable,value:void 0===r?void 0:r.call(e)}}Object.defineProperty(e,t.key,n)},decorateClass:function(e,t){var n=[],r=[],i={static:[],prototype:[],own:[]};if(e.forEach((function(e){this.addElementPlacement(e,i)}),this),e.forEach((function(e){if(!xt(e))return n.push(e);var t=this.decorateElement(e,i);n.push(t.element),n.push.apply(n,t.extras),r.push.apply(r,t.finishers)}),this),!t)return{elements:n,finishers:r};var o=this.decorateConstructor(n,t);return r.push.apply(r,o.finishers),o.finishers=r,o},addElementPlacement:function(e,t,n){var r=t[e.placement];if(!n&&-1!==r.indexOf(e.key))throw new TypeError("Duplicated element ("+e.key+")");r.push(e.key)},decorateElement:function(e,t){for(var n=[],r=[],i=e.decorators,o=i.length-1;o>=0;o--){var a=t[e.placement];a.splice(a.indexOf(e.key),1);var s=this.fromElementDescriptor(e),c=this.toElementFinisherExtras((0,i[o])(s)||s);e=c.element,this.addElementPlacement(e,t),c.finisher&&r.push(c.finisher);var l=c.extras;if(l){for(var u=0;u<l.length;u++)this.addElementPlacement(l[u],t);n.push.apply(n,l)}}return{element:e,finishers:r,extras:n}},decorateConstructor:function(e,t){for(var n=[],r=t.length-1;r>=0;r--){var i=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[r])(i)||i);if(void 0!==o.finisher&&n.push(o.finisher),void 0!==o.elements){e=o.elements;for(var a=0;a<e.length-1;a++)for(var s=a+1;s<e.length;s++)if(e[a].key===e[s].key&&e[a].placement===e[s].placement)throw new TypeError("Duplicated element ("+e[a].key+")")}}return{elements:e,finishers:n}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return(t=e,function(e){if(Array.isArray(e))return e}(t)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return St(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?St(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map((function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var n=Et(e.key),r=String(e.placement);if("static"!==r&&"prototype"!==r&&"own"!==r)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+r+'"');var i=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:n,placement:r,descriptor:Object.assign({},i)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(i,"get","The property descriptor of a field descriptor"),this.disallowProperty(i,"set","The property descriptor of a field descriptor"),this.disallowProperty(i,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:jt(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:e.map(this.fromElementDescriptor,this)};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var n=jt(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:n}},runClassFinishers:function(e,t){for(var n=0;n<t.length;n++){var r=(0,t[n])(e);if(void 0!==r){if("function"!=typeof r)throw new TypeError("Finishers must return a constructor.");e=r}}return e},disallowProperty:function(e,t,n){if(void 0!==e[t])throw new TypeError(n+" can't have a ."+t+" property.")}};return e}function wt(e){var t,n=Et(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var r={kind:"field"===e.kind?"field":"method",key:n,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(r.decorators=e.decorators),"field"===e.kind&&(r.initializer=e.value),r}function kt(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function xt(e){return e.decorators&&e.decorators.length}function Ot(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function jt(e,t){var n=e[t];if(void 0!==n&&"function"!=typeof n)throw new TypeError("Expected '"+t+"' to be a function");return n}function Et(e){var t=function(e,t){if("object"!==bt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==bt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===bt(t)?t:String(t)}function St(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ct,Tt,Pt,At;!function(e,t,n,r){var i=gt();if(r)for(var o=0;o<r.length;o++)i=r[o](i);var a=t((function(e){i.initializeInstanceElements(e,s.elements)}),n),s=i.decorateClass(function(e){for(var t=[],n=function(e){return"method"===e.kind&&e.key===o.key&&e.placement===o.placement},r=0;r<e.length;r++){var i,o=e[r];if("method"===o.kind&&(i=t.find(n)))if(Ot(o.descriptor)||Ot(i.descriptor)){if(xt(o)||xt(i))throw new ReferenceError("Duplicated methods ("+o.key+") can't be decorated.");i.descriptor=o.descriptor}else{if(xt(o)){if(xt(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+o.key+").");i.decorators=o.decorators}kt(o,i)}else t.push(o)}return t}(a.d.map(wt)),e);i.initializeClassElements(a.F,s.elements),i.runClassFinishers(a.F,s.finishers)}([Object(O.a)("remove-items-modal-content")],(function(e,t){return{F:function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pt(e,t)}(r,t);var n=ht(r);function r(){var t;ft(this,r);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=n.call.apply(n,[this].concat(o)),e(yt(t)),t}return r}(t),d:[{kind:"field",decorators:[Object(O.b)({type:Object})],key:"items",value:function(){return[]}},{kind:"method",key:"render",value:function(){return Object(x.c)(st||(st=dt(["\n      <ul>\n        ",'\n      </ul>\n      <div class="button-bar">\n        <button class="remove-items-btn" @click=',">\n          ","\n        </button>\n      </div>\n    "])),Object(ut.a)(this.items,(function(e){var t=e.title,n=e.date;return Object(x.c)(ct||(ct=dt(['\n            <li>\n              <span class="item-title">','</span>\n              <span class="item-date">',"</span>\n            </li>\n          "])),null!=t?t:"[untitled]",null!=n?n:"")})),this.removeItemsBtnClicked,Object(E.c)("Remove items"))}},{kind:"method",key:"removeItemsBtnClicked",value:function(){this.dispatchEvent(new CustomEvent("confirm",{detail:{items:this.items}}))}},{kind:"get",static:!0,key:"styles",value:function(){return Object(x.b)(lt||(lt=dt(["\n      ul {\n        margin: 0;\n        padding: 0 10px;\n        font-size: 1.4rem;\n        list-style-type: none;\n        max-height: min(400px, 40vh);\n        overflow-y: auto;\n      }\n\n      li {\n        display: flex;\n        justify-content: space-between;\n        padding: 2px 0;\n      }\n      li:not(:last-of-type) {\n        border-bottom: 1px solid rgb(232, 232, 232);\n      }\n\n      .item-title {\n        word-break: break-word;\n      }\n\n      .item-date {\n        white-space: nowrap;\n      }\n\n      .button-bar {\n        display: flex;\n        justify-content: center;\n        margin: 10px 5px;\n      }\n\n      .remove-items-btn {\n        margin-bottom: 10px;\n        padding: 10px;\n        border: 1px solid var(--primaryErrorCTABorder, #d43f3a);\n        border-radius: 4px;\n        color: white;\n        background: var(--primaryErrorCTAFill, #d9534f);\n        appearance: none;\n        cursor: pointer;\n      }\n      .remove-items-btn:hover {\n        background: rgba(var(--primaryErrorCTAFillRGB, 229, 28, 38), 0.9);\n      }\n      .remove-items-btn:active {\n        background: rgba(var(--primaryErrorCTAFillRGB, 229, 28, 38), 0.7);\n      }\n    "])))}}]}}),x.a);function Rt(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Dt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _t(e,t){return(_t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function It(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Lt(e);if(t){var i=Lt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return zt(this,n)}}function zt(e,t){return!t||"object"!==Bt(t)&&"function"!=typeof t?Mt(e):t}function Mt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lt(e){return(Lt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Bt(e){return(Bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ft(){Ft=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){["method","field"].forEach((function(n){t.forEach((function(t){t.kind===n&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var n=e.prototype;["method","field"].forEach((function(r){t.forEach((function(t){var i=t.placement;if(t.kind===r&&("static"===i||"prototype"===i)){var o="static"===i?e:n;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var n=t.descriptor;if("field"===t.kind){var r=t.initializer;n={enumerable:n.enumerable,writable:n.writable,configurable:n.configurable,value:void 0===r?void 0:r.call(e)}}Object.defineProperty(e,t.key,n)},decorateClass:function(e,t){var n=[],r=[],i={static:[],prototype:[],own:[]};if(e.forEach((function(e){this.addElementPlacement(e,i)}),this),e.forEach((function(e){if(!Ht(e))return n.push(e);var t=this.decorateElement(e,i);n.push(t.element),n.push.apply(n,t.extras),r.push.apply(r,t.finishers)}),this),!t)return{elements:n,finishers:r};var o=this.decorateConstructor(n,t);return r.push.apply(r,o.finishers),o.finishers=r,o},addElementPlacement:function(e,t,n){var r=t[e.placement];if(!n&&-1!==r.indexOf(e.key))throw new TypeError("Duplicated element ("+e.key+")");r.push(e.key)},decorateElement:function(e,t){for(var n=[],r=[],i=e.decorators,o=i.length-1;o>=0;o--){var a=t[e.placement];a.splice(a.indexOf(e.key),1);var s=this.fromElementDescriptor(e),c=this.toElementFinisherExtras((0,i[o])(s)||s);e=c.element,this.addElementPlacement(e,t),c.finisher&&r.push(c.finisher);var l=c.extras;if(l){for(var u=0;u<l.length;u++)this.addElementPlacement(l[u],t);n.push.apply(n,l)}}return{element:e,finishers:r,extras:n}},decorateConstructor:function(e,t){for(var n=[],r=t.length-1;r>=0;r--){var i=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[r])(i)||i);if(void 0!==o.finisher&&n.push(o.finisher),void 0!==o.elements){e=o.elements;for(var a=0;a<e.length-1;a++)for(var s=a+1;s<e.length;s++)if(e[a].key===e[s].key&&e[a].placement===e[s].placement)throw new TypeError("Duplicated element ("+e[a].key+")")}}return{elements:e,finishers:n}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return(t=e,function(e){if(Array.isArray(e))return e}(t)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return Kt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Kt(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map((function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var n=Wt(e.key),r=String(e.placement);if("static"!==r&&"prototype"!==r&&"own"!==r)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+r+'"');var i=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:n,placement:r,descriptor:Object.assign({},i)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(i,"get","The property descriptor of a field descriptor"),this.disallowProperty(i,"set","The property descriptor of a field descriptor"),this.disallowProperty(i,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:Vt(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:e.map(this.fromElementDescriptor,this)};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var n=Vt(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:n}},runClassFinishers:function(e,t){for(var n=0;n<t.length;n++){var r=(0,t[n])(e);if(void 0!==r){if("function"!=typeof r)throw new TypeError("Finishers must return a constructor.");e=r}}return e},disallowProperty:function(e,t,n){if(void 0!==e[t])throw new TypeError(n+" can't have a ."+t+" property.")}};return e}function Nt(e){var t,n=Wt(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var r={kind:"field"===e.kind?"field":"method",key:n,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(r.decorators=e.decorators),"field"===e.kind&&(r.initializer=e.value),r}function Ut(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function Ht(e){return e.decorators&&e.decorators.length}function Gt(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function Vt(e,t){var n=e[t];if(void 0!==n&&"function"!=typeof n)throw new TypeError("Expected '"+t+"' to be a function");return n}function Wt(e){var t=function(e,t){if("object"!==Bt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Bt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Bt(t)?t:String(t)}function Kt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Yt,qt,$t,Xt;(function(e,t,n,r){var i=Ft();if(r)for(var o=0;o<r.length;o++)i=r[o](i);var a=t((function(e){i.initializeInstanceElements(e,s.elements)}),n),s=i.decorateClass(function(e){for(var t=[],n=function(e){return"method"===e.kind&&e.key===o.key&&e.placement===o.placement},r=0;r<e.length;r++){var i,o=e[r];if("method"===o.kind&&(i=t.find(n)))if(Gt(o.descriptor)||Gt(i.descriptor)){if(Ht(o)||Ht(i))throw new ReferenceError("Duplicated methods ("+o.key+") can't be decorated.");i.descriptor=o.descriptor}else{if(Ht(o)){if(Ht(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+o.key+").");i.decorators=o.decorators}Ut(o,i)}else t.push(o)}return t}(a.d.map(Nt)),e);i.initializeClassElements(a.F,s.elements),i.runClassFinishers(a.F,s.finishers)})([Object(O.a)("tab-manager")],(function(e,t){return{F:function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_t(e,t)}(r,t);var n=It(r);function r(){var t;Dt(this,r);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=n.call.apply(n,[this].concat(o)),e(Mt(t)),t}return r}(t),d:[{kind:"field",decorators:[Object(O.b)({type:Object})],key:"tabs",value:void 0},{kind:"field",decorators:[Object(O.b)({type:String})],key:"activeTabId",value:void 0},{kind:"method",key:"render",value:function(){var e,t,n,r=this;return(null==(e=this.tabs)?void 0:e.length)?(void 0===this.activeTabId&&(this.activeTabId=this.tabs[0].id),Object(x.c)(Tt||(Tt=Rt(['\n      <div class="tab-manager-container">\n        <div class="tabs-row">\n          <ul class="tabs">\n            ','\n          </ul>\n        </div>\n        <div class="active-tab-content">\n          <slot name="','"></slot>\n        </div>\n      </div>\n    '])),Object(ut.a)(this.tabs,(function(e){return Object(x.c)(Pt||(Pt=Rt(['\n                <li class="tab ','">\n                  <button\n                    data-tab-id=',"\n                    @click=","\n                  >\n                    ","\n                  </button>\n                </li>\n              "])),r.isActiveTab(e)?"active":"",e.id,(function(){return r.handleTabClick(e.id)}),e.name)})),null!=(n=null==(t=this.activeTab)?void 0:t.id)?n:x.d)):Object(x.c)(Ct||(Ct=Rt(["",""])),x.d)}},{kind:"method",key:"handleTabClick",value:function(e){var t=this.activeTabId;this.activeTabId=e,this.activeTabId!==t&&this.dispatchEvent(new CustomEvent("tabChanged",{detail:this.activeTabId}))}},{kind:"get",key:"activeTab",value:function(){var e,t=this;return null==(e=this.tabs)?void 0:e.find((function(e){return t.isActiveTab(e)}))}},{kind:"method",key:"isActiveTab",value:function(e){return this.activeTabId===e.id}},{kind:"get",static:!0,key:"styles",value:function(){return Object(x.b)(At||(At=Rt(["\n      .tabs-row {\n        position: relative;\n        background: var(--ia-theme-secondary-background-color, white);\n        padding: 10px 5px 0;\n        z-index: 2;\n      }\n\n      .tabs {\n        display: flex;\n        margin: 0 auto 10px;\n        padding: 0;\n        column-gap: 10px;\n        max-width: var(--app-page-max-width, 1350px);\n      }\n\n      .tab {\n        list-style: none;\n      }\n\n      .tab.active {\n        border-bottom: 3px solid var(--ia-theme-primary-text-color, #2c2c2c);\n      }\n\n      .tab > button {\n        appearance: none;\n        margin: 0;\n        padding: 5px;\n        border: 0;\n        background: transparent;\n        color: var(--ia-theme-primary-text-color, #2c2c2c);\n        opacity: calc(9 / 15);\n        text-transform: uppercase;\n        cursor: pointer;\n      }\n\n      .tab.active > button {\n        color: var(--ia-theme-primary-text-color, #2c2c2c);\n      }\n\n      .active-tab-content {\n        margin: 0 auto;\n        padding: 0 5px;\n        max-width: var(--app-page-max-width, 1350px);\n      }\n    "])))}}]}}),x.a),n(51);function Jt(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Qt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zt(e,t){return(Zt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function en(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=rn(e);if(t){var i=rn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return tn(this,n)}}function tn(e,t){return!t||"object"!==on(t)&&"function"!=typeof t?nn(e):t}function nn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rn(e){return(rn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function on(e){return(on="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function an(){an=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){["method","field"].forEach((function(n){t.forEach((function(t){t.kind===n&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var n=e.prototype;["method","field"].forEach((function(r){t.forEach((function(t){var i=t.placement;if(t.kind===r&&("static"===i||"prototype"===i)){var o="static"===i?e:n;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var n=t.descriptor;if("field"===t.kind){var r=t.initializer;n={enumerable:n.enumerable,writable:n.writable,configurable:n.configurable,value:void 0===r?void 0:r.call(e)}}Object.defineProperty(e,t.key,n)},decorateClass:function(e,t){var n=[],r=[],i={static:[],prototype:[],own:[]};if(e.forEach((function(e){this.addElementPlacement(e,i)}),this),e.forEach((function(e){if(!ln(e))return n.push(e);var t=this.decorateElement(e,i);n.push(t.element),n.push.apply(n,t.extras),r.push.apply(r,t.finishers)}),this),!t)return{elements:n,finishers:r};var o=this.decorateConstructor(n,t);return r.push.apply(r,o.finishers),o.finishers=r,o},addElementPlacement:function(e,t,n){var r=t[e.placement];if(!n&&-1!==r.indexOf(e.key))throw new TypeError("Duplicated element ("+e.key+")");r.push(e.key)},decorateElement:function(e,t){for(var n=[],r=[],i=e.decorators,o=i.length-1;o>=0;o--){var a=t[e.placement];a.splice(a.indexOf(e.key),1);var s=this.fromElementDescriptor(e),c=this.toElementFinisherExtras((0,i[o])(s)||s);e=c.element,this.addElementPlacement(e,t),c.finisher&&r.push(c.finisher);var l=c.extras;if(l){for(var u=0;u<l.length;u++)this.addElementPlacement(l[u],t);n.push.apply(n,l)}}return{element:e,finishers:r,extras:n}},decorateConstructor:function(e,t){for(var n=[],r=t.length-1;r>=0;r--){var i=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[r])(i)||i);if(void 0!==o.finisher&&n.push(o.finisher),void 0!==o.elements){e=o.elements;for(var a=0;a<e.length-1;a++)for(var s=a+1;s<e.length;s++)if(e[a].key===e[s].key&&e[a].placement===e[s].placement)throw new TypeError("Duplicated element ("+e[a].key+")")}}return{elements:e,finishers:n}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return(t=e,function(e){if(Array.isArray(e))return e}(t)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return pn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pn(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map((function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var n=fn(e.key),r=String(e.placement);if("static"!==r&&"prototype"!==r&&"own"!==r)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+r+'"');var i=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:n,placement:r,descriptor:Object.assign({},i)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(i,"get","The property descriptor of a field descriptor"),this.disallowProperty(i,"set","The property descriptor of a field descriptor"),this.disallowProperty(i,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:dn(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:e.map(this.fromElementDescriptor,this)};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var n=dn(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:n}},runClassFinishers:function(e,t){for(var n=0;n<t.length;n++){var r=(0,t[n])(e);if(void 0!==r){if("function"!=typeof r)throw new TypeError("Finishers must return a constructor.");e=r}}return e},disallowProperty:function(e,t,n){if(void 0!==e[t])throw new TypeError(n+" can't have a ."+t+" property.")}};return e}function sn(e){var t,n=fn(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var r={kind:"field"===e.kind?"field":"method",key:n,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(r.decorators=e.decorators),"field"===e.kind&&(r.initializer=e.value),r}function cn(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function ln(e){return e.decorators&&e.decorators.length}function un(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function dn(e,t){var n=e[t];if(void 0!==n&&"function"!=typeof n)throw new TypeError("Expected '"+t+"' to be a function");return n}function fn(e){var t=function(e,t){if("object"!==on(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==on(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===on(t)?t:String(t)}function pn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var hn,mn,yn,vn;!function(e,t,n,r){var i=an();if(r)for(var o=0;o<r.length;o++)i=r[o](i);var a=t((function(e){i.initializeInstanceElements(e,s.elements)}),n),s=i.decorateClass(function(e){for(var t=[],n=function(e){return"method"===e.kind&&e.key===o.key&&e.placement===o.placement},r=0;r<e.length;r++){var i,o=e[r];if("method"===o.kind&&(i=t.find(n)))if(un(o.descriptor)||un(i.descriptor)){if(ln(o)||ln(i))throw new ReferenceError("Duplicated methods ("+o.key+") can't be decorated.");i.descriptor=o.descriptor}else{if(ln(o)){if(ln(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+o.key+").");i.decorators=o.decorators}cn(o,i)}else t.push(o)}return t}(a.d.map(sn)),e);i.initializeClassElements(a.F,s.elements),i.runClassFinishers(a.F,s.finishers)}([Object(O.a)("collection-created-by")],(function(e,t){return{F:function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zt(e,t)}(r,t);var n=en(r);function r(){var t;Qt(this,r);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=n.call.apply(n,[this].concat(o)),e(nn(t)),t}return r}(t),d:[{kind:"field",decorators:[Object(O.b)({type:Object})],key:"creationDate",value:void 0},{kind:"field",decorators:[Object(O.b)({type:String})],key:"creator",value:void 0},{kind:"field",decorators:[Object(O.b)({type:String})],key:"baseNavigationUrl",value:void 0},{kind:"method",key:"render",value:function(){var e,t,n,r;return this.creationDate||this.creator?Object(x.c)(Yt||(Yt=Jt(['\n      <div class="created-by-container">\n        <div class="created-by-left">\n          <h3 class="created-header">','</h3>\n          <div class="created-date">',"</div>\n        </div>\n        ","\n      </div>\n    "])),Object(E.c)("Created on"),this.formattedDate,this.creator?Object(x.c)(qt||(qt=Jt(['<div class="creator">\n              <user-badge\n                identifier=',"\n                screenName=","\n                ?admin=","\n                .baseNavigationUrl=","\n              ></user-badge>\n            </div>"])),null==(e=this.creator)?void 0:e.useritem,null==(t=this.creator)?void 0:t.screen_name,null!=(r=null==(n=this.creator)?void 0:n.is_archivist)&&r,this.baseNavigationUrl):x.d):x.d}},{kind:"get",key:"formattedDate",value:function(){var e=this.creationDate;if(!e)return x.d;var t=Intl.DateTimeFormat("en-US",{dateStyle:"long"}).format(e).split(",");return Object(x.c)($t||($t=Jt(["","<br />",""])),t[0],t[1])}},{kind:"get",static:!0,key:"styles",value:function(){return Object(x.b)(Xt||(Xt=Jt(["\n      .created-by-container {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        padding: 2rem;\n        border: 1px solid #ccc;\n      }\n\n      .created-by-left {\n        display: flex;\n        flex-direction: column;\n        padding: 0 20px;\n        text-align: center;\n      }\n\n      .created-header {\n        margin: 0;\n        font-size: 1rem;\n        font-weight: normal;\n      }\n\n      .created-date {\n        font-size: 1.8rem;\n        line-height: 1.2;\n        white-space: nowrap;\n      }\n\n      .creator {\n        padding: 0 20px;\n        border-left: 1px solid #ccc;\n        font-size: 2.2rem;\n      }\n    "])))}}]}}),x.a);function bn(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function gn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wn(e,t){return(wn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function kn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=jn(e);if(t){var i=jn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return xn(this,n)}}function xn(e,t){return!t||"object"!==En(t)&&"function"!=typeof t?On(e):t}function On(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jn(e){return(jn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function En(e){return(En="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Sn(){Sn=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){["method","field"].forEach((function(n){t.forEach((function(t){t.kind===n&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var n=e.prototype;["method","field"].forEach((function(r){t.forEach((function(t){var i=t.placement;if(t.kind===r&&("static"===i||"prototype"===i)){var o="static"===i?e:n;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var n=t.descriptor;if("field"===t.kind){var r=t.initializer;n={enumerable:n.enumerable,writable:n.writable,configurable:n.configurable,value:void 0===r?void 0:r.call(e)}}Object.defineProperty(e,t.key,n)},decorateClass:function(e,t){var n=[],r=[],i={static:[],prototype:[],own:[]};if(e.forEach((function(e){this.addElementPlacement(e,i)}),this),e.forEach((function(e){if(!Pn(e))return n.push(e);var t=this.decorateElement(e,i);n.push(t.element),n.push.apply(n,t.extras),r.push.apply(r,t.finishers)}),this),!t)return{elements:n,finishers:r};var o=this.decorateConstructor(n,t);return r.push.apply(r,o.finishers),o.finishers=r,o},addElementPlacement:function(e,t,n){var r=t[e.placement];if(!n&&-1!==r.indexOf(e.key))throw new TypeError("Duplicated element ("+e.key+")");r.push(e.key)},decorateElement:function(e,t){for(var n=[],r=[],i=e.decorators,o=i.length-1;o>=0;o--){var a=t[e.placement];a.splice(a.indexOf(e.key),1);var s=this.fromElementDescriptor(e),c=this.toElementFinisherExtras((0,i[o])(s)||s);e=c.element,this.addElementPlacement(e,t),c.finisher&&r.push(c.finisher);var l=c.extras;if(l){for(var u=0;u<l.length;u++)this.addElementPlacement(l[u],t);n.push.apply(n,l)}}return{element:e,finishers:r,extras:n}},decorateConstructor:function(e,t){for(var n=[],r=t.length-1;r>=0;r--){var i=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[r])(i)||i);if(void 0!==o.finisher&&n.push(o.finisher),void 0!==o.elements){e=o.elements;for(var a=0;a<e.length-1;a++)for(var s=a+1;s<e.length;s++)if(e[a].key===e[s].key&&e[a].placement===e[s].placement)throw new TypeError("Duplicated element ("+e[a].key+")")}}return{elements:e,finishers:n}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return(t=e,function(e){if(Array.isArray(e))return e}(t)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return _n(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_n(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map((function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var n=Dn(e.key),r=String(e.placement);if("static"!==r&&"prototype"!==r&&"own"!==r)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+r+'"');var i=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:n,placement:r,descriptor:Object.assign({},i)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(i,"get","The property descriptor of a field descriptor"),this.disallowProperty(i,"set","The property descriptor of a field descriptor"),this.disallowProperty(i,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:Rn(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:e.map(this.fromElementDescriptor,this)};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var n=Rn(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:n}},runClassFinishers:function(e,t){for(var n=0;n<t.length;n++){var r=(0,t[n])(e);if(void 0!==r){if("function"!=typeof r)throw new TypeError("Finishers must return a constructor.");e=r}}return e},disallowProperty:function(e,t,n){if(void 0!==e[t])throw new TypeError(n+" can't have a ."+t+" property.")}};return e}function Cn(e){var t,n=Dn(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var r={kind:"field"===e.kind?"field":"method",key:n,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(r.decorators=e.decorators),"field"===e.kind&&(r.initializer=e.value),r}function Tn(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function Pn(e){return e.decorators&&e.decorators.length}function An(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function Rn(e,t){var n=e[t];if(void 0!==n&&"function"!=typeof n)throw new TypeError("Expected '"+t+"' to be a function");return n}function Dn(e){var t=function(e,t){if("object"!==En(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==En(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===En(t)?t:String(t)}function _n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var In,zn,Mn;!function(e,t,n,r){var i=Sn();if(r)for(var o=0;o<r.length;o++)i=r[o](i);var a=t((function(e){i.initializeInstanceElements(e,s.elements)}),n),s=i.decorateClass(function(e){for(var t=[],n=function(e){return"method"===e.kind&&e.key===o.key&&e.placement===o.placement},r=0;r<e.length;r++){var i,o=e[r];if("method"===o.kind&&(i=t.find(n)))if(An(o.descriptor)||An(i.descriptor)){if(Pn(o)||Pn(i))throw new ReferenceError("Duplicated methods ("+o.key+") can't be decorated.");i.descriptor=o.descriptor}else{if(Pn(o)){if(Pn(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+o.key+").");i.decorators=o.decorators}Tn(o,i)}else t.push(o)}return t}(a.d.map(Cn)),e);i.initializeClassElements(a.F,s.elements),i.runClassFinishers(a.F,s.finishers)}([Object(O.a)("user-badge")],(function(e,t){var n=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wn(e,t)}(r,t);var n=kn(r);function r(){var t;gn(this,r);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=n.call.apply(n,[this].concat(o)),e(On(t)),t}return r}(t);return{F:n,d:[{kind:"field",static:!0,key:"DEFAULT_AVATAR_SRC",value:function(){return"https://archive.org/images/person2.png"}},{kind:"field",decorators:[Object(O.b)({type:String})],key:"identifier",value:void 0},{kind:"field",decorators:[Object(O.b)({type:String})],key:"screenName",value:void 0},{kind:"field",decorators:[Object(O.b)({type:Boolean})],key:"admin",value:function(){return!1}},{kind:"field",decorators:[Object(O.b)({type:String})],key:"baseNavigationUrl",value:void 0},{kind:"method",key:"render",value:function(){return Object(x.c)(hn||(hn=bn(['<div class="user-badge">\n      '," ","\n    </div>"])),this.avatarTemplate,this.nameAndTitleTemplate)}},{kind:"get",key:"avatarTemplate",value:function(){return Object(x.c)(mn||(mn=bn(['\n      <a class="user-avatar-link" href=','>\n        <img\n          class="user-avatar"\n          src=',"\n          alt=","\n        />\n      </a>\n    "])),this.userAccountPageUrl,this.userAvatarUrl,this.screenName)}},{kind:"get",key:"nameAndTitleTemplate",value:function(){return Object(x.c)(yn||(yn=bn(['\n      <div>\n        <div class="user-name">\n          <a href=',">",'</a>\n        </div>\n        <div class="user-title">\n          ',"\n        </div>\n      </div>\n    "])),this.userAccountPageUrl,this.screenName,this.admin?Object(E.c)("Archivist"):Object(E.c)("Member"))}},{kind:"get",key:"userAccountPageUrl",value:function(){return this.canBuildUrls?"".concat(this.baseNavigationUrl,"/details/").concat(this.identifier):x.d}},{kind:"get",key:"userAvatarUrl",value:function(){return this.canBuildUrls?"".concat(this.baseNavigationUrl,"/services/img/").concat(this.identifier):n.DEFAULT_AVATAR_SRC}},{kind:"get",key:"canBuildUrls",value:function(){return!!this.identifier&&null!=this.baseNavigationUrl}},{kind:"get",static:!0,key:"styles",value:function(){return Object(x.b)(vn||(vn=bn(["\n      /* The user account page links do not show visited state and are never underlined */\n      a[href] {\n        color: var(--ia-theme-link-color, #4b64ff);\n        text-decoration: none;\n      }\n\n      .user-badge {\n        display: flex;\n        align-items: center;\n        column-gap: 10px;\n      }\n\n      .user-avatar-link {\n        line-height: 0;\n      }\n\n      .user-avatar {\n        display: block;\n        width: 45px;\n        height: 45px;\n        border-radius: 50%;\n        box-shadow: 1px 1px 2px rgba(0, 0, 0, 0.33);\n        object-position: center center;\n        object-fit: cover;\n      }\n\n      .user-name {\n        font-size: 1.4rem;\n        font-weight: bold;\n      }\n\n      .user-title {\n        font-size: 1.2rem;\n      }\n    "])))}}]}}),x.a);function Ln(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Bn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fn(e,t){return(Fn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Nn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Gn(e);if(t){var i=Gn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Un(this,n)}}function Un(e,t){return!t||"object"!==Vn(t)&&"function"!=typeof t?Hn(e):t}function Hn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gn(e){return(Gn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Vn(e){return(Vn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wn(){Wn=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){["method","field"].forEach((function(n){t.forEach((function(t){t.kind===n&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var n=e.prototype;["method","field"].forEach((function(r){t.forEach((function(t){var i=t.placement;if(t.kind===r&&("static"===i||"prototype"===i)){var o="static"===i?e:n;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var n=t.descriptor;if("field"===t.kind){var r=t.initializer;n={enumerable:n.enumerable,writable:n.writable,configurable:n.configurable,value:void 0===r?void 0:r.call(e)}}Object.defineProperty(e,t.key,n)},decorateClass:function(e,t){var n=[],r=[],i={static:[],prototype:[],own:[]};if(e.forEach((function(e){this.addElementPlacement(e,i)}),this),e.forEach((function(e){if(!qn(e))return n.push(e);var t=this.decorateElement(e,i);n.push(t.element),n.push.apply(n,t.extras),r.push.apply(r,t.finishers)}),this),!t)return{elements:n,finishers:r};var o=this.decorateConstructor(n,t);return r.push.apply(r,o.finishers),o.finishers=r,o},addElementPlacement:function(e,t,n){var r=t[e.placement];if(!n&&-1!==r.indexOf(e.key))throw new TypeError("Duplicated element ("+e.key+")");r.push(e.key)},decorateElement:function(e,t){for(var n=[],r=[],i=e.decorators,o=i.length-1;o>=0;o--){var a=t[e.placement];a.splice(a.indexOf(e.key),1);var s=this.fromElementDescriptor(e),c=this.toElementFinisherExtras((0,i[o])(s)||s);e=c.element,this.addElementPlacement(e,t),c.finisher&&r.push(c.finisher);var l=c.extras;if(l){for(var u=0;u<l.length;u++)this.addElementPlacement(l[u],t);n.push.apply(n,l)}}return{element:e,finishers:r,extras:n}},decorateConstructor:function(e,t){for(var n=[],r=t.length-1;r>=0;r--){var i=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[r])(i)||i);if(void 0!==o.finisher&&n.push(o.finisher),void 0!==o.elements){e=o.elements;for(var a=0;a<e.length-1;a++)for(var s=a+1;s<e.length;s++)if(e[a].key===e[s].key&&e[a].placement===e[s].placement)throw new TypeError("Duplicated element ("+e[a].key+")")}}return{elements:e,finishers:n}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return(t=e,function(e){if(Array.isArray(e))return e}(t)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return Qn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qn(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map((function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var n=Jn(e.key),r=String(e.placement);if("static"!==r&&"prototype"!==r&&"own"!==r)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+r+'"');var i=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:n,placement:r,descriptor:Object.assign({},i)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(i,"get","The property descriptor of a field descriptor"),this.disallowProperty(i,"set","The property descriptor of a field descriptor"),this.disallowProperty(i,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:Xn(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:e.map(this.fromElementDescriptor,this)};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var n=Xn(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:n}},runClassFinishers:function(e,t){for(var n=0;n<t.length;n++){var r=(0,t[n])(e);if(void 0!==r){if("function"!=typeof r)throw new TypeError("Finishers must return a constructor.");e=r}}return e},disallowProperty:function(e,t,n){if(void 0!==e[t])throw new TypeError(n+" can't have a ."+t+" property.")}};return e}function Kn(e){var t,n=Jn(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var r={kind:"field"===e.kind?"field":"method",key:n,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(r.decorators=e.decorators),"field"===e.kind&&(r.initializer=e.value),r}function Yn(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function qn(e){return e.decorators&&e.decorators.length}function $n(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function Xn(e,t){var n=e[t];if(void 0!==n&&"function"!=typeof n)throw new TypeError("Expected '"+t+"' to be a function");return n}function Jn(e){var t=function(e,t){if("object"!==Vn(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Vn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Vn(t)?t:String(t)}function Qn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(function(e,t,n,r){var i=Wn();if(r)for(var o=0;o<r.length;o++)i=r[o](i);var a=t((function(e){i.initializeInstanceElements(e,s.elements)}),n),s=i.decorateClass(function(e){for(var t=[],n=function(e){return"method"===e.kind&&e.key===o.key&&e.placement===o.placement},r=0;r<e.length;r++){var i,o=e[r];if("method"===o.kind&&(i=t.find(n)))if($n(o.descriptor)||$n(i.descriptor)){if(qn(o)||qn(i))throw new ReferenceError("Duplicated methods ("+o.key+") can't be decorated.");i.descriptor=o.descriptor}else{if(qn(o)){if(qn(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+o.key+").");i.decorators=o.decorators}Yn(o,i)}else t.push(o)}return t}(a.d.map(Kn)),e);i.initializeClassElements(a.F,s.elements),i.runClassFinishers(a.F,s.finishers)})([Object(O.a)("collection-contributors")],(function(e,t){return{F:function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fn(e,t)}(r,t);var n=Nn(r);function r(){var t;Bn(this,r);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=n.call.apply(n,[this].concat(o)),e(Hn(t)),t}return r}(t),d:[{kind:"field",decorators:[Object(O.b)({type:Object})],key:"creator",value:void 0},{kind:"field",decorators:[Object(O.b)({type:Array})],key:"contributors",value:void 0},{kind:"field",decorators:[Object(O.b)({type:String})],key:"baseNavigationUrl",value:void 0},{kind:"method",key:"render",value:function(){var e=this;return this.contributors?Object(x.c)(In||(In=Ln(['\n      <h3 class="contributors-header">','</h3>\n      <ul class="contributors-list">\n        ',"\n      </ul>\n    "])),Object(E.c)("Additional contributors"),Object(ut.a)(this.uniqueContributors,(function(t){var n;return Object(x.c)(zn||(zn=Ln(['<li class="contributor">\n              <user-badge\n                identifier=',"\n                screenName=","\n                ?admin=","\n                .baseNavigationUrl=","\n              ></user-badge>\n            </li>"])),t.useritem,t.screen_name,null!=(n=null==t?void 0:t.is_archivist)&&n,e.baseNavigationUrl)}))):x.d}},{kind:"get",key:"uniqueContributors",value:function(){var e;if(!this.contributors)return[];var t=new Set(this.contributors.map((function(e){return e.useritem})));return t.delete(null==(e=this.creator)?void 0:e.useritem),this.contributors.filter((function(e){return t.delete(e.useritem)})).reverse()}},{kind:"get",static:!0,key:"styles",value:function(){return Object(x.b)(Mn||(Mn=Ln(["\n      .contributors-header {\n        margin: 0;\n        font-size: 1rem;\n        font-weight: normal;\n        text-transform: uppercase;\n      }\n\n      .contributors-list {\n        margin-top: 5px;\n        padding: 0;\n        font-size: 1.6rem;\n        list-style: none;\n      }\n\n      .contributor {\n        margin-bottom: 10px;\n      }\n    "])))}}]}}),x.a),n(110),n(250);function Zn(e,t){for(var n,r=0,i=e.length-1;r<=i;){var o=t(e[n=Math.floor((r+i)/2)]);if(0===o)return n;if(o<0)r=n+1;else{if(!(o>0))throw new RangeError("comparator produced NaN");i=n-1}}return-1}n(240);function er(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var rr=function e(t,n){tr(this,e),this.min=t,this.max=n,nr(this,"range",void 0),this.range=n-t},ir=function(){function e(t,n){tr(this,e),this.index=t,this.xValue=n,nr(this,"_bars",[]),nr(this,"_height",0)}var t,n,r;return t=e,(n=[{key:"bars",get:function(){return this._bars}},{key:"height",get:function(){return this._height}},{key:"addBar",value:function(e,t,n){var r=e.mappings.x.apply(this.xValue),i=e.mappings.y.apply(t)-this.height,o=e.barProperties.width/e.dataBounds.x.range*e.graphArea.width,a=t/e.dataBounds.y.range*e.graphArea.height;this._bars.push({xValue:this.xValue,yValue:t,seriesIndex:n,rect:{x:r,y:i,w:o,h:a}}),this._height+=a}}])&&er(t.prototype,n),r&&er(t,r),e}();function or(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ar=function(){function e(t,n,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.inMin=t,this.inMax=n,this.outMin=r,this.outMax=i}var t,n,r;return t=e,r=[{key:"lerp",value:function(e,t,n){return e+(t-e)*n}},{key:"invlerp",value:function(e,t,n){return e===t?n===e?0:NaN:(n-e)/(t-e)}}],(n=[{key:"apply",value:function(t){var n=e.invlerp(this.inMin,this.inMax,t);return e.lerp(this.outMin,this.outMax,n)}},{key:"applyInverse",value:function(t){var n=e.invlerp(this.outMin,this.outMax,t);return e.lerp(this.inMin,this.inMax,n)}}])&&or(t.prototype,n),r&&or(t,r),e}();function sr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||ur(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cr(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=ur(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function lr(e){return function(e){if(Array.isArray(e))return dr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||ur(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ur(e,t){if(e){if("string"==typeof e)return dr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?dr(e,t):void 0}}function dr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function fr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var mr,yr,vr,br,gr,wr,kr,xr,Or=function(){function e(t,n,r,i,o){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2,s=arguments.length>6?arguments[6]:void 0;fr(this,e),this.seriesList=t,this.canvasWidth=n,this.canvasHeight=r,this.hPadding=i,this.vPadding=o,this.axisLineWidth=a,this.barWidth=s,hr(this,"graphArea",new DOMRect),hr(this,"dataBounds",{x:new rr(0,0),y:new rr(0,0)}),hr(this,"axis",{area:new DOMRect,x:{labelWidth:0,labelHeight:0,marks:[]},y:{labelWidth:0,labelHeight:0,marks:[]}}),hr(this,"barProperties",{width:0}),hr(this,"stacks",[]),hr(this,"mappings",{x:new ar(0,0,0,0),y:new ar(0,0,0,0)}),this.calculateAxisLabelSizes(),this.calculateAxisArea(),this.calculateGraphArea(),this.calculateDataBounds(),this.calculateGrid(),this.calculateDataBars()}var t,n,r;return t=e,(n=[{key:"calculateAxisLabelSizes",value:function(){var e={display:"inline-block",left:"-5000px",visibility:"hidden"},t=document.createElement("div");t.classList.add("axis-label","axis-label-x"),Object.assign(t.style,e),t.innerHTML="May<br>0000";var n=document.createElement("div");n.classList.add("axis-label","axis-label-y"),Object.assign(n.style,e),n.innerHTML="000M",document.body.appendChild(t),document.body.appendChild(n);var r=t.getBoundingClientRect(),i=r.width,o=r.height;this.axis.x.labelWidth=i,this.axis.x.labelHeight=o;var a=n.getBoundingClientRect(),s=a.width,c=a.height;this.axis.y.labelWidth=s,this.axis.y.labelHeight=c,t.remove(),n.remove()}},{key:"calculateAxisArea",value:function(){var e=this.axis.y.labelWidth+this.hPadding,t=this.vPadding,n=this.hPadding,r=this.axis.x.labelHeight+this.vPadding;this.axis.area=new DOMRect(e,t,this.canvasWidth-e-n,this.canvasHeight-t-r)}},{key:"calculateGraphArea",value:function(){var e=this.axis.area,t=e.left,n=e.top,r=e.width,i=e.height;this.graphArea=new DOMRect(t+this.axisLineWidth,n+this.axisLineWidth,r-2*this.axisLineWidth,i-2*this.axisLineWidth)}},{key:"calculateDataBounds",value:function(){var e,t,n=this,r=null==(e=this.seriesList[0])?void 0:e.dataPoints;if(!r)return this.barProperties.width=null!=(t=this.barWidth)?t:0,this.setDataBoundsX(0,0),void this.setDataBoundsY(0,0);this.barWidth?this.barProperties.width=this.barWidth:this.barProperties.width=Math.min.apply(Math,lr(r.slice(1).map((function(e,t){return e[0]-r[t][0]}))));var i=r.map((function(e){return e[0]}));this.setDataBoundsX(Math.min.apply(Math,lr(i)),Math.max.apply(Math,lr(i))+this.barProperties.width);var o=r.map((function(e,t){return n.seriesList.reduce((function(e,n){return e+n.dataPoints[t][1]}),0)}));this.setDataBoundsY(0,1.06*Math.max.apply(Math,lr(o)))}},{key:"calculateGrid",value:function(){this.calculateXAxisTicks(),this.calculateYAxisTicks()}},{key:"calculateXAxisTicks",value:function(){var t=this.seriesList[0].dataPoints;if(t[0]){var n=new Date(t[0][0]).getUTCFullYear(),r=0,i=Date.UTC(n,0);i<t[0][0]&&(n+=1,r=i+e.YEAR_MILLIS-t[0][0]);var o=new Date(t[t.length-1][0]).getUTCFullYear()-n+1,a=1;o>10&&(a=2);for(var s=Math.ceil(o/a),c=0;c<s;c++){var l=t[0][0]+r+c*a*e.YEAR_MILLIS,u=new Date(l).getUTCFullYear(),d=this.graphArea.bottom+this.vPadding,f=this.mappings.x.apply(l);0===c&&0===r&&(f-=1),this.axis.x.marks.push({offset:f,label:{text:"Jan<br>".concat(u),top:d,left:f}})}}}},{key:"calculateYAxisTicks",value:function(){var t=e.Y_AXIS_BASE_GRID_CUTOFFS,n=this.dataBounds.y.max,r=0===n?1:Math.max(0,Math.floor(Math.log10(n/2))),i=Math.pow(10,r),o=n/i,a=t.findIndex((function(e){return e.cutoff>o}));if(!(a<0)){var s=t[a].cutoff*i,c=t[a].segments;this.setDataBoundsY(0,s);for(var l=0;l<c+1;l++){var u=s/c*l,d=this.mappings.y.apply(u);0===l&&(d+=1),l===c&&(d-=1),this.axis.y.marks.push({offset:d,label:{text:"".concat(u),top:d,left:0}})}}}},{key:"calculateDataBars",value:function(){var e,t=cr(this.seriesList[0].dataPoints.entries());try{for(t.s();!(e=t.n()).done;){var n=sr(e.value,2),r=n[0],i=n[1];this.stacks.push(new ir(r,i[0]));var o,a=cr(this.seriesList.entries());try{for(a.s();!(o=a.n()).done;){var s=sr(o.value,2),c=s[0],l=s[1].dataPoints[r];l&&this.stacks[r].addBar(this,l[1],c)}}catch(e){a.e(e)}finally{a.f()}}}catch(e){t.e(e)}finally{t.f()}}},{key:"setDataBoundsX",value:function(e,t){this.dataBounds.x=new rr(e,t),this.mappings.x=new ar(e,t,this.graphArea.left,this.graphArea.right)}},{key:"setDataBoundsY",value:function(e,t){this.dataBounds.y=new rr(e,t),this.mappings.y=new ar(e,t,this.graphArea.bottom,this.graphArea.top)}}])&&pr(t.prototype,n),r&&pr(t,r),e}();function jr(e){return function(e){if(Array.isArray(e))return Pr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Tr(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Er(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=Tr(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Sr(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Cr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||Tr(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tr(e,t){if(e){if("string"==typeof e)return Pr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pr(e,t):void 0}}function Pr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ar(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rr(e,t){return(Rr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Dr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=zr(e);if(t){var i=zr(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _r(this,n)}}function _r(e,t){return!t||"object"!==Mr(t)&&"function"!=typeof t?Ir(e):t}function Ir(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zr(e){return(zr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Mr(e){return(Mr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Lr(){Lr=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){["method","field"].forEach((function(n){t.forEach((function(t){t.kind===n&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var n=e.prototype;["method","field"].forEach((function(r){t.forEach((function(t){var i=t.placement;if(t.kind===r&&("static"===i||"prototype"===i)){var o="static"===i?e:n;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var n=t.descriptor;if("field"===t.kind){var r=t.initializer;n={enumerable:n.enumerable,writable:n.writable,configurable:n.configurable,value:void 0===r?void 0:r.call(e)}}Object.defineProperty(e,t.key,n)},decorateClass:function(e,t){var n=[],r=[],i={static:[],prototype:[],own:[]};if(e.forEach((function(e){this.addElementPlacement(e,i)}),this),e.forEach((function(e){if(!Nr(e))return n.push(e);var t=this.decorateElement(e,i);n.push(t.element),n.push.apply(n,t.extras),r.push.apply(r,t.finishers)}),this),!t)return{elements:n,finishers:r};var o=this.decorateConstructor(n,t);return r.push.apply(r,o.finishers),o.finishers=r,o},addElementPlacement:function(e,t,n){var r=t[e.placement];if(!n&&-1!==r.indexOf(e.key))throw new TypeError("Duplicated element ("+e.key+")");r.push(e.key)},decorateElement:function(e,t){for(var n=[],r=[],i=e.decorators,o=i.length-1;o>=0;o--){var a=t[e.placement];a.splice(a.indexOf(e.key),1);var s=this.fromElementDescriptor(e),c=this.toElementFinisherExtras((0,i[o])(s)||s);e=c.element,this.addElementPlacement(e,t),c.finisher&&r.push(c.finisher);var l=c.extras;if(l){for(var u=0;u<l.length;u++)this.addElementPlacement(l[u],t);n.push.apply(n,l)}}return{element:e,finishers:r,extras:n}},decorateConstructor:function(e,t){for(var n=[],r=t.length-1;r>=0;r--){var i=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[r])(i)||i);if(void 0!==o.finisher&&n.push(o.finisher),void 0!==o.elements){e=o.elements;for(var a=0;a<e.length-1;a++)for(var s=a+1;s<e.length;s++)if(e[a].key===e[s].key&&e[a].placement===e[s].placement)throw new TypeError("Duplicated element ("+e[a].key+")")}}return{elements:e,finishers:n}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return(t=e,function(e){if(Array.isArray(e))return e}(t)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return Vr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vr(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map((function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var n=Gr(e.key),r=String(e.placement);if("static"!==r&&"prototype"!==r&&"own"!==r)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+r+'"');var i=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:n,placement:r,descriptor:Object.assign({},i)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(i,"get","The property descriptor of a field descriptor"),this.disallowProperty(i,"set","The property descriptor of a field descriptor"),this.disallowProperty(i,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:Hr(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:e.map(this.fromElementDescriptor,this)};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var n=Hr(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:n}},runClassFinishers:function(e,t){for(var n=0;n<t.length;n++){var r=(0,t[n])(e);if(void 0!==r){if("function"!=typeof r)throw new TypeError("Finishers must return a constructor.");e=r}}return e},disallowProperty:function(e,t,n){if(void 0!==e[t])throw new TypeError(n+" can't have a ."+t+" property.")}};return e}function Br(e){var t,n=Gr(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var r={kind:"field"===e.kind?"field":"method",key:n,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(r.decorators=e.decorators),"field"===e.kind&&(r.initializer=e.value),r}function Fr(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function Nr(e){return e.decorators&&e.decorators.length}function Ur(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function Hr(e,t){var n=e[t];if(void 0!==n&&"function"!=typeof n)throw new TypeError("Expected '"+t+"' to be a function");return n}function Gr(e){var t=function(e,t){if("object"!==Mr(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Mr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Mr(t)?t:String(t)}function Vr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}hr(Or,"YEAR_MILLIS",315576e5),hr(Or,"Y_AXIS_BASE_GRID_CUTOFFS",[{cutoff:2,segments:4},{cutoff:2.5,segments:5},{cutoff:3,segments:6},{cutoff:4,segments:4},{cutoff:5,segments:5},{cutoff:6,segments:6},{cutoff:7,segments:7},{cutoff:8,segments:8},{cutoff:10,segments:5},{cutoff:12.5,segments:5},{cutoff:15,segments:6},{cutoff:20,segments:4}]);var Wr,Kr,Yr,qr;!function(e,t,n,r){var i=Lr();if(r)for(var o=0;o<r.length;o++)i=r[o](i);var a=t((function(e){i.initializeInstanceElements(e,s.elements)}),n),s=i.decorateClass(function(e){for(var t=[],n=function(e){return"method"===e.kind&&e.key===o.key&&e.placement===o.placement},r=0;r<e.length;r++){var i,o=e[r];if("method"===o.kind&&(i=t.find(n)))if(Ur(o.descriptor)||Ur(i.descriptor)){if(Nr(o)||Nr(i))throw new ReferenceError("Duplicated methods ("+o.key+") can't be decorated.");i.descriptor=o.descriptor}else{if(Nr(o)){if(Nr(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+o.key+").");i.decorators=o.decorators}Fr(o,i)}else t.push(o)}return t}(a.d.map(Br)),e);i.initializeClassElements(a.F,s.elements),i.runClassFinishers(a.F,s.finishers)}([Object(O.a)("collection-histogram")],(function(e,t){var n=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rr(e,t)}(r,t);var n=Dr(r);function r(){var t;Ar(this,r);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=n.call.apply(n,[this].concat(o)),e(Ir(t)),t}return r}(t);return{F:n,d:[{kind:"field",static:!0,key:"DEFAULT_BAR_COLORS",value:function(){return[{fillColor:"#edc24090",strokeColor:"#edc240",hoverFillColor:"#edc240c8"},{fillColor:"#afd8f890",strokeColor:"#afd8f8",hoverFillColor:"#afd8f8d8"}]}},{kind:"field",decorators:[Object(O.b)({type:Object})],key:"model",value:void 0},{kind:"field",decorators:[Object(O.b)({type:Number})],key:"width",value:function(){return 0}},{kind:"field",decorators:[Object(O.b)({type:Number})],key:"height",value:function(){return 0}},{kind:"field",decorators:[Object(O.b)({type:Number})],key:"hPadding",value:function(){return 5}},{kind:"field",decorators:[Object(O.b)({type:Number})],key:"vPadding",value:function(){return 10}},{kind:"field",decorators:[Object(O.b)({type:Number})],key:"axisLineWidth",value:function(){return 2}},{kind:"field",decorators:[Object(O.b)({type:String})],key:"borderColor",value:function(){return"#aaa"}},{kind:"field",decorators:[Object(O.b)({type:String})],key:"gridLineColor",value:function(){return"#d9d9d9"}},{kind:"field",decorators:[Object(O.b)({type:Boolean})],key:"showLegend",value:function(){return!1}},{kind:"field",decorators:[Object(O.b)({type:Boolean})],key:"showBarPopovers",value:function(){return!1}},{kind:"field",decorators:[Object(O.b)({type:Boolean})],key:"disableHover",value:function(){return!1}},{kind:"field",decorators:[Object(O.e)()],key:"mouse",value:function(){return{x:-1,y:-1}}},{kind:"field",decorators:[Object(O.e)()],key:"highlightedSeriesIndex",value:void 0},{kind:"field",decorators:[Object(O.c)("#histogram-canvas")],key:"canvas",value:void 0},{kind:"field",decorators:[Object(O.c)("#histogram-axis-labels")],key:"axisLabelContainer",value:void 0},{kind:"field",key:"ctx",value:void 0},{kind:"field",key:"layout",value:void 0},{kind:"method",key:"render",value:function(){var e=Cr(this.disableHover?[x.d,x.d]:[this.handleCanvasMouseMove,this.handleCanvasMouseLeave],2),t=e[0],n=e[1];return Object(x.c)(mr||(mr=Sr(['\n      <div id="histogram-container" style="height:','px">\n        <div id="histogram-layout-box" style="width:','px">\n          <canvas\n            id="histogram-canvas"\n            width=',"\n            height=","\n            @mousemove=","\n            @mouseleave=",'\n          ></canvas>\n          <div id="histogram-axis-labels"></div>\n          '," ","\n        </div>\n      </div>\n    "])),this.height,this.width,this.width,this.height,t,n,this.histogramPopoverTemplate,this.histogramLegendTemplate)}},{kind:"method",key:"updated",value:function(e){var t=this.canvas.getContext("2d");if(t){this.ctx=t;var n=e.has("model")||e.has("width")||e.has("height")||e.has("hPadding")||e.has("vPadding")||e.has("axisLineWidth");this.renderHistogramToCanvas(n)}}},{kind:"get",key:"histogramLegendTemplate",value:function(){var e,t=this;if(!this.showLegend)return x.d;var n=Cr(this.disableHover?[x.d,x.d]:[this.handleLegendSeriesMouseEnter,this.handleLegendSeriesMouseLeave],2),r=n[0],i=n[1];return Object(x.c)(yr||(yr=Sr(['\n      <div id="histogram-legend">\n        <table>\n          <tbody>\n            ',"\n          </tbody>\n        </table>\n      </div>\n    "])),Object(ut.a)(null==(e=this.model)?void 0:e.seriesList,(function(e,n){return Object(x.c)(vr||(vr=Sr(["\n                <tr\n                  data-series=","\n                  @mouseenter=","\n                  @mouseleave=","\n                >\n                  <td>","</td>\n                  <td>","</td>\n                </tr>\n              "])),n,r,i,t.colorBoxTemplate(e,n),e.label)})))}},{kind:"get",key:"histogramPopoverTemplate",value:function(){var e=this;if(!this.showBarPopovers)return x.d;if(!this.layout)return x.d;if(this.mouse.x<0||this.mouse.y<0)return x.d;var t=this.findBarContainingPoint(this.mouse);if(!t)return x.d;var n=this.layout.stacks[t.stackIndex],r=n.bars[t.barIndex],i=new Date(r.xValue),o=Object(x.c)(br||(br=Sr(['\n      <th class="popover-header" rowspan=',">\n        ",":\n      </th>\n    "])),n.bars.length,i.toLocaleDateString(void 0,{month:"short",year:"numeric",timeZone:"UTC"}));return Object(x.c)(gr||(gr=Sr(['\n      <div id="histogram-info-popover">\n        <table>\n          <tbody>\n            ',"\n          </tbody>\n        </table>\n      </div>\n    "])),Object(ut.a)(n.bars,(function(t){var n,r,i,a,s,c,l,u=t.yValue,d=null!=(r=null==(n=e.model)?void 0:n.seriesList[t.seriesIndex].label)?r:x.d,f=null!=(l=1===u?null!=(s=null==(i=e.model)?void 0:i.singularLabel)?s:null==(a=e.model)?void 0:a.label:null==(c=e.model)?void 0:c.label)?l:x.d;return Object(x.c)(wr||(wr=Sr(["<tr>\n                ",'\n                <td class="popover-series-value">\n                  ','\n                </td>\n                <td class="popover-series-label">\n                  '," ","\n                </td>\n              </tr>"])),0===t.seriesIndex?o:x.d,u.toLocaleString(),f,d)})))}},{kind:"method",key:"colorBoxTemplate",value:function(e,t){var r,i=null!=(r=e.fillColor)?r:n.getDefaultColorsFor(t).fillColor;return Object(x.c)(kr||(kr=Sr(['\n      <div class="legend-color-box-outer">\n        <div\n          class="legend-color-box-inner"\n          style="background-color:',';"\n        ></div>\n      </div>\n    '])),i)}},{kind:"method",key:"handleCanvasMouseMove",value:function(e){var t=this.canvas.getBoundingClientRect();this.mouse={x:e.clientX-t.left,y:e.clientY-t.top}}},{kind:"method",key:"handleCanvasMouseLeave",value:function(){this.mouse={x:-1,y:-1}}},{kind:"method",key:"handleLegendSeriesMouseEnter",value:function(e){this.highlightedSeriesIndex=Number(e.target.dataset.series)}},{kind:"method",key:"handleLegendSeriesMouseLeave",value:function(){this.highlightedSeriesIndex=void 0}},{kind:"method",key:"renderHistogramToCanvas",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.clearCanvas(),e&&(this.model&&(this.layout=new Or(this.model.seriesList,this.canvas.width,this.canvas.height,this.hPadding,this.vPadding,this.axisLineWidth,this.model.barWidth)),this.drawAxisLabels()),this.drawGridLines(),this.drawAxes(),this.drawDataBars()}},{kind:"method",key:"clearCanvas",value:function(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)}},{kind:"method",key:"drawAxisLabels",value:function(){this.axisLabelContainer.replaceChildren(),this.drawXAxisLabels(),this.drawYAxisLabels()}},{kind:"method",key:"drawXAxisLabels",value:function(){if(this.model&&this.layout){var e,t=this.layout.axis.x,n=t.labelHeight,r=Er(t.marks);try{for(r.s();!(e=r.n()).done;){var i=e.value;if(i.label){var o=i.label,a=o.text,s=o.top,c=o.left,l=document.createElement("div");l.classList.add("axis-label","axis-label-x"),l.innerHTML=a,l.style.height="".concat(n,"px"),l.style.top="".concat(s,"px"),l.style.left="".concat(c,"px"),this.axisLabelContainer.appendChild(l)}}}catch(e){r.e(e)}finally{r.f()}}}},{kind:"method",key:"drawYAxisLabels",value:function(){if(this.layout){var e,t=this.layout.axis.y,n=t.labelWidth,r=Er(t.marks);try{for(r.s();!(e=r.n()).done;){var i=e.value;if(i.label){var o=i.label,a=o.text,s=o.top,c=document.createElement("div");c.classList.add("axis-label","axis-label-y"),c.textContent=this.formatYAxisLabel(Number(a)),c.style.width="".concat(n,"px"),c.style.top="".concat(s,"px"),this.axisLabelContainer.appendChild(c)}}}catch(e){r.e(e)}finally{r.f()}}}},{kind:"method",key:"drawAxes",value:function(){if(this.layout){var e=this.layout.axis.area,t=e.top,n=e.left,r=e.width,i=e.height;this.ctx.strokeStyle=this.borderColor,this.ctx.lineWidth=this.axisLineWidth,this.ctx.strokeRect(n,t,r,i)}}},{kind:"method",key:"drawGridLines",value:function(){if(this.layout){var e=this.layout.graphArea,t=e.top,n=e.left,r=e.bottom,i=e.right;this.ctx.strokeStyle=this.gridLineColor,this.ctx.lineWidth=1,this.ctx.beginPath();var o,a=Er(this.layout.axis.x.marks);try{for(a.s();!(o=a.n()).done;){var s=o.value;this.ctx.moveTo(s.offset,t-1),this.ctx.lineTo(s.offset,r+1)}}catch(e){a.e(e)}finally{a.f()}var c,l=Er(this.layout.axis.y.marks);try{for(l.s();!(c=l.n()).done;){var u=c.value;this.ctx.moveTo(n-1,u.offset),this.ctx.lineTo(i+1,u.offset)}}catch(e){l.e(e)}finally{l.f()}this.ctx.stroke()}}},{kind:"method",key:"drawDataBars",value:function(){if(this.model&&this.layout){var e=this.model.seriesList.map((function(e,t){var r,i,o,a,s,c,l,u=n.getDefaultColorsFor(t);return{stroke:null!=(i=null!=(r=e.strokeColor)?r:u.strokeColor)?i:"black",fill:null!=(a=null!=(o=e.fillColor)?o:u.fillColor)?a:"grey",hoverFill:null!=(l=null!=(c=null!=(s=e.hoverFillColor)?s:e.fillColor)?c:u.hoverFillColor)?l:"grey"}}));this.ctx.lineWidth=1;var t,r=Er(this.layout.stacks);try{for(r.s();!(t=r.n()).done;){var i,o=Er(t.value.bars);try{for(o.s();!(i=o.n()).done;){var a=i.value,s=a.seriesIndex,c=e[a.seriesIndex],l=c.stroke,u=c.fill,d=c.hoverFill,f=this.highlightedSeriesIndex===s||n.isPointInRect(this.mouse.x,this.mouse.y,a.rect);this.ctx.strokeStyle=l,this.ctx.fillStyle=f?d:u,this.ctx.fillRect(a.rect.x,a.rect.y,a.rect.w,a.rect.h),this.ctx.strokeRect(a.rect.x,a.rect.y,a.rect.w,a.rect.h)}}catch(e){o.e(e)}finally{o.f()}}}catch(e){r.e(e)}finally{r.f()}}}},{kind:"method",key:"findBarContainingPoint",value:function(e){if(!this.layout)return null;var t=this.layout.stacks.map((function(e){return e.bars[0]}));if(!t)return null;var n=Zn(t,(function(t){return t.rect.x>=e.x?1:t.rect.x+t.rect.w<e.x?-1:0}));if(n<0)return null;var r=Zn(jr(this.layout.stacks[n].bars).reverse(),(function(t){return t.rect.y>=e.y?1:t.rect.y+t.rect.h<e.y?-1:0}));return r<0?null:{stackIndex:n,barIndex:r}}},{kind:"method",key:"formatYAxisLabel",value:function(e){var t,n=Math.abs(Math.floor(Math.log10(e)/3));if(0===n)return"".concat(e);var r=Math.pow(10,3*n);return"".concat((e/r).toFixed(1).replace(/\.0$/,"")).concat(null!=(t=[,"K","M","B","T"][n])?t:"")}},{kind:"method",static:!0,key:"getDefaultColorsFor",value:function(e){return this.DEFAULT_BAR_COLORS[e%this.DEFAULT_BAR_COLORS.length]}},{kind:"method",static:!0,key:"isPointInRect",value:function(e,t,n){return e>=n.x&&e<=n.x+n.w&&t>=n.y&&t<=n.y+n.h}},{kind:"get",static:!0,key:"styles",value:function(){return Object(x.b)(xr||(xr=Sr(["\n      #histogram-container {\n        position: relative;\n      }\n\n      #histogram-layout-box {\n        position: absolute;\n      }\n\n      #histogram-canvas {\n        background: var(--histogramBgColor, transparent);\n      }\n\n      #histogram-legend {\n        position: absolute;\n        top: 15px;\n        right: 15px;\n        background: white;\n        font-size: 1rem;\n      }\n\n      .legend-color-box-outer {\n        padding: 1px;\n        border: 1px solid #ccc;\n        background-color: var(--ia-theme-primary-background-color, transparent);\n      }\n\n      .legend-color-box-inner {\n        width: 10px;\n        height: 10px;\n      }\n\n      #histogram-axis-labels {\n        position: absolute;\n        top: 0;\n        left: 0;\n      }\n\n      .axis-label {\n        position: absolute;\n        font-size: 1rem;\n      }\n\n      .axis-label-x {\n        text-align: center;\n        transform: translateX(-50%);\n      }\n\n      .axis-label-y {\n        text-align: right;\n        transform: translateY(-50%);\n      }\n\n      #histogram-info-popover {\n        position: absolute;\n        top: 0;\n        left: 0;\n        padding: 7px;\n        border: 1px solid #ddf;\n        border-radius: 4px;\n        background: #eef;\n        opacity: 0.85;\n        font-size: 1.2rem;\n      }\n\n      .popover-header {\n        vertical-align: top;\n      }\n\n      .popover-series-value {\n        text-align: right;\n      }\n    "])))}}]}}),x.a);function $r(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Xr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jr(e,t){return(Jr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Qr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ti(e);if(t){var i=ti(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Zr(this,n)}}function Zr(e,t){return!t||"object"!==ni(t)&&"function"!=typeof t?ei(e):t}function ei(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ti(e){return(ti=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ni(e){return(ni="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ri(){ri=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){["method","field"].forEach((function(n){t.forEach((function(t){t.kind===n&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var n=e.prototype;["method","field"].forEach((function(r){t.forEach((function(t){var i=t.placement;if(t.kind===r&&("static"===i||"prototype"===i)){var o="static"===i?e:n;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var n=t.descriptor;if("field"===t.kind){var r=t.initializer;n={enumerable:n.enumerable,writable:n.writable,configurable:n.configurable,value:void 0===r?void 0:r.call(e)}}Object.defineProperty(e,t.key,n)},decorateClass:function(e,t){var n=[],r=[],i={static:[],prototype:[],own:[]};if(e.forEach((function(e){this.addElementPlacement(e,i)}),this),e.forEach((function(e){if(!ai(e))return n.push(e);var t=this.decorateElement(e,i);n.push(t.element),n.push.apply(n,t.extras),r.push.apply(r,t.finishers)}),this),!t)return{elements:n,finishers:r};var o=this.decorateConstructor(n,t);return r.push.apply(r,o.finishers),o.finishers=r,o},addElementPlacement:function(e,t,n){var r=t[e.placement];if(!n&&-1!==r.indexOf(e.key))throw new TypeError("Duplicated element ("+e.key+")");r.push(e.key)},decorateElement:function(e,t){for(var n=[],r=[],i=e.decorators,o=i.length-1;o>=0;o--){var a=t[e.placement];a.splice(a.indexOf(e.key),1);var s=this.fromElementDescriptor(e),c=this.toElementFinisherExtras((0,i[o])(s)||s);e=c.element,this.addElementPlacement(e,t),c.finisher&&r.push(c.finisher);var l=c.extras;if(l){for(var u=0;u<l.length;u++)this.addElementPlacement(l[u],t);n.push.apply(n,l)}}return{element:e,finishers:r,extras:n}},decorateConstructor:function(e,t){for(var n=[],r=t.length-1;r>=0;r--){var i=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[r])(i)||i);if(void 0!==o.finisher&&n.push(o.finisher),void 0!==o.elements){e=o.elements;for(var a=0;a<e.length-1;a++)for(var s=a+1;s<e.length;s++)if(e[a].key===e[s].key&&e[a].placement===e[s].placement)throw new TypeError("Duplicated element ("+e[a].key+")")}}return{elements:e,finishers:n}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return(t=e,function(e){if(Array.isArray(e))return e}(t)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return ui(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ui(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map((function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var n=li(e.key),r=String(e.placement);if("static"!==r&&"prototype"!==r&&"own"!==r)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+r+'"');var i=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:n,placement:r,descriptor:Object.assign({},i)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(i,"get","The property descriptor of a field descriptor"),this.disallowProperty(i,"set","The property descriptor of a field descriptor"),this.disallowProperty(i,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:ci(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:e.map(this.fromElementDescriptor,this)};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var n=ci(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:n}},runClassFinishers:function(e,t){for(var n=0;n<t.length;n++){var r=(0,t[n])(e);if(void 0!==r){if("function"!=typeof r)throw new TypeError("Finishers must return a constructor.");e=r}}return e},disallowProperty:function(e,t,n){if(void 0!==e[t])throw new TypeError(n+" can't have a ."+t+" property.")}};return e}function ii(e){var t,n=li(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var r={kind:"field"===e.kind?"field":"method",key:n,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(r.decorators=e.decorators),"field"===e.kind&&(r.initializer=e.value),r}function oi(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function ai(e){return e.decorators&&e.decorators.length}function si(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function ci(e,t){var n=e[t];if(void 0!==n&&"function"!=typeof n)throw new TypeError("Expected '"+t+"' to be a function");return n}function li(e){var t=function(e,t){if("object"!==ni(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ni(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ni(t)?t:String(t)}function ui(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var di,fi,pi,hi,mi,yi,vi,bi,gi;!function(e,t,n,r){var i=ri();if(r)for(var o=0;o<r.length;o++)i=r[o](i);var a=t((function(e){i.initializeInstanceElements(e,s.elements)}),n),s=i.decorateClass(function(e){for(var t=[],n=function(e){return"method"===e.kind&&e.key===o.key&&e.placement===o.placement},r=0;r<e.length;r++){var i,o=e[r];if("method"===o.kind&&(i=t.find(n)))if(si(o.descriptor)||si(i.descriptor)){if(ai(o)||ai(i))throw new ReferenceError("Duplicated methods ("+o.key+") can't be decorated.");i.descriptor=o.descriptor}else{if(ai(o)){if(ai(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+o.key+").");i.decorators=o.decorators}oi(o,i)}else t.push(o)}return t}(a.d.map(ii)),e);i.initializeClassElements(a.F,s.elements),i.runClassFinishers(a.F,s.finishers)}([Object(O.a)("collection-regions-table")],(function(e,t){return{F:function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jr(e,t)}(r,t);var n=Qr(r);function r(){var t;Xr(this,r);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=n.call.apply(n,[this].concat(o)),e(ei(t)),t}return r}(t),d:[{kind:"field",decorators:[Object(O.b)({type:String})],key:"caption",value:function(){return Object(E.c)("Top Regions (Last 30 Days)")}},{kind:"field",decorators:[Object(O.b)({type:Boolean})],key:"countsLoading",value:function(){return!1}},{kind:"field",decorators:[Object(O.b)({type:Object})],key:"counts",value:void 0},{kind:"method",key:"render",value:function(){var e;return(null==(e=this.counts)?void 0:e.length)?this.statsTableTemplate:this.placeholderMessageTemplate}},{kind:"get",key:"statsTableTemplate",value:function(){return Object(x.c)(Wr||(Wr=$r(['\n      <table class="stats-table">\n        <caption>\n          ','\n        </caption>\n\n        <thead>\n          <tr>\n            <th scope="col">','</th>\n            <th scope="col">','</th>\n            <th class="numeric-col" scope="col">',"</th>\n          </tr>\n        </thead>\n\n        <tbody>\n          ","\n        </tbody>\n      </table>\n    "])),this.caption,Object(E.c)("Region"),Object(E.c)("Country"),Object(E.c)("Views"),Object(ut.a)(this.counts,(function(e){return Object(x.c)(Kr||(Kr=$r(["\n              <tr>\n                <td>","</td>\n                <td>",'</td>\n                <td class="numeric-col">',"</td>\n              </tr>\n            "])),e.state.formattedName,e.country.formattedName,e.formattedCount)})))}},{kind:"get",key:"placeholderMessageTemplate",value:function(){return this.countsLoading?Object(x.c)(Yr||(Yr=$r(['<small class="loading-msg">',"</small>"])),Object(E.c)("loading data...")):x.d}},{kind:"get",static:!0,key:"styles",value:function(){return Object(x.b)(qr||(qr=$r(["\n      .stats-table {\n        width: 100%;\n        border: 2px solid #aaa;\n        font-size: 1.4rem;\n        hyphens: auto;\n        border-collapse: collapse;\n        border-spacing: 0;\n      }\n\n      th,\n      td {\n        padding: 5px;\n        width: 2%;\n        text-align: left;\n      }\n\n      th:first-child,\n      td:first-child {\n        padding-left: 20px;\n      }\n\n      th:last-child,\n      td:last-child {\n        padding-right: 20px;\n      }\n\n      tbody > tr {\n        border-top: 1px solid #d9d9d9;\n      }\n\n      .numeric-col {\n        text-align: right;\n      }\n    "])))}}]}}),x.a);function wi(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function ki(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xi(e,t){return(xi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Oi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Si(e);if(t){var i=Si(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ji(this,n)}}function ji(e,t){return!t||"object"!==Ci(t)&&"function"!=typeof t?Ei(e):t}function Ei(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Si(e){return(Si=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ci(e){return(Ci="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ti(){Ti=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){["method","field"].forEach((function(n){t.forEach((function(t){t.kind===n&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var n=e.prototype;["method","field"].forEach((function(r){t.forEach((function(t){var i=t.placement;if(t.kind===r&&("static"===i||"prototype"===i)){var o="static"===i?e:n;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var n=t.descriptor;if("field"===t.kind){var r=t.initializer;n={enumerable:n.enumerable,writable:n.writable,configurable:n.configurable,value:void 0===r?void 0:r.call(e)}}Object.defineProperty(e,t.key,n)},decorateClass:function(e,t){var n=[],r=[],i={static:[],prototype:[],own:[]};if(e.forEach((function(e){this.addElementPlacement(e,i)}),this),e.forEach((function(e){if(!Ri(e))return n.push(e);var t=this.decorateElement(e,i);n.push(t.element),n.push.apply(n,t.extras),r.push.apply(r,t.finishers)}),this),!t)return{elements:n,finishers:r};var o=this.decorateConstructor(n,t);return r.push.apply(r,o.finishers),o.finishers=r,o},addElementPlacement:function(e,t,n){var r=t[e.placement];if(!n&&-1!==r.indexOf(e.key))throw new TypeError("Duplicated element ("+e.key+")");r.push(e.key)},decorateElement:function(e,t){for(var n=[],r=[],i=e.decorators,o=i.length-1;o>=0;o--){var a=t[e.placement];a.splice(a.indexOf(e.key),1);var s=this.fromElementDescriptor(e),c=this.toElementFinisherExtras((0,i[o])(s)||s);e=c.element,this.addElementPlacement(e,t),c.finisher&&r.push(c.finisher);var l=c.extras;if(l){for(var u=0;u<l.length;u++)this.addElementPlacement(l[u],t);n.push.apply(n,l)}}return{element:e,finishers:r,extras:n}},decorateConstructor:function(e,t){for(var n=[],r=t.length-1;r>=0;r--){var i=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[r])(i)||i);if(void 0!==o.finisher&&n.push(o.finisher),void 0!==o.elements){e=o.elements;for(var a=0;a<e.length-1;a++)for(var s=a+1;s<e.length;s++)if(e[a].key===e[s].key&&e[a].placement===e[s].placement)throw new TypeError("Duplicated element ("+e[a].key+")")}}return{elements:e,finishers:n}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return(t=e,function(e){if(Array.isArray(e))return e}(t)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return zi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zi(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map((function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var n=Ii(e.key),r=String(e.placement);if("static"!==r&&"prototype"!==r&&"own"!==r)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+r+'"');var i=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:n,placement:r,descriptor:Object.assign({},i)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(i,"get","The property descriptor of a field descriptor"),this.disallowProperty(i,"set","The property descriptor of a field descriptor"),this.disallowProperty(i,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:_i(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:e.map(this.fromElementDescriptor,this)};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var n=_i(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:n}},runClassFinishers:function(e,t){for(var n=0;n<t.length;n++){var r=(0,t[n])(e);if(void 0!==r){if("function"!=typeof r)throw new TypeError("Finishers must return a constructor.");e=r}}return e},disallowProperty:function(e,t,n){if(void 0!==e[t])throw new TypeError(n+" can't have a ."+t+" property.")}};return e}function Pi(e){var t,n=Ii(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var r={kind:"field"===e.kind?"field":"method",key:n,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(r.decorators=e.decorators),"field"===e.kind&&(r.initializer=e.value),r}function Ai(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function Ri(e){return e.decorators&&e.decorators.length}function Di(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function _i(e,t){var n=e[t];if(void 0!==n&&"function"!=typeof n)throw new TypeError("Expected '"+t+"' to be a function");return n}function Ii(e){var t=function(e,t){if("object"!==Ci(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Ci(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Ci(t)?t:String(t)}function zi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}!function(e,t,n,r){var i=Ti();if(r)for(var o=0;o<r.length;o++)i=r[o](i);var a=t((function(e){i.initializeInstanceElements(e,s.elements)}),n),s=i.decorateClass(function(e){for(var t=[],n=function(e){return"method"===e.kind&&e.key===o.key&&e.placement===o.placement},r=0;r<e.length;r++){var i,o=e[r];if("method"===o.kind&&(i=t.find(n)))if(Di(o.descriptor)||Di(i.descriptor)){if(Ri(o)||Ri(i))throw new ReferenceError("Duplicated methods ("+o.key+") can't be decorated.");i.descriptor=o.descriptor}else{if(Ri(o)){if(Ri(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+o.key+").");i.decorators=o.decorators}Ai(o,i)}else t.push(o)}return t}(a.d.map(Pi)),e);i.initializeClassElements(a.F,s.elements),i.runClassFinishers(a.F,s.finishers)}([Object(O.a)("collection-stats")],(function(e,t){return{F:function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xi(e,t)}(r,t);var n=Oi(r);function r(){var t;ki(this,r);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=n.call.apply(n,[this].concat(o)),e(Ei(t)),t}return r}(t),d:[{kind:"field",decorators:[Object(O.b)({type:String})],key:"identifier",value:function(){return""}},{kind:"field",decorators:[Object(O.b)({type:Number})],key:"totalViews",value:function(){return 0}},{kind:"field",decorators:[Object(O.b)({type:Number})],key:"totalItems",value:function(){return 0}},{kind:"field",decorators:[Object(O.b)({type:Object})],key:"viewsHistogramModel",value:void 0},{kind:"field",decorators:[Object(O.b)({type:Object})],key:"itemsHistogramModel",value:void 0},{kind:"field",decorators:[Object(O.b)({type:Object})],key:"geoCounts",value:function(){return null}},{kind:"field",decorators:[Object(O.b)({type:Boolean})],key:"histogramsLoading",value:function(){return!1}},{kind:"field",decorators:[Object(O.b)({type:Boolean})],key:"geoCountsLoading",value:function(){return!1}},{kind:"field",decorators:[Object(O.b)({type:Object,attribute:!1})],key:"resizeObserver",value:void 0},{kind:"field",decorators:[Object(O.c)(".container")],key:"contentContainer",value:void 0},{kind:"field",decorators:[Object(O.c)("#views-histogram")],key:"viewsHistogram",value:void 0},{kind:"field",decorators:[Object(O.c)("#items-histogram")],key:"itemsHistogram",value:void 0},{kind:"method",key:"render",value:function(){return Object(x.c)(di||(di=wi(['\n      <div class="container">\n        '," ",'\n\n        <div class="stats-box">\n          <collection-regions-table\n            .counts=',"\n            .countsLoading=","\n          ></collection-regions-table>\n        </div>\n      </div>\n    "])),this.viewsHistogramTemplate,this.itemsHistogramTemplate,this.geoCounts,this.geoCountsLoading)}},{kind:"method",key:"updated",value:function(e){if(e.has("resizeObserver")){var t=e.get("resizeObserver");t&&this.disconnectResizeObserver(t),this.setupResizeObserver()}}},{kind:"get",key:"viewsHistogramTemplate",value:function(){return Object(x.c)(fi||(fi=wi(['\n      <div class="stats-box">\n        <h3>',"</h3>\n        <p>\n          "," ","\n          ","\n        </p>\n        ","\n      </div>\n    "])),Object(E.c)("Views"),Object(E.c)("Total Views:"),this.totalViews.toLocaleString(),this.olderStatsTemplate,this.histogramModelHasData(this.viewsHistogramModel)?Object(x.c)(pi||(pi=wi(['\n              <collection-histogram\n                id="views-histogram"\n                showLegend\n                showBarPopovers\n                .width=',"\n                .height=","\n                .model=","\n              ></collection-histogram>\n            "])),340,250,this.viewsHistogramModel):this.placeholderMessageTemplate)}},{kind:"get",key:"itemsHistogramTemplate",value:function(){return Object(x.c)(hi||(hi=wi(['\n      <div class="stats-box">\n        <h3>',"</h3>\n        <p>\n          "," ","\n          ","\n        </p>\n        ","\n      </div>\n    "])),Object(E.c)("Items"),Object(E.c)("Total Items:"),this.totalItems.toLocaleString(),this.olderStatsTemplate,this.histogramModelHasData(this.itemsHistogramModel)?Object(x.c)(mi||(mi=wi(['\n              <collection-histogram\n                id="items-histogram"\n                showBarPopovers\n                .width=',"\n                .height=","\n                .model=","\n              ></collection-histogram>\n            "])),340,250,this.itemsHistogramModel):this.placeholderMessageTemplate)}},{kind:"get",key:"olderStatsTemplate",value:function(){return Object(E.c)(Object(x.c)(yi||(yi=wi(['\n      (<a href="/services/views/','">Older Stats</a>)\n    '])),this.identifier))}},{kind:"get",key:"placeholderMessageTemplate",value:function(){return this.histogramsLoading?Object(x.c)(vi||(vi=wi(['<small class="loading-msg">',"</small>"])),Object(E.c)("loading data...")):Object(x.c)(bi||(bi=wi(["",""])),Object(E.c)("(data not available)"))}},{kind:"method",key:"setupResizeObserver",value:function(){this.resizeObserver&&this.resizeObserver.addObserver({target:this.contentContainer,handler:this})}},{kind:"method",key:"disconnectResizeObserver",value:function(e){e.removeObserver({target:this.contentContainer,handler:this})}},{kind:"method",key:"handleResize",value:function(e){e.target===this.contentContainer&&this.resizeHistograms(e.contentRect.width)}},{kind:"field",key:"resizeDebounceTimer",value:function(){return null}},{kind:"method",key:"resizeHistograms",value:function(e){var t=this;this.resizeDebounceTimer&&clearTimeout(this.resizeDebounceTimer),this.resizeDebounceTimer=setTimeout((function(){t.viewsHistogram&&(t.viewsHistogram.width=e-40),t.itemsHistogram&&(t.itemsHistogram.width=e-40),t.resizeDebounceTimer=null}),100)}},{kind:"method",key:"histogramModelHasData",value:function(e){var t;return null!=(t=null==e?void 0:e.seriesList.some((function(e){return e.dataPoints.length>0})))&&t}},{kind:"get",static:!0,key:"styles",value:function(){return Object(x.b)(gi||(gi=wi(["\n      :host {\n        font-size: 1.4rem;\n      }\n\n      a:link {\n        color: var(--ia-theme-link-color);\n        text-decoration: none;\n      }\n\n      a:link:hover {\n        text-decoration: underline;\n      }\n\n      h3 {\n        margin: 0;\n        font-size: 14px;\n        font-weight: normal;\n        text-transform: uppercase;\n      }\n\n      p {\n        margin: 0;\n      }\n\n      .stats-box {\n        margin: 5px;\n        padding: 10px;\n      }\n    "])))}}]}}),x.a);var Mi,Li,Bi,Fi,Ni={call_number:"call number",catalog_number:"product code",closed_captioning:"closed captioning",contact:"contact information",coverage:"location",imagecount:"pages","oclc-id":"WorldCat (source edition)","possible-copyright-status":"possible copyright status",related_collection:"related collections",runtime:"run time",taper:"taped by",transferer:"transferred by"};function Ui(e){var t,n,r,i=null!=(t=Ni[e])?t:e;return(n=i).charAt(0).toLocaleUpperCase(r)+n.slice(1)}function Hi(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Gi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Vi=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"shouldDisplay",get:function(){return!0}},{key:"getDisplayKey",value:function(e){return Object(x.c)(Mi||(Mi=Hi(["",""])),Ui(e))}},{key:"getDisplayValue",value:function(e,t){var n=this;return Array.isArray(t)?Object(x.c)(Li||(Li=Hi(["<ul>\n          ","\n        </ul>"])),Object(ut.a)(t,(function(t){return Object(x.c)(Bi||(Bi=Hi(["<li>","</li>"])),n.getDisplayValue(e,t))}))):Object(x.c)(Fi||(Fi=Hi(["",""])),t)}}])&&Gi(t.prototype,n),r&&Gi(t,r),e}();function Wi(e){return(Wi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ki(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qi(e,t){return(qi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ji(e);if(t){var i=Ji(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Xi(this,n)}}function Xi(e,t){return!t||"object"!==Wi(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ji(e){return(Ji=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Qi,Zi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qi(e,t)}(o,e);var t,n,r,i=$i(o);function o(){return Ki(this,o),i.apply(this,arguments)}return t=o,(n=[{key:"shouldDisplay",get:function(){return!1}},{key:"getDisplayKey",value:function(){return x.d}},{key:"getDisplayValue",value:function(){return x.d}}])&&Yi(t.prototype,n),r&&Yi(t,r),o}(Vi);n(36);function eo(e){return(eo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function to(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function no(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ro(e,t,n){return(ro="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=so(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function io(e,t){return(io=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function oo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=so(e);if(t){var i=so(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ao(this,n)}}function ao(e,t){return!t||"object"!==eo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function so(e){return(so=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var co,lo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&io(e,t)}(o,e);var t,n,r,i=oo(o);function o(){return to(this,o),i.apply(this,arguments)}return t=o,(n=[{key:"getDisplayValue",value:function(e,t){return Array.isArray(t)?ro(so(o.prototype),"getDisplayValue",this).call(this,e,t):Object(x.c)(Qi||(n=["",""],r||(r=n.slice(0)),Qi=Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(r)}}))),Object(j.a)(t.toString()));var n,r}}])&&no(t.prototype,n),r&&no(t,r),o}(Vi);function uo(e,t,n){n||(n=encodeURIComponent("".concat(e,':"').concat(t,'"')));var r,i,o="/search?query=".concat(n);return Object(x.c)(co||(r=['<a class="metadata-search-link" href=',">","</a>"],i||(i=r.slice(0)),co=Object.freeze(Object.defineProperties(r,{raw:{value:Object.freeze(i)}}))),o,t)}function fo(e){return(fo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function po(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ho(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mo(e,t,n){return(mo="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=go(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function yo(e,t){return(yo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function vo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=go(e);if(t){var i=go(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return bo(this,n)}}function bo(e,t){return!t||"object"!==fo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function go(e){return(go=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var wo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yo(e,t)}(o,e);var t,n,r,i=vo(o);function o(){return po(this,o),i.apply(this,arguments)}return t=o,(n=[{key:"getDisplayValue",value:function(e,t){return Array.isArray(t)?mo(go(o.prototype),"getDisplayValue",this).call(this,e,t):uo(e,t)}}])&&ho(t.prototype,n),r&&ho(t,r),o}(Vi);function ko(e){try{return["http:","https:"].includes(new URL(e).protocol)}catch(e){return!1}}function xo(e){try{return/^\/([^\/]|$)/.test(e)&&!!new URL(e,window.location.origin)}catch(e){return!1}}var Oo,jo,Eo,So=n(290),Co=n(247);function To(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Po(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.icon,i=void 0!==r&&r,o=xo(e),a=ko(e)||o,s=!o&&!/^https?:\/\/([a-z0-9-]+\.)*archive\.org(\/|$)/i.test(e),c=s?"external nofollow noreferrer noorigin":x.d,l=Object(So.a)({"metadata-link":!0,external:s}),u=Object(x.c)(Oo||(Oo=To(['<img\n    class="metadata-external-icon"\n    src=','\n    alt="external link"\n    loading="lazy"\n  />'])),Co.a);return a?Object(x.c)(jo||(jo=To(["<a class="," rel="," href=",">\n        ","","\n      </a>"])),l,c,e,t,i?u:x.d):Object(x.c)(Eo||(Eo=To(["",""])),e)}function Ao(e){return(Ao="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ro(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Do(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _o(e,t,n){return(_o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Lo(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Io(e,t){return(Io=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function zo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Lo(e);if(t){var i=Lo(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Mo(this,n)}}function Mo(e,t){return!t||"object"!==Ao(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Lo(e){return(Lo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Bo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Io(e,t)}(o,e);var t,n,r,i=zo(o);function o(){return Ro(this,o),i.apply(this,arguments)}return t=o,(n=[{key:"getDisplayValue",value:function(e,t){return Array.isArray(t)?_o(Lo(o.prototype),"getDisplayValue",this).call(this,e,t):ko(t)?Po(t,t,{icon:!0}):uo(e,t)}}])&&Do(t.prototype,n),r&&Do(t,r),o}(Vi),Fo=(n(182),{"ambient noise wall":"Music","american english":"English","arabic videos":"Arabic","arabic, english":"Arabic and English","de-formal":"German","en-ca":"English","en-gb":"English","en-us":"English","eng-fre":"English and French","eng;fre":"English and French","english handwritten":"Handwritten English","english-handwritten":"Handwritten English","english, polski":"English and Polish","english, spanish":"English and Spanish","english; finnish":"English and Finnish","english/french":"English and French","finnish, english":"English and Finnish","finnish; english":"English and Finnish","french-handwritten":"Handwritten French","german-handwritten":"Handwritten German","hebrew-handwritten":"Handwritten Hebrew","language not encoded":"Unknown","miscellaneous languages":"Multiple","n/a":"Unknown","no language":"skip","no linguistic content":"skip","no speech":"skip","polish-handwritten":"Handwritten Polish","pt-br":"Portuguese","spanish-handwritten":"Handwritten Spanish","us english":"English","www.back4allah.com":"Arabic","www.rabania.com":"Arabic","www.way2allah.com":"Arabic","yiddish-handwritten":"Handwritten Yiddish","zh-cn":"Chinese","zh-tw":"Chinese","أوردو ::: Urdu":"Urdu","بشتو ::: Pashto":"Pashto","عربية ::: arabic":"Arabic","عربية ::: Arabic":"Arabic","عربية مع ترجمة إنجليزية ::: Arabic with English subtitles":"Arabic with English subtitles",aar:"Afar",abk:"Abkhaz",adl:"Galo",ady:"Adyghe",afr:"Afrikaans",aka:"Akan",akk:"Akkadian",alb:"Albanian",ale:"Aleut",alg:"Algonquian",american:"English",amh:"Amharic",ang:"Old English",anm:"Anal",anq:"Jarawa",apa:"Apache languages",apt:"Apatani",ar:"Arabic",ara:"Arabic",arab:"Arabic",arabe:"Arabic",arbc:"Arabic",arbic:"Arabic",arc:"Aramaic",arg:"Aragonese",arm:"Armenian",arp:"Arapaho",asm:"Assamese",ast:"Asturian",ath:"Athapascan (Other)",awa:"Awadhi",aym:"Aymara",aze:"Azerbaijani",bak:"Bashkir",bal:"Baluchi",ban:"Balinese",baq:"Basque",bel:"Belarusian",bem:"Bemba",ben:"Bengali",ber:"Berber",bft:"Balti",bfy:"Bagheli",bgw:"Bhatri",bhb:"Bhili",bho:"Bhojpuri",bih:"Bihari",bis:"Bislama",bkk:"Brokskat",bla:"Blackfoot",bns:"Bundeli",bnt:"Bantu",bos:"Bosnian",bra:"Braj",bre:"Breton",brx:"Bodo",bua:"Buryat",bul:"Bulgarian",bur:"Burmese",cai:"Central American Indian",caq:"Car",car:"Carib",cat:"Catalan",cau:"Caucasian",ceb:"Cebuano",ces:"Czech",cha:"Chamorro",che:"Chechen",chi:"Chinese",chm:"Mari",chn:"Chinook jargon",cho:"Choctaw",chp:"Chipewyan",chr:"Cherokee",chu:"Church Slavic",chv:"Chuvash",chy:"Cheyenne",clk:"Idu-Mishmi",cmn:"Mandarin Chinese",cop:"Coptic",cor:"Cornish",cos:"Corsican",cpe:"Creoles and Pidgins, English-based",cpf:"Creoles and Pidgins, French-based",cpp:"Creoles and Pidgins, Portuguese-based",cre:"Cree",crh:"Crimean Tatar",cro:"Croatian",crp:"Creoles and Pidgins",cs:"Czech",csb:"Kashubian",cym:"Welsh",cze:"Czech",da:"Danish",dak:"Dakota",dan:"Danish",dar:"Dargwa",de:"German",del:"Delaware",deu:"German",deutsch:"German",dgo:"Dogri",dih:"Dhivehi",doi:"Dogri (Generic)",dra:"Dravidian (Other)",dsb:"Lower Sorbian",dum:"Middle Dutch",dut:"Dutch",dzo:"Dzongkha",egy:"Egyptian",el:"Greek",ell:"Greek",emg:"English",en_us:"English",en:"English",eng:"English",engfre:"English and French",engilsh:"English",english:"English",enm:"Middle English",epo:"Esperanto",es:"Spanish",esk:"Eskimo",esp:"Esperanto",espanol:"Spanish","español":"Spanish",est:"Estonian",eth:"Ethiopic",eus:"Basque",fa:"Persian",fao:"Faroese",far:"Faroese",fas:"Persian",fi:"Finnish",fij:"Fijian",fil:"Filipino",fin:"Finnish",fle:"Dutch",fr:"French",fra:"French",francais:"French","français":"French",fre:"French",fri:"Frisian",frm:"Middle French",fro:"Old French",frr:"North Frisian",fry:"Frisian",fur:"Friulian",gaa:"Gã",gac:"Mixed Great Andamanese",gae:"Scottish Gaelic",gag:"Galician",gbl:"Gamit",gem:"Germanic",geo:"Georgian",ger:"German",gez:"Ethiopic",gil:"Gilbertese",gju:"Gujari",gla:"Scottish Gaelic",gle:"Irish",glg:"Galician",glv:"Manx",gmh:"Middle High German",goh:"Old German",gon:"Gondi",got:"Gothic",grb:"Grebo",grc:"Ancient Greek",gre:"Greek",grn:"Guarani",grt:"Garo",gsw:"Swiss German",gua:"Guarani",guj:"Gujarati",gwi:"Gwichin",hai:"Haida",hat:"Haitian French Creole",hau:"Hausa",haw:"Hawaiian",he:"Hebrew",heb:"Hebrew",hin:"Hindi",hlb:"Halbi",hmn:"Hmong",hmr:"Hmar",hne:"Chhattisgarhi",hoc:"Ho",hrv:"Croatian",hsb:"Upper Sorbian",hu:"Hungarian",hun:"Hungarian",ibo:"Igbo",ice:"Icelandic",ido:"Ido",iku:"Inuktitut",ile:"Interlingue",ilo:"Iloko",ina:"Interlingua",inc:"Indic (Other)",ind:"Indonesian",inh:"Ingush",int:"Interlingua",ipk:"Inupiaq",ira:"Iranian",iri:"Irish",iro:"Iroquoian",iru:"Irula",isl:"Icelandic",ita:"Italian",jam:"Music",jap:"Japanese",jav:"Javanese",jpn:"Japanese",jrb:"Judeo-Arabic",kaa:"Karakalpak",kab:"Kabyle",kal:"Kalatdlisut",kan:"Kannada",kar:"Karen",kas:"Kashmiri",kaz:"Kazakh",kbd:"Kabardian",kfa:"Kodava",kfb:"Northwestern Kolami",kfe:"Kota (India)",kff:"Koya",kfq:"Korku",kha:"Khasi",khm:"Khmer",kho:"Khotanese",khr:"Kharia",kik:"Kikuyu",kin:"Kinyarwanda",kir:"Kyrgyz",kix:"Khiamniungan Naga",kmj:"Kumarbhag Paharia",kmm:"Kom (India)",ko:"Korean",kok:"Konkani",kon:"Kongo",kor:"Korean",kpe:"Kpelle",krc:"Karachay-Balkar",kro:"Kru",kru:"Kurukh",ksh:"Kölsch",kum:"Kumyk",kur:"Kurdish",kxu:"Kui (India)",kxv:"Kuvi",kyw:"Kudmali",lad:"Ladino",lah:"Lahnda",lao:"Lao",lap:"Sami",lat:"Latin",lav:"Latvian",lbj:"Ladakhi",lep:"Lepcha",lez:"Lezgin",lim:"Limburgish",lin:"Lingala",lit:"Lithuanian",lmn:"Lambadi",lol:"Mongo-Nkundu",ltz:"Luxembourgish",lua:"Luba-Lulua",lub:"Luba-Katanga",lug:"Ganda",lus:"Lushai",mac:"Macedonian",mah:"Marshallese",mai:"Maithili",mal:"Malayalam",man:"Mandarin Chinese",mao:"Maori",map:"Austronesian",mar:"Marathi",max:"Manx",may:"Malay",mga:"Middle Irish",mha:"Manda (India)",mic:"Micmac",min:"Minankabaw",mis:"Miscellaneous languages",mjw:"Karbi",mkh:"Mon-Khmer",mla:"Malagasy",mlg:"Malagasy",mlt:"Maltese",mni:"Manipuri",moh:"Mohawk",mol:"Moldavian",mon:"Mongolian",mrg:"Mising",mul:"Multiple",mus:"Creek",mwr:"Marwari",myn:"Maya",nag:"Naga Pigdin",nah:"Nahuatl",nai:"North American Indian",nap:"Neapolitan",nau:"Nauru",nav:"Navajo",nbc:"Chang Naga",nbe:"Konyak Naga",nbi:"Mao Naga",nbl:"Ndebele",nbu:"Rongmei Naga",nds:"Low German",nep:"Nepali",new:"Newari",ng:"English",nic:"Niger-Kordofanian",njh:"Lotha Naga",njm:"Angami Naga",njn:"Liangmai Naga",njo:"Ao Naga",nkf:"Inpui Naga",nkh:"Khezha Naga",nld:"Dutch",nll:"Nihali",nma:"Maram Naga",nmf:"Tangkhul Naga",nno:"Norwegian (Nynorsk)",no:"skip",nob:"Norwegian (Bokmål)",nog:"Nogay",non:"Old Norse",none:"skip",nor:"Norwegian",nri:"Chokri Naga",nsa:"Sangtam Naga",nsm:"Sumi Naga",nso:"Northern Sotho",nya:"Nyanja",nzm:"Zeme Naga",oci:"Occitan",oji:"Ojibwa",oon:"Önge",ori:"Oriya",orm:"Oromo",ory:"Odia",oss:"Ossetic",ota:"Ottoman Turkish",oto:"Otomian",paa:"Papuan",pag:"Pangasinan",pal:"Pahlavi",pam:"Pampanga",pan:"Panjabi",panjabi:"Punjabi",pap:"Papiamento",pbv:"Pnar",pci:"Duruwa",pck:"Paite Chin",per:"Persian",phi:"Philippine",pli:"Pali",pol:"Polish",por:"Portuguese",port:"Portuguese",portugues:"Portuguese","português":"Portuguese",pra:"Prakrit",pro:"Provencal",prx:"Purik",pus:"Pashto",qaa:"skip",que:"Quechua",rah:"Rabha",raj:"Rajasthani",roa:"Romance",roh:"Romansh",rom:"Romani",ron:"Romanian",rum:"Romanian",run:"Rundi",rus:"Russian",sag:"Sango",sah:"Yakut",sai:"South American Indian",sam:"Samaritan Aramaic",san:"Sanskrit",sao:"Samoan",sat:"Santali",scc:"Serbian",scl:"Shina",sco:"Scots",scots:"Scottish",scr:"Croatian",sdr:"Oraon Sadri",sel:"Selkup",sem:"Semitic",sga:"Old Irish",sho:"Shona",sin:"Sinhalese",sio:"Siouan",sip:"Sikkimese",sit:"Sino-Tibetan",sk:"Slovak",sla:"Slavic",slk:"Slovak",slo:"Slovak",slv:"Slovenian",sme:"Saami",smi:"Sami",smo:"Samoan",sms:"Skolt Sami",sna:"Shona",snd:"Sindhi",snh:"Sinhalese",som:"Somali",sot:"Sotho",spa:"Spanish",spain:"Spanish",spv:"Sambalpuri",sq:"Albanian",sqi:"Albanian",srb:"Sora",srp:"Serbian",sso:"Sotho",ssw:"Swazi",sun:"Sundanese",sux:"Sumerian",sv:"Swedish",svenska:"Swedish",swa:"Swahili",swe:"Swedish",swz:"Swazi",syc:"Syriac",syr:"Modern Syriac",tag:"Tagalog",tah:"Tahitian",taj:"Tajik",tam:"Tamil",tar:"Tatar",tat:"Tatar",tcy:"Tulu",tcz:"Thado Chin",tel:"Telugu",tem:"Temne",tgk:"Tajik",tgl:"Tagalog",tha:"Thai",tib:"Tibetan",tig:"Tigre",tir:"Tigrinya",tlh:"Klingon",tog:"Tonga",ton:"Tongan",tpi:"Tok Pisin",tr:"Turkish",trp:"Kok Borok",tsi:"Tsimshian",tsn:"Tswana",tso:"Tsonga",tsw:"Tswana",tuk:"Turkmen",tur:"Turkish","türkçe":"Turkish",tut:"Altaic",tyv:"Tuvinian",udm:"Udmurt",uig:"Uighur",uk:"Ukranian",ukr:"Ukrainian",und:"undetermined",undetermined:"skip",unknown:"skip",unr:"Mundari",urd:"Urdu",uzb:"Uzbek",vah:"Varhadi-Nagpuri",vap:"Vaiphei",vav:"Varli",ven:"Venda",vie:"Vietnamese",vol:"Volapük",war:"Waray",wbr:"Wagdi",wel:"Welsh",wen:"Sorbian",wol:"Wolof",xal:"Oirat",xho:"Xhosa",xis:"Kisan (Dravidian)",xnr:"Kangri",xsr:"Solu-Khumbu Sherpa",yea:"Ravula",yid:"Yiddish",yim:"Yimchungru Naga",yor:"Yoruba",ypk:"Yupik languages",zap:"Zapotec",zh:"Chinese",zha:"Zhuang",zho:"Chinese",zom:"Zou",zul:"Zulu",zun:"Zuni",zxx:"No linguistic content","Русский":"Russian","Український":"Ukranian","العربية":"Arabic","عربي":"Arabic"});function No(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Uo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Uo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Uo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ho(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Go=function(){function e(){var t,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r="|",(n="delimeter")in(t=this)?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}var t,n,r;return t=e,(n=[{key:"getLanguageNameFromCodeString",value:function(e){var t=this.getCodeArrayFromCodeString(e);if(0===t.length)return"";var n=t[0],r=Fo[n];return null!=r?r:e}},{key:"getCodeStringFromLanguageName",value:function(e){var t=Object.keys(Fo).filter((function(t){return Fo[t]===e}));return null==t?void 0:t.join(this.delimeter)}},{key:"getCodeArrayFromCodeString",value:function(e){return e.split(this.delimeter)}},{key:"getRelevantNameAndCodeString",value:function(e){var t=this.getCodeArrayFromCodeString(e);if(0===t.length)return[];var n=t[0],r=[];return r.push(n),Object.entries(Fo).map((function(e){var t=No(e,2),i=t[0],o=t[1];i===n?r.push(o):o===n&&r.push(i)})),r}}])&&Ho(t.prototype,n),r&&Ho(t,r),e}();function Vo(e){return(Vo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ko(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yo(e,t,n){return(Yo="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Jo(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function qo(e,t){return(qo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $o(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Jo(e);if(t){var i=Jo(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Xo(this,n)}}function Xo(e,t){return!t||"object"!==Vo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Jo(e){return(Jo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Qo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qo(e,t)}(o,e);var t,n,r,i=$o(o);function o(){return Wo(this,o),i.apply(this,arguments)}return t=o,(n=[{key:"getDisplayValue",value:function(e,t){if(Array.isArray(t))return Yo(Jo(o.prototype),"getDisplayValue",this).call(this,e,t);var n=(new Go).getRelevantNameAndCodeString(t).map((function(t){return encodeURIComponent("".concat(e,':"').concat(t,'"'))})).join(" OR ");return uo(e,t,n)}}])&&Ko(t.prototype,n),r&&Ko(t,r),o}(Vi);function Zo(e){return(Zo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ea(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ta(e,t,n){return(ta="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=oa(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function na(e,t){return(na=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ra(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=oa(e);if(t){var i=oa(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ia(this,n)}}function ia(e,t){return!t||"object"!==Zo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function oa(e){return(oa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var aa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&na(e,t)}(o,e);var t,n,r,i=ra(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=i.call(this)).prefix=e,t}return t=o,(n=[{key:"getDisplayValue",value:function(e,t){return Array.isArray(t)?ta(oa(o.prototype),"getDisplayValue",this).call(this,e,t):Po("".concat(this.prefix).concat(t),t)}}])&&ea(t.prototype,n),r&&ea(t,r),o}(Vi);n(295),n(296);function sa(e){return(sa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ca(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function la(e,t,n){return(la="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=pa(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function ua(e,t){return(ua=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function da(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=pa(e);if(t){var i=pa(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return fa(this,n)}}function fa(e,t){return!t||"object"!==sa(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function pa(e){return(pa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ha,ma,ya,va=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ua(e,t)}(o,e);var t,n,r,i=da(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=i.call(this)).delimiter=e,t}return t=o,(n=[{key:"getDisplayValue",value:function(e,t){var n=this,r=Array.isArray(t)?t.flatMap((function(e){return e.split(n.delimiter)})):t.split(this.delimiter);return 1===r.length?la(pa(o.prototype),"getDisplayValue",this).call(this,e,r[0].trim()):la(pa(o.prototype),"getDisplayValue",this).call(this,e,r)}}])&&ca(t.prototype,n),r&&ca(t,r),o}(wo),ba=(n(61),n.p+"offshoot_assets/assets/amazon-small.bbceffa7daa46ab8751ec1fd7320bf86.png"),ga=n.p+"offshoot_assets/assets/discogs-simplified-vinylmark.d9f9059b31879120e67a854785d56fe6.svg",wa=n.p+"offshoot_assets/assets/filecoin-small.d9fabf436f9e08f1f936ea27ebb94ef0.png",ka=n.p+"offshoot_assets/assets/musicbrainz-small.b57a7d619ad51e94b257ea22d18f5563.png",xa=n.p+"offshoot_assets/assets/worldcat-small.6ee9204b162c135171b7fe0c4f10478e.png",Oa=n.p+"offshoot_assets/assets/songmeanings-small.a1e8987728fed1be8299b49bd8ff7ab2.png",ja=n.p+"offshoot_assets/assets/spotify-small.12da2c0cf71b4f4c9e78bce907673891.png",Ea={"urn:asin:":{link:function(e){return"https://amzn.com/".concat(e)},text:"Amazon",icon:ba},"urn:arXiv:":{link:function(e){return"https://arxiv.org/abs/".concat(e)},text:"arXiv"},"urn:discogs:release:":{link:function(e){return"https://www.discogs.com/release/".concat(e)},text:"Discogs (release)",icon:ga},"urn:discogs:artist:":{link:function(e){return"https://www.discogs.com/artist/".concat(e)},text:"Discogs (artist)",icon:ga},"urn:discogs:master:":{link:function(e){return"https://www.discogs.com/master/".concat(e)},text:"Discogs (master)",icon:ga},"urn:doi:":{link:function(e){return"https://doi.org/".concat(e)},text:"DOI"},"urn:cid:":{link:function(e){return"https://gateway.ipfs.io/ipfs/".concat(e)},text:"Filecoin",icon:wa},"urn:imdb:":{link:function(e){return"https://www.imdb.com/title/".concat(e)},text:"IMDB"},"urn:jstor-headid:":{link:function(e){return"https://www.jstor.org/stable/".concat(e)},text:"JSTOR (head)"},"urn:jstor-articleid:":{link:function(e){return"https://www.jstor.org/stable/".concat(e)},text:"JSTOR (article)"},"urn:jstor-issueid:":{link:function(e){return"https://www.jstor.org/stable/".concat(e)},text:"JSTOR (issue)"},"urn:jstor-journalid:":{link:function(e){return"https://www.jstor.org/stable/".concat(e)},text:"JSTOR (journal)"},"urn:mb_recording_id:":{link:function(e){return"https://musicbrainz.org/recording/".concat(e)},text:"MusicBrainz (recording)",icon:ka},"urn:mb_release_id:":{link:function(e){return"https://musicbrainz.org/release/".concat(e)},text:"MusicBrainz (release)",icon:ka},"urn:mb_releasegroup_id:":{link:function(e){return"https://musicbrainz.org/release-group/".concat(e)},text:"MusicBrainz (release group)",icon:ka},"urn:mb_artist_id:":{link:function(e){return"https://musicbrainz.org/artist/".concat(e)},text:"MusicBrainz (artist)",icon:ka},"urn:oclc:record:":{link:function(e){return"https://www.worldcat.org/oclc/".concat(e,"/")},text:"WorldCat (this item)",icon:xa},"urn:songmeanings:song:":{link:function(e){return"https://songmeanings.com/songs/view/".concat(e,"/")},text:"Songmeanings (song)",icon:Oa},"urn:spotify:track:":{link:function(e){return"https://open.spotify.com/track/".concat(e)},text:"Spotify (track)",icon:ja},"urn:spotify:album:":{link:function(e){return"https://open.spotify.com/album/".concat(e)},text:"Spotify (album)",icon:ja},"urn:spotify:artist:":{link:function(e){return"https://open.spotify.com/artist/".concat(e)},text:"Spotify (artist)",icon:ja},"urn:storj:bucket:":{link:function(e,t){return"https://link.us1.storjshare.io/s/".concat(e,"/archive.org/download/").concat(t)},text:"Storj",icon:n.p+"offshoot_assets/assets/storj-small.f3eaae4b988c756a743c90b4319ab72f.png"},"urn:wikipedia:":{link:function(e){return"https://en.wikipedia.org/wiki/".concat(e)},text:"Wikipedia (English)",icon:n.p+"offshoot_assets/assets/wikipedia-small.7bbd9c7e1edf8fd75e35a7cf486bf3f0.png"},"urn:youtube:":{link:function(e){return"https://www.youtube.com/watch?v=".concat(e)},text:"YouTube (video)",icon:n.p+"offshoot_assets/assets/youtube-small.6626f389f938c4c4fc0123a69fc909d1.png"}};function Sa(e){return(Sa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ca(e){return function(e){if(Array.isArray(e))return Ta(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ta(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ta(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ta(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Pa(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Aa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ra(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Da(e,t,n){return(Da="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ma(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function _a(e,t){return(_a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ia(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ma(e);if(t){var i=Ma(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return za(this,n)}}function za(e,t){return!t||"object"!==Sa(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ma(e){return(Ma=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var La=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_a(e,t)}(o,e);var t,n,r,i=Ia(o);function o(){return Aa(this,o),i.apply(this,arguments)}return t=o,(n=[{key:"getDisplayValue",value:function(e,t){if(Array.isArray(t))return Da(Ma(o.prototype),"getDisplayValue",this).call(this,e,t);var n=[Da(Ma(o.prototype),"getDisplayValue",this).call(this,e,t)],r=Object.keys(Ea).find((function(e){return t.startsWith(e)}));if(r){var i=Ea[r],a=i.link,s=i.text,c=i.icon,l=t.slice(r.length).split(":"),u=Object(x.c)(ha||(ha=Pa(['<img\n          class="metadata-urn-icon"\n          src=',"\n          alt=",'\n          loading="lazy"\n        />'])),null!=c?c:Co.a,s),d=Object(x.c)(ma||(ma=Pa(['<a\n          class="metadata-urn-link"\n          href=','\n          target="_blank"\n          title="[',']"\n          >',"</a\n        >"])),a.apply(void 0,Ca(l)),s,u);n.push(d)}return Object(x.c)(ya||(ya=Pa(['<span class="metadata-urn">',"</span>"])),n)}}])&&Ra(t.prototype,n),r&&Ra(t,r),o}(wo),Ba=new Zi,Fa=["adder","admincmd","admincont","admintime","adminuser","backup_location","contacted_address","contacted_by","curation","filesxml","foldout-operator","hidden","identifier-access","md5contents","md5s","noarchivetorrent","nre","operator","paginated","pick","prevtask","public","repub_seconds","repub_state","republisher","scanfee","shiptracking","show_search_by_year","sponsordate","update","updatedate","updater","loans__status__last_loan_date","loans__status__last_waitlist_date","loans__status__num_history","loans__status__num_loans","loans__status__num_waitlist","loans__status__status","analytics__field_names","analytics__field_count","analytics__doc_size_md","analytics__doc_size_se","analytics__rejected_fields","analytics__raw_value_sources","analytics__maker","analytics__maker_hostname","analytics__maker_worker","analytics__maker_repository","analytics__maker_branch","analytics__maker_commit","analytics__issues","analytics__maketime","analytics__made_for_es_version","analytics__made_for_index","analytics__debug_switches","analytics__debug_mdrecord","analytics__metadata_validation","analytics__nonconforming_fields","analytics__parsed_date_service_succeeded","analytics__features","analytics__features__any","analytics__features__flagged","analytics__features__collection","analytics__features__user","analytics__features__data","analytics__features__open"].reduce((function(e,t){return e[t]=Ba,e}),{}),Na=Object.assign,Ua=new Zi,Ha=new wo,Ga=new Bo,Va=new Qo,Wa=new va(";"),Ka=new La,Ya=new lo,qa=new aa("/collection/"),$a=new aa("https://www.worldcat.org/oclc/"),Xa=new aa("https://openlibrary.org/books/"),Ja=new aa("https://openlibrary.org/works/"),Qa=Na(Na({},Fa),{accession_number:Ha,coverage:Ha,donor:Ha,genre:Ha,pub_type:Ha,releasetype:Ha,series:Ha,taper:Ha,transferer:Ha,venue:Ha,year:Ha,source:Ga,language:Va,collection:qa,related_collection:qa,subject:Wa,"external-identifier":Ka,summary:Ya,"oclc-id":$a,openlibrary_edition:Xa,openlibrary_work:Ja,description:Ua,rights:Ua,uploader:Ua}),Za=n.p+"offshoot_assets/assets/reviews.880d301d145e30c8505fe5eb2d0fb98c.svg",es=n.p+"offshoot_assets/assets/comments.b1a363948c671ebeac538f4eb6bc16fd.svg",ts=n(248);n(294),n(212);function ns(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function rs(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){ns(o,r,i,a,s,"next",e)}function s(e){ns(o,r,i,a,s,"throw",e)}a(void 0)}))}}function is(e){return function(e){if(Array.isArray(e))return os(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return os(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return os(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function os(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function as(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ss(e,t){return!t||"object"!==hs(t)&&"function"!=typeof t?cs(e):t}function cs(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ls(e){var t="function"==typeof Map?new Map:void 0;return(ls=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return us(e,arguments,ps(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),fs(r,e)})(e)}function us(e,t,n){return(us=ds()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&fs(i,n.prototype),i}).apply(null,arguments)}function ds(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function fs(e,t){return(fs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ps(e){return(ps=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function hs(e){return(hs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var ms=Object.defineProperty,ys=function(e,t,n){return"symbol"!==hs(t)&&(t+=""),t in e?ms(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},vs=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fs(e,t)}(l,e);var t,n,r,i,o,a,s,c=(t=l,n=ds(),function(){var e,r=ps(t);if(n){var i=ps(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return ss(this,e)});function l(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),e=c.call(this),ys(cs(e),"PETABOX","https://archive.org/download/"),ys(cs(e),"WAYBACK","https://web.archive.org/web/"),ys(cs(e),"CLIREPO","https://github.com/internetarchive/cdx-summary"),ys(cs(e),"data",{}),e.shadow=e.attachShadow({mode:"closed"}),e}return r=l,(i=[{key:"toFs",value:function(e){var t=Math.log(e)/Math.log(1024)|0;return"".concat(Number((e/Math.pow(1024,t)).toFixed(2))," ").concat(["B","KB","MB","GB","TB"][t])}},{key:"toSn",value:function(e){var t=Math.log10(e)/3|0;return"".concat(Number((e/Math.pow(1e3,t)).toFixed(1))).concat(["","K","M","B","T"][t])}},{key:"toDate",value:function(e){return"".concat(e.substring(0,4),"-").concat(e.substring(4,6),"-").concat(e.substring(6,8))}},{key:"toMonth",value:function(e){return new Date(1970,e-1,15).toLocaleDateString("default",{month:"short"})}},{key:"toNum",value:function(e){return(new Intl.NumberFormat).format(e)}},{key:"toPerc",value:function(e){return"".concat((100*e/this.data.captures).toFixed(2),"%")}},{key:"numCell",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return'<td title="'.concat([t,this.toPerc(e),this.toSn(e),this.toNum(e)].filter((function(e){return e})).join("\n"),'">').concat(this.formatter(e),"</td>")}},{key:"numSum",value:function(e){return e.reduce((function(e,t){return e+t}),0)}},{key:"urim",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return"".concat(this.playback,"/").concat(e).concat(n,"/").concat(t)}},{key:"randNums",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=is(Array(e).keys());if(t>=e)return n;for(var r=[],i=0;i<t;i++){var o=Math.floor(Math.random()*(e-i));r[i]=n[o],n[o]=n[e-i-1]}return r}},{key:"overviewTable",value:function(){return'\n<table>\n  <tbody>\n    <tr>\n      <th scope="row">Total Captures in CDX</th>\n      <td>'.concat(this.toNum(this.data.captures),'</td>\n    </tr>\n    <tr>\n      <th scope="row">Consecutive Unique URIs</th>\n      <td>').concat(this.toNum(this.data.urls),'</td>\n    </tr>\n    <tr>\n      <th scope="row">Consecutive Unique Hosts</th>\n      <td>').concat(this.toNum(this.data.hosts),'</td>\n    </tr>\n    <tr>\n      <th scope="row">Total WARC Records Size</th>\n      <td>').concat(this.toFs(this.data.bytes),'</td>\n    </tr>\n    <tr>\n      <th scope="row">First Capture Date</th>\n      <td>').concat(this.toDate(this.data.first),'</td>\n    </tr>\n    <tr>\n      <th scope="row">Last Capture Date</th>\n      <td>').concat(this.toDate(this.data.last),"</td>\n    </tr>\n  </tbody>\n</table>\n")}},{key:"gridTable",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(e){return e};r.length||(r=Object.keys(Object.values(e)[0]));var o=r.reduce((function(e,t){return e[t]=0,e}),{});return'\n<table>\n  <thead>\n    <tr>\n      <th scope="col">'.concat(n,"</th>\n      ").concat(r.map((function(e){return'<th scope="col">'.concat(i(e),"</th>")})).join("\n"),'\n      <th scope="col">TOTAL</th>\n    </tr>\n  </thead>\n  <tbody>\n  ').concat(Object.entries(e).map((function(e){return'\n    <tr>\n      <th scope="row">'.concat(e[0],"</th>\n      ").concat(r.map((function(n){return o[n]+=e[1][n],t.numCell(e[1][n],"".concat(e[0]," - ").concat(i(n)))})).join("\n"),"\n      ").concat(t.numCell(t.numSum(Object.values(e[1])),e[0]),"\n    </tr>")})).join("\n"),"\n  </tbody>\n  ").concat(Object.keys(e).length>1&&'\n  <tfoot>\n    <tr>\n      <th scope="col">TOTAL</th>\n      '.concat(r.map((function(e){return t.numCell(o[e],i(e))})).join("\n"),"\n      ").concat(this.numCell(this.data.captures,"ALL"),"\n    </tr>\n  </tfoot>"),"\n</table>\n")}},{key:"topHostsTable",value:function(){var e=this,t=this.data.hosts-Object.keys(this.data.tophosts).length,n=this.data.captures-this.numSum(Object.values(this.data.tophosts));return'\n<table>\n  <thead>\n    <tr>\n      <th scope="col">Host</th>\n      <th scope="col">Captures</th>\n    </tr>\n  </thead>\n  <tbody>\n  '.concat(Object.entries(this.data.tophosts).map((function(t){return'\n    <tr>\n      <th scope="row">'.concat(t[0],"</th>\n      ").concat(e.numCell(t[1],t[0]),"\n    </tr>")})).join("\n"),"\n  </tbody>\n  ").concat(t>0&&'\n  <tfoot>\n    <tr>\n      <th scope="row">OTHERS ('.concat(this.toNum(t)," Hosts)</th>\n      ").concat(this.numCell(n,"OTHERS"),"\n    </tr>\n  </tfoot>"),"\n</table>\n")}},{key:"sampleCapturesList",value:function(){var e=this;return"\n<details".concat(this.fold.includes("samples")?"":" open",' class="samples">\n<summary data-open="Hide Sample URIs" data-close="Show ').concat(this.data.samples.length,' Random Sample URIs"></summary>\n<ul>\n').concat(this.data.samples.map((function(e){return e.concat(e[1].replace(/^(https?:\/\/)?(www\.)?/i,""))})).sort((function(e,t){return e[2].length-t[2].length})).map((function(t){return'<li><a href="'.concat(e.urim(t[0],t[1]),'">').concat(t[2],"</a></li>")})).join("\n"),"\n</ul>\n</details>\n")}},{key:"sampleThumbs",value:function(){var e=this,t=this.data.samples;return this.randNums(t.length,this.thumbs),this.randNums(t.length,this.thumbs).map((function(n){return'\n<div class="thumb-container">\n  <div class="thumb" style="animation-delay: -'.concat(10*Math.random()|0,'s;">\n    <a href="').concat(e.urim(t[n][0],t[n][1]),'">').concat(t[n][1],'</a>\n    <iframe src="').concat(e.urim(t[n][0],t[n][1],"if_"),'" sandbox="allow-same-origin allow-scripts" scrolling="no" frameborder="0" onload="this.style.backgroundColor=\'white\'"></iframe>\n  </div>\n</div>\n')})).join("\n")}},{key:"renderSummary",value:function(){var e=this,t=this.shadow.getElementById("container");this.data.msg?t.innerHTML='<p class="info"> '.concat(this.data.msg,"</p>"):(t.innerHTML="\n<p>\nThe summary of the <i>".concat(this.name,"</i> ").concat(this.type,' below is based on the <a href="').concat(this.src,'">summary JSON file</a>.\n').concat(this.report?'A more comprehensive <a href="'.concat(this.report,'">report JSON file</a> is available for detailed analysis and research.'):"",'\n</p>\n\n<p class="info">\nHover over on numeric cells to see the values in various formats in the tooltip (percentage values are w.r.t. the total number of captures).\nInsignificant values might be reported as <code>0.00%</code>.\n</p>\n\n<h2>Overview</h2>\n<p').concat(this.compact,">\nThis overview is based on the sorted unique capture index (CDX) file of all the WARC files in the ").concat(this.type,".\nThe <code>Total WARC Records Size</code> value is neither the combined size of the WARC files nor the sum of the sizes of the archived resources, instead, it is the sum of the sizes of the compressed WARC Response records (including their headers).\n</p>\n").concat(this.overviewTable(),"\n\n<h2>MIME Type and Status Code</h2>\n<p").concat(this.compact,">\nThe matrix below shows HTTP status code groups of captures of various media types in this ").concat(this.type,".\nThe <code>Revisit</code> records do not represent an independent media type, instead, they reflect an unchanged state of representations of resources from some of their prior observations (i.e., the same content digest for the same URI).\nThe <code>TOTAL</code> column shows combined counts for each media type irrespective of their HTTP status code and the <code>TOTAL</code> row (displayed only if there are more than one media types listed) shows the combined counts of each HTTP status code group irrespective of their media types.\n</p>\n").concat(this.gridTable(this.data.mimestatus,"MIME"),"\n\n<h2>Path Segment and Query Parameter</h2>\n<p").concat(this.compact,">\nThe matrix below shows the number of path segments and the number of query parameters of various URIs in this ").concat(this.type,".\nFor example, the cell <code>P0</code> and <code>Q0</code> shows the number of captures of homepages of various hosts with zero path segments and zero query parameters.\nThe URI <code>https://example.com/img/logo.png?width=300&height=100&screen=highres</code> has two path segments (i.e., <code>/img/logo.png</code>) and three query parameters (i.e., <code>width=300&height=100&screen=highres</code>), hence counted under the <code>P2</code> and <code>Q3</code> cell.\nThe <code>TOTAL</code> column shows combined counts for URIs with a specific number of path segments irrespective of their number of query parameters and the <code>TOTAL</code> row (displayed only if there are URIs with a varying number of path segments) shows the combined counts for URIs with a specific number of query parameters irrespective of their number of path segments.\n</p>\n").concat(this.gridTable(this.data.pathquery,"Path"),"\n\n<h2>Year and Month</h2>\n<p").concat(this.compact,">\nThe matrix below shows the number of captures of this ").concat(this.type," observed in different calendar years and months.\nThe <code>TOTAL</code> column shows combined counts for corresponding years and the <code>TOTAL</code> row (displayed only if the captures were observed across multiple calendar years) shows the combined number of captures observed in the corresponding calendar months irrespective of their years.\n</p>\n").concat(this.gridTable(this.data.yearmonth,"Year",Object.keys(Object.values(this.data.yearmonth)[0]).sort(),this.toMonth),"\n\n<h2>Top <i>").concat(this.toNum(Object.keys(this.data.tophosts).length),"</i> Out of <i>").concat(this.toNum(this.data.hosts),"</i> Hosts</h2>\n<p").concat(this.compact,">\nThe table below shows the top hosts of this ").concat(this.type," based on the number of captures of URIs from each host.\nThe <code>OTHERS</code> row, if present, is the sum of the longtail of hosts.\n</p>\n").concat(this.topHostsTable(),"\n\n<h2>Random HTML Capture Samples</h2>\n").concat(this.thumbs?'\n<button id="thumb-loader">Load '.concat(1==this.thumbs?"a sample":"".concat(this.thumbs," samples"),'</button>\n<div id="sample-thumbs">\n').concat(this.fold.includes("thumbs")?"":this.sampleThumbs(),"\n</div>"):"","\n<p").concat(this.compact,">\nBelow is a list of random sample of captured URIs linked to their corresponding Wayback Machine playback URIs from this ").concat(this.type,".\nThe sample is chosen only from captures that were observed with the <code>text/html</code> media type and <code>200 OK</code> HTTP status code.\nAny unexpected URIs listed below (e.g., with a <code>.png/.jpg/.pdf</code> file extension) are likely a result of the Soft-404 issue from the origin server.\n</p>\n").concat(this.sampleCapturesList(),"\n"),this.thumbs&&(this.shadow.getElementById("thumb-loader").onclick=function(t){e.shadow.getElementById("sample-thumbs").innerHTML=e.sampleThumbs()}))}},{key:"fetchSummary",value:(s=rs(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t);case 3:return e.next=5,e.sent.json();case 5:this.data=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),this.data.msg='Summary data is not available! Use the <a href="'.concat(this.CLIREPO,'">CDX Summary CLI tool</a> instead.');case 11:this.renderSummary();case 12:case"end":return e.stop()}}),e,this,[[0,8]])}))),function(e){return s.apply(this,arguments)})},{key:"connectedCallback",value:(a=rs(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.playback=(this.getAttribute("playback")||this.WAYBACK).replace(/\/+$/,""),this.thumbs=(parseInt(this.getAttribute("thumbs"))+1||5)-1,this.format=this.getAttribute("format")||"local",this.formatter="short"==this.format?this.toSn:"percent"==this.format?this.toPerc:this.toNum,this.fold=(this.getAttribute("fold")||"").split(/\W+/).filter(Boolean),this.compact=this.fold.includes("description")?' title="Click to expand, if truncated..." class="compact" onclick="this.classList.toggle(\'compact\')"':"",this.type=this.getAttribute("type")||"CDX",this.name=this.getAttribute("name")||"",this.report=this.getAttribute("report")||"",this.src=this.getAttribute("src")||"",this.item=this.getAttribute("item")||"",this.item&&!this.src&&(this.src="".concat(this.PETABOX).concat(this.item,"/").concat(this.item,".summary.json")),this.item&&!this.report&&(this.report="".concat(this.PETABOX).concat(this.item,"/").concat(this.item,".report.json.gz")),this.name||(this.name=this.src.split("/").pop().replace(/(.summary)?.json$/,"")),this.data.msg=this.src?"Loading summary...":'Either "src" or "item" attribute is required for the &lt;cdx-summary&gt; element!',this.shadow.innerHTML='\n<style>\n  #container {\n    color: var(--cdxsummary-main-txt-color);\n    background: var(--cdxsummary-main-bg-color);\n    font-family: var(--cdxsummary-main-font-family, sans-serif);\n    font-size: var(--cdxsummary-main-font-size);\n    margin: var(--cdxsummary-main-margin);\n    padding: var(--cdxsummary-main-padding, 5px);\n  }\n  #container > *:first-child {\n    margin-top: 0;\n  }\n  #container > *:last-child, .samples ul {\n    margin-bottom: 0;\n  }\n  pre, code {\n    font-family: var(--cdxsummary-mono-font-family, monospace);\n  }\n  a {\n    color: var(--cdxsummary-link-txt-color, blue);\n    background: var(--cdxsummary-link-bg-color);\n    text-decoration: var(--cdxsummary-link-txt-decoration, underline);\n  }\n  a:hover, a:focus {\n    text-decoration: underline;\n  }\n  .info {\n    color: var(--cdxsummary-info-txt-color);\n    background: var(--cdxsummary-info-bg-color);\n    font-family: var(--cdxsummary-info-font-family, var(--cdxsummary-main-font-family, sans-serif));\n    font-size: var(--cdxsummary-info-font-size);\n    font-style: var(--cdxsummary-info-font-style, italic);\n    border: var(--cdxsummary-info-border);\n    border-radius: var(--cdxsummary-info-border-radius);\n    margin: var(--cdxsummary-info-margin, 5px);\n    padding: var(--cdxsummary-info-padding, 5px);\n  }\n  .info::before {\n    content: "i";\n    border: 1px solid;\n    border-radius: 0.6em;\n    line-height: 1em;\n    width: 1em;\n    display: inline-block;\n    text-align: center;\n  }\n  h2 {\n    color: var(--cdxsummary-h2-txt-color);\n    background: var(--cdxsummary-h2-bg-color);\n    font-family: var(--cdxsummary-h2-font-family);\n    font-size: var(--cdxsummary-h2-font-size, 1.5em);\n    margin: var(--cdxsummary-h2-margin, 1em 0 0.7em);\n    padding: var(--cdxsummary-h2-padding);\n  }\n  table {\n    border-collapse: collapse;\n    display: block;\n    max-width: fit-content;\n    overflow-x: auto;\n    white-space: nowrap;\n    color: var(--cdxsummary-tbl-txt-color);\n    background: var(--cdxsummary-tbl-bg-color);\n    font-family: var(--cdxsummary-tbl-font-family);\n    font-size: var(--cdxsummary-tbl-font-size);\n    margin: var(--cdxsummary-tbl-margin);\n  }\n  tr:nth-child(even), li:nth-child(even) {\n    color: var(--cdxsummary-tbl-alt-txt-color);\n    background: var(--cdxsummary-tbl-alt-bg-color);\n  }\n  th, td {\n    text-align: right;\n    padding: 2px 2px 2px 10px;\n  }\n  th:nth-child(1) {\n    text-align: left;\n    padding: 2px 10px 2px 2px;\n  }\n  table, thead {\n    border-bottom: var(--cdxsummary-tbl-border, 1px solid var(--cdxsummary-tbl-hdr-bg-color, gray));\n  }\n  table, tfoot {\n    border-top: var(--cdxsummary-tbl-border, 1px solid var(--cdxsummary-tbl-hdr-bg-color, gray));\n  }\n  thead, tfoot {\n    color: var(--cdxsummary-tbl-hdr-txt-color, white);\n    background: var(--cdxsummary-tbl-hdr-bg-color, gray);\n  }\n  button {\n    color: var(--cdxsummary-btn-txt-color, var(--cdxsummary-tbl-hdr-txt-color, white));\n    background: var(--cdxsummary-btn-bg-color, var(--cdxsummary-tbl-hdr-bg-color, gray));\n    font-family: var(--cdxsummary-btn-font-family);\n    font-size: var(--cdxsummary-btn-font-size);\n    border: var(--cdxsummary-btn-border, var(--cdxsummary-tbl-border, 1px solid var(--cdxsummary-tbl-hdr-bg-color, gray)));\n    border-radius: var(--cdxsummary-btn-border-radius, 5px);\n    margin: var(--cdxsummary-btn-margin, 0 0 10px);\n    padding: var(--cdxsummary-btn-padding, 5px 10px);\n  }\n  .thumb-container {\n    display: inline-block;\n    overflow: hidden;\n    position: relative;\n  }\n  .thumb {\n    width: calc(960px * var(--cdxsummary-thumb-scale, 0.3));\n    aspect-ratio: 16 / 10;\n    overflow: hidden;\n    border: var(--cdxsummary-thumb-border, var(--cdxsummary-tbl-border, 1px solid var(--cdxsummary-tbl-hdr-bg-color, gray)));\n    border-radius: var(--cdxsummary-thumb-border-radius, 5px);\n    padding: 2px;\n    background: linear-gradient(45deg, #eee, #333, #eee);\n    background-position: center 2px;\n    background-size: 50% 2px;\n    background-repeat: no-repeat;\n    animation: loader 10s ease infinite;\n  }\n  .thumb a {\n    display: block;\n    position: absolute;\n    z-index: 2;\n    inset: 0;\n    color: #fff;\n    background: #fff;\n    opacity: 0;\n  }\n  .thumb iframe {\n    overflow: hidden;\n    position: relative;\n    z-index: 1;\n    width: 960px;\n    aspect-ratio: 16 / 10;\n    transform-origin: 0 0;\n    transform: scale(var(--cdxsummary-thumb-scale, 0.3));\n  }\n  @keyframes loader {\n    0%, 100% {\n      background-position: left 10px top 2px;\n    }\n    50% {\n      background-position: right 10px top 2px;\n    }\n  }\n  summary {\n    cursor: pointer;\n  }\n  details {\n    margin-bottom: 20px;\n  }\n  details.samples[open] summary::after {\n    content: attr(data-open);\n  }\n  details.samples:not([open]) summary::after {\n    content: attr(data-close);\n  }\n  ul {\n    word-break: break-all;\n    list-style-position: inside;\n    padding-inline-start: 0;\n  }\n  .compact {\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    cursor: pointer;\n  }\n</style>\n<div id="container">\n</div>\n',this.src&&this.fetchSummary(this.src),this.renderSummary();case 18:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})}])&&as(r.prototype,i),o&&as(r,o),l}(ls(HTMLElement));function bs(e){return(bs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gs(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ws(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ks(e,t,n){return(ks="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Es(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function xs(e,t){return(xs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Os(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Es(e);if(t){var i=Es(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return js(this,n)}}function js(e,t){return!t||"object"!==bs(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Es(e){return(Es=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}customElements.define("cdx-summary",vs);var Ss,Cs,Ts,Ps,As=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xs(e,t)}(o,e);var t,n,r,i=Os(o);function o(){return gs(this,o),i.apply(this,arguments)}return t=o,(n=[{key:"getDisplayValue",value:function(e,t){return Array.isArray(t)?ks(Es(o.prototype),"getDisplayValue",this).call(this,e,t):Po(t)}}])&&ws(t.prototype,n),r&&ws(t,r),o}(Vi);function Rs(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ds(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ds(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ds(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _s(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Is(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zs(e,t){return(zs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ms(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Fs(e);if(t){var i=Fs(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ls(this,n)}}function Ls(e,t){return!t||"object"!==Ns(t)&&"function"!=typeof t?Bs(e):t}function Bs(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fs(e){return(Fs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ns(e){return(Ns="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Us(){Us=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){["method","field"].forEach((function(n){t.forEach((function(t){t.kind===n&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var n=e.prototype;["method","field"].forEach((function(r){t.forEach((function(t){var i=t.placement;if(t.kind===r&&("static"===i||"prototype"===i)){var o="static"===i?e:n;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var n=t.descriptor;if("field"===t.kind){var r=t.initializer;n={enumerable:n.enumerable,writable:n.writable,configurable:n.configurable,value:void 0===r?void 0:r.call(e)}}Object.defineProperty(e,t.key,n)},decorateClass:function(e,t){var n=[],r=[],i={static:[],prototype:[],own:[]};if(e.forEach((function(e){this.addElementPlacement(e,i)}),this),e.forEach((function(e){if(!Vs(e))return n.push(e);var t=this.decorateElement(e,i);n.push(t.element),n.push.apply(n,t.extras),r.push.apply(r,t.finishers)}),this),!t)return{elements:n,finishers:r};var o=this.decorateConstructor(n,t);return r.push.apply(r,o.finishers),o.finishers=r,o},addElementPlacement:function(e,t,n){var r=t[e.placement];if(!n&&-1!==r.indexOf(e.key))throw new TypeError("Duplicated element ("+e.key+")");r.push(e.key)},decorateElement:function(e,t){for(var n=[],r=[],i=e.decorators,o=i.length-1;o>=0;o--){var a=t[e.placement];a.splice(a.indexOf(e.key),1);var s=this.fromElementDescriptor(e),c=this.toElementFinisherExtras((0,i[o])(s)||s);e=c.element,this.addElementPlacement(e,t),c.finisher&&r.push(c.finisher);var l=c.extras;if(l){for(var u=0;u<l.length;u++)this.addElementPlacement(l[u],t);n.push.apply(n,l)}}return{element:e,finishers:r,extras:n}},decorateConstructor:function(e,t){for(var n=[],r=t.length-1;r>=0;r--){var i=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[r])(i)||i);if(void 0!==o.finisher&&n.push(o.finisher),void 0!==o.elements){e=o.elements;for(var a=0;a<e.length-1;a++)for(var s=a+1;s<e.length;s++)if(e[a].key===e[s].key&&e[a].placement===e[s].placement)throw new TypeError("Duplicated element ("+e[a].key+")")}}return{elements:e,finishers:n}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return(t=e,function(e){if(Array.isArray(e))return e}(t)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return qs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qs(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map((function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var n=Ys(e.key),r=String(e.placement);if("static"!==r&&"prototype"!==r&&"own"!==r)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+r+'"');var i=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:n,placement:r,descriptor:Object.assign({},i)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(i,"get","The property descriptor of a field descriptor"),this.disallowProperty(i,"set","The property descriptor of a field descriptor"),this.disallowProperty(i,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:Ks(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:e.map(this.fromElementDescriptor,this)};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var n=Ks(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:n}},runClassFinishers:function(e,t){for(var n=0;n<t.length;n++){var r=(0,t[n])(e);if(void 0!==r){if("function"!=typeof r)throw new TypeError("Finishers must return a constructor.");e=r}}return e},disallowProperty:function(e,t,n){if(void 0!==e[t])throw new TypeError(n+" can't have a ."+t+" property.")}};return e}function Hs(e){var t,n=Ys(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var r={kind:"field"===e.kind?"field":"method",key:n,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(r.decorators=e.decorators),"field"===e.kind&&(r.initializer=e.value),r}function Gs(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function Vs(e){return e.decorators&&e.decorators.length}function Ws(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function Ks(e,t){var n=e[t];if(void 0!==n&&"function"!=typeof n)throw new TypeError("Expected '"+t+"' to be a function");return n}function Ys(e){var t=function(e,t){if("object"!==Ns(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Ns(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Ns(t)?t:String(t)}function qs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $s,Xs,Js,Qs,Zs,ec,tc,nc,rc,ic,oc,ac,sc,cc,lc;!function(e,t,n,r){var i=Us();if(r)for(var o=0;o<r.length;o++)i=r[o](i);var a=t((function(e){i.initializeInstanceElements(e,s.elements)}),n),s=i.decorateClass(function(e){for(var t=[],n=function(e){return"method"===e.kind&&e.key===o.key&&e.placement===o.placement},r=0;r<e.length;r++){var i,o=e[r];if("method"===o.kind&&(i=t.find(n)))if(Ws(o.descriptor)||Ws(i.descriptor)){if(Vs(o)||Vs(i))throw new ReferenceError("Duplicated methods ("+o.key+") can't be decorated.");i.descriptor=o.descriptor}else{if(Vs(o)){if(Vs(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+o.key+").");i.decorators=o.decorators}Gs(o,i)}else t.push(o)}return t}(a.d.map(Hs)),e);i.initializeClassElements(a.F,s.elements),i.runClassFinishers(a.F,s.finishers)}([Object(O.a)("metadata-list")],(function(e,t){return{F:function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zs(e,t)}(r,t);var n=Ms(r);function r(){var t;Is(this,r);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=n.call.apply(n,[this].concat(o)),e(Bs(t)),t}return r}(t),d:[{kind:"field",decorators:[Object(O.b)({type:Object})],key:"metadata",value:void 0},{kind:"field",decorators:[Object(O.b)({type:Object})],key:"handlers",value:void 0},{kind:"field",decorators:[Object(O.b)({type:Object})],key:"defaultHandler",value:function(){return new As}},{kind:"field",decorators:[Object(O.b)({type:Number})],key:"numUnhiddenRows",value:function(){return 12}},{kind:"field",decorators:[Object(O.e)()],key:"allRowsExpanded",value:function(){return!1}},{kind:"field",key:"sortedVisibleMetadata",value:void 0},{kind:"method",key:"render",value:function(){var e=this;return this.metadata?Object(x.c)(Ss||(Ss=_s(['\n      <dl\n        id="metadata-list"\n        class=',"\n      >\n        ","\n      </dl>\n      ","\n    "])),this.allRowsExpanded?"expanded":x.d,Object(ut.a)(this.sortedVisibleMetadata,(function(t,n){var r=t.key,i=t.val,o=t.handler,a=n>=e.numUnhiddenRows?"collapsible":x.d;return Object(x.c)(Cs||(Cs=_s(["\n            <dt class=",">","</dt>\n            <dd class=",">","</dd>\n          "])),a,o.getDisplayKey(r,i),a,o.getDisplayValue(r,i))})),this.collapserBtnTemplate):x.d}},{kind:"method",key:"willUpdate",value:function(e){var t=this;e.has("metadata")&&(this.metadata?this.sortedVisibleMetadata=Object.entries(this.metadata).map((function(e){var n=Rs(e,2),r=n[0];return{key:r,val:n[1],displayName:Ui(r),handler:t.getHandlerFor(r)}})).filter((function(e){return e.handler.shouldDisplay})).sort((function(e,t){return e.displayName.localeCompare(t.displayName)})):this.sortedVisibleMetadata=[])}},{kind:"get",key:"collapserBtnTemplate",value:function(){if(!this.sortedVisibleMetadata||this.sortedVisibleMetadata.length<=this.numUnhiddenRows)return x.d;var e=this.allRowsExpanded?Object(E.c)("Show Less"):Object(E.c)("Show More");return Object(x.c)(Ts||(Ts=_s(['\n      <button id="collapser-btn" @click=',">\n        ","\n      </button>\n    "])),this.collapserBtnClicked,e)}},{kind:"method",key:"collapserBtnClicked",value:function(){this.allRowsExpanded=!this.allRowsExpanded,this.dispatchEvent(new CustomEvent("metadataCollapseStateChange",{detail:{expanded:this.allRowsExpanded}}))}},{kind:"method",key:"getHandlerFor",value:function(e){var t,n;return null!=(n=null==(t=this.handlers)?void 0:t[e])?n:this.defaultHandler}},{kind:"get",static:!0,key:"styles",value:function(){return Object(x.b)(Ps||(Ps=_s(["\n      a:link {\n        color: var(--ia-theme-link-color, #4b64ff);\n        text-decoration: none;\n      }\n\n      a:link:hover {\n        text-decoration: underline;\n      }\n\n      #metadata-list {\n        display: grid;\n        grid-template-columns: 1fr 2fr;\n        margin: 10px 0 0;\n        padding-left: 15px;\n        font-size: 1.6rem;\n      }\n\n      #metadata-list > dt,\n      #metadata-list > dd {\n        word-break: break-word;\n      }\n\n      #metadata-list > dd ul {\n        margin: 0;\n        padding: 0;\n        list-style: none;\n      }\n\n      #metadata-list:not(.expanded) .collapsible {\n        display: none;\n      }\n\n      #collapser-btn {\n        margin: 5px 0 10px 15px;\n        padding: 3px 12px;\n        border: 1px solid #ccc;\n        background: none;\n        appearance: none;\n        color: #767676;\n        font-size: 1rem;\n        font-weight: 200;\n        text-transform: uppercase;\n        overflow-anchor: none;\n        vertical-align: top;\n        cursor: pointer;\n      }\n\n      .metadata-urn-row {\n        display: flex;\n      }\n\n      .metadata-urn-link,\n      .metadata-external-icon {\n        margin: 1px 0 -1px 5px;\n      }\n\n      .metadata-urn-icon,\n      .metadata-external-icon {\n        width: 1.3rem;\n        height: 1.3rem;\n      }\n    "])))}}]}}),x.a);function uc(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function dc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fc(e,t){return(fc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=yc(e);if(t){var i=yc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return hc(this,n)}}function hc(e,t){return!t||"object"!==vc(t)&&"function"!=typeof t?mc(e):t}function mc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yc(e){return(yc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vc(e){return(vc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bc(){bc=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){["method","field"].forEach((function(n){t.forEach((function(t){t.kind===n&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var n=e.prototype;["method","field"].forEach((function(r){t.forEach((function(t){var i=t.placement;if(t.kind===r&&("static"===i||"prototype"===i)){var o="static"===i?e:n;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var n=t.descriptor;if("field"===t.kind){var r=t.initializer;n={enumerable:n.enumerable,writable:n.writable,configurable:n.configurable,value:void 0===r?void 0:r.call(e)}}Object.defineProperty(e,t.key,n)},decorateClass:function(e,t){var n=[],r=[],i={static:[],prototype:[],own:[]};if(e.forEach((function(e){this.addElementPlacement(e,i)}),this),e.forEach((function(e){if(!kc(e))return n.push(e);var t=this.decorateElement(e,i);n.push(t.element),n.push.apply(n,t.extras),r.push.apply(r,t.finishers)}),this),!t)return{elements:n,finishers:r};var o=this.decorateConstructor(n,t);return r.push.apply(r,o.finishers),o.finishers=r,o},addElementPlacement:function(e,t,n){var r=t[e.placement];if(!n&&-1!==r.indexOf(e.key))throw new TypeError("Duplicated element ("+e.key+")");r.push(e.key)},decorateElement:function(e,t){for(var n=[],r=[],i=e.decorators,o=i.length-1;o>=0;o--){var a=t[e.placement];a.splice(a.indexOf(e.key),1);var s=this.fromElementDescriptor(e),c=this.toElementFinisherExtras((0,i[o])(s)||s);e=c.element,this.addElementPlacement(e,t),c.finisher&&r.push(c.finisher);var l=c.extras;if(l){for(var u=0;u<l.length;u++)this.addElementPlacement(l[u],t);n.push.apply(n,l)}}return{element:e,finishers:r,extras:n}},decorateConstructor:function(e,t){for(var n=[],r=t.length-1;r>=0;r--){var i=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[r])(i)||i);if(void 0!==o.finisher&&n.push(o.finisher),void 0!==o.elements){e=o.elements;for(var a=0;a<e.length-1;a++)for(var s=a+1;s<e.length;s++)if(e[a].key===e[s].key&&e[a].placement===e[s].placement)throw new TypeError("Duplicated element ("+e[a].key+")")}}return{elements:e,finishers:n}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return(t=e,function(e){if(Array.isArray(e))return e}(t)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return Ec(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ec(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map((function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var n=jc(e.key),r=String(e.placement);if("static"!==r&&"prototype"!==r&&"own"!==r)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+r+'"');var i=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:n,placement:r,descriptor:Object.assign({},i)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(i,"get","The property descriptor of a field descriptor"),this.disallowProperty(i,"set","The property descriptor of a field descriptor"),this.disallowProperty(i,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:Oc(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:e.map(this.fromElementDescriptor,this)};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var n=Oc(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:n}},runClassFinishers:function(e,t){for(var n=0;n<t.length;n++){var r=(0,t[n])(e);if(void 0!==r){if("function"!=typeof r)throw new TypeError("Finishers must return a constructor.");e=r}}return e},disallowProperty:function(e,t,n){if(void 0!==e[t])throw new TypeError(n+" can't have a ."+t+" property.")}};return e}function gc(e){var t,n=jc(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var r={kind:"field"===e.kind?"field":"method",key:n,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(r.decorators=e.decorators),"field"===e.kind&&(r.initializer=e.value),r}function wc(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function kc(e){return e.decorators&&e.decorators.length}function xc(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function Oc(e,t){var n=e[t];if(void 0!==n&&"function"!=typeof n)throw new TypeError("Expected '"+t+"' to be a function");return n}function jc(e){var t=function(e,t){if("object"!==vc(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==vc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===vc(t)?t:String(t)}function Ec(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Sc,Cc;(function(e,t,n,r){var i=bc();if(r)for(var o=0;o<r.length;o++)i=r[o](i);var a=t((function(e){i.initializeInstanceElements(e,s.elements)}),n),s=i.decorateClass(function(e){for(var t=[],n=function(e){return"method"===e.kind&&e.key===o.key&&e.placement===o.placement},r=0;r<e.length;r++){var i,o=e[r];if("method"===o.kind&&(i=t.find(n)))if(xc(o.descriptor)||xc(i.descriptor)){if(kc(o)||kc(i))throw new ReferenceError("Duplicated methods ("+o.key+") can't be decorated.");i.descriptor=o.descriptor}else{if(kc(o)){if(kc(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+o.key+").");i.decorators=o.decorators}wc(o,i)}else t.push(o)}return t}(a.d.map(gc)),e);i.initializeClassElements(a.F,s.elements),i.runClassFinishers(a.F,s.finishers)})([Object(O.a)("collection-about")],(function(e,t){return{F:function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fc(e,t)}(r,t);var n=pc(r);function r(){var t;dc(this,r);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=n.call.apply(n,[this].concat(o)),e(mc(t)),t}return r}(t),d:[{kind:"field",decorators:[Object(O.b)({type:String})],key:"identifier",value:function(){return""}},{kind:"field",decorators:[Object(O.b)({type:Object})],key:"metadata",value:void 0},{kind:"field",decorators:[Object(O.b)({type:Object})],key:"creator",value:void 0},{kind:"field",decorators:[Object(O.b)({type:Array})],key:"contributors",value:void 0},{kind:"field",decorators:[Object(O.b)({type:Array})],key:"relatedCollections",value:void 0},{kind:"field",decorators:[Object(O.b)({type:Number})],key:"reviewCount",value:function(){return 0}},{kind:"field",decorators:[Object(O.b)({type:Number})],key:"forumCount",value:function(){return 0}},{kind:"field",decorators:[Object(O.b)({type:Number})],key:"totalViews",value:function(){return 0}},{kind:"field",decorators:[Object(O.b)({type:Number})],key:"totalItems",value:function(){return 0}},{kind:"field",decorators:[Object(O.b)({type:Object})],key:"viewsHistogramModel",value:void 0},{kind:"field",decorators:[Object(O.b)({type:Object})],key:"itemsHistogramModel",value:void 0},{kind:"field",decorators:[Object(O.b)({type:Object})],key:"geoCounts",value:function(){return null}},{kind:"field",decorators:[Object(O.b)({type:Boolean})],key:"mainContentLoading",value:function(){return!1}},{kind:"field",decorators:[Object(O.b)({type:Boolean})],key:"histogramsLoading",value:function(){return!1}},{kind:"field",decorators:[Object(O.b)({type:Boolean})],key:"geoCountsLoading",value:function(){return!1}},{kind:"field",decorators:[Object(O.b)({type:String})],key:"baseNavigationUrl",value:void 0},{kind:"field",decorators:[Object(O.b)({type:Object,attribute:!1})],key:"resizeObserver",value:void 0},{kind:"method",key:"render",value:function(){var e,t;return Object(x.c)($s||($s=uc(['\n      <div id="about-container">\n        ','\n        <div id="about-asides">\n          <collection-created-by\n            .creator=',"\n            .creationDate=","\n            .baseNavigationUrl=","\n          ></collection-created-by>\n\n          <collection-contributors\n            .creator=","\n            .contributors=","\n            .baseNavigationUrl=","\n          ></collection-contributors>\n\n          <collection-stats\n            .identifier=","\n            .totalViews=","\n            .totalItems=","\n            .viewsHistogramModel=","\n            .itemsHistogramModel=","\n            .geoCounts=","\n            .resizeObserver=","\n            ?histogramsLoading=","\n            ?geoCountsLoading=","\n          ></collection-stats>\n\n          ","\n        </div>\n      </div>\n    "])),this.mainContentTemplate,this.creator,null==(t=null==(e=this.metadata)?void 0:e.publicdate)?void 0:t.value,this.baseNavigationUrl,this.creator,this.contributors,this.baseNavigationUrl,this.identifier,this.totalViews,this.totalItems,this.viewsHistogramModel,this.itemsHistogramModel,this.geoCounts,this.resizeObserver,this.histogramsLoading,this.geoCountsLoading,this.relatedCollectionsTemplate)}},{kind:"get",key:"mainContentTemplate",value:function(){return Object(x.c)(Xs||(Xs=uc(['\n      <div id="about-main">\n        ',"\n      </div>\n    "])),this.mainContentLoading?this.mainContentLoadingTemplate:Object(x.c)(Js||(Js=uc(["\n              "," ","\n              "," ","\n              ","\n            "])),this.descriptionTemplate,this.rightsTemplate,this.activityButtonsTemplate,this.metadataListTemplate,this.webCdxSummaryTemplate))}},{kind:"get",key:"mainContentLoadingTemplate",value:function(){return Object(x.c)(Qs||(Qs=uc(['\n      <div class="loading-placeholder">\n        <div class="loading-placeholder-row"></div>\n        <div class="loading-placeholder-row"></div>\n        <div class="loading-placeholder-row"></div>\n      </div>\n    '])))}},{kind:"get",key:"descriptionTemplate",value:function(){var e;return this.itemDescription||this.bandHomepageTemplate!==x.d?Object(x.c)(Zs||(Zs=uc(['\n          <section id="about-description" class="about-section">\n            <h3 class="about-section-header">',"</h3>\n            ","\n            ","\n          </section>\n        "])),Object(E.c)("Description"),Object(j.a)(null!=(e=this.itemDescription)?e:x.d),this.bandHomepageTemplate):x.d}},{kind:"get",key:"bandHomepageTemplate",value:function(){var e,t,n=null==(t=null==(e=this.metadata)?void 0:e.rawMetadata)?void 0:t.homepage;return this.isEtreeCollection&&n?Object(x.c)(ec||(ec=uc(['<p class="etree-homepage">\n        <a href=',">","</a>\n      </p>"])),n,Object(E.c)("Band's Official Website")):x.d}},{kind:"get",key:"rightsTemplate",value:function(){return this.itemRights?Object(x.c)(tc||(tc=uc(['\n          <section id="about-rights" class="about-section">\n            <h3 class="about-section-header">',"</h3>\n            ","\n          </section>\n        "])),Object(E.c)("Rights"),Object(j.a)(this.itemRights.replace(/\n/g,"<br>"))):x.d}},{kind:"get",key:"activityButtonsTemplate",value:function(){return Object(x.c)(nc||(nc=uc(['\n      <section id="about-activity" class="about-section">\n        <h3 class="about-section-header">',"</h3>\n        <p>\n          "," ","\n        </p>\n      </section>\n    "])),Object(E.c)("Activity"),this.reviewCountButtonTemplate,this.forumCountButtonTemplate)}},{kind:"get",key:"reviewCountButtonTemplate",value:function(){return Object(x.c)(rc||(rc=uc(['\n      <button\n        class="activity-button"\n        title=',"\n        @click=",'\n      >\n        <img class="activity-icon" src=',' />\n        <span id="review-count" class="activity-count"\n          >','</span\n        >\n        <span class="sr-only">&nbsp;',"&nbsp;</span>\n      </button>\n    "])),Object(E.c)("Reviews"),this.reviewsButtonPressed,Za,this.reviewCount.toLocaleString(),Object(E.c)("reviews."))}},{kind:"get",key:"forumCountButtonTemplate",value:function(){return this.forumCount?Object(x.c)(ic||(ic=uc(['\n      <button\n        class="activity-button"\n        title=',"\n        @click=",'\n      >\n        <img class="activity-icon" src=',' />\n        <span id="forum-count" class="activity-count"\n          >','</span\n        >\n        <span class="sr-only">&nbsp;',"&nbsp;</span>\n      </button>\n    "])),Object(E.c)("Forum Posts"),this.forumButtonPressed,es,this.forumCount.toLocaleString(),Object(E.c)("forum posts.")):x.d}},{kind:"get",key:"metadataListTemplate",value:function(){var e;return Object(x.c)(oc||(oc=uc(['\n      <section class="about-section">\n        <h3 id="about-metadata-header">',"</h3>\n        <metadata-list\n          .metadata=","\n          .handlers=","\n        ></metadata-list>\n      </section>\n    "])),Object(E.c)("Collection Info"),null==(e=this.metadata)?void 0:e.rawMetadata,Qa)}},{kind:"get",key:"webCdxSummaryTemplate",value:function(){var e,t,n,r;return(null==(t=null==(e=this.metadata)?void 0:e.collection)?void 0:t.values.includes("web"))?Object(x.c)(ac||(ac=uc(['\n      <section class="about-section">\n        <h3 class="about-section-header">','</h3>\n        <cdx-summary\n          type="collection"\n          name=',"\n          item=",'\n          format="short"\n          thumbs="6"\n          fold="thumbs samples"\n          style="display: block; width: 100%; min-height: 100px;"\n        ></cdx-summary>\n      </section>\n    '])),Object(E.c)("Web Archive Summary"),null==(r=null==(n=this.metadata)?void 0:n.title)?void 0:r.value,this.identifier):x.d}},{kind:"get",key:"relatedCollectionsTemplate",value:function(){var e;return(null==(e=this.relatedCollections)?void 0:e.length)?Object(x.c)(sc||(sc=uc(['\n      <section id="related-collections" class="about-section">\n        <h3 class="about-section-header">',"</h3>\n        <ul>\n          ","\n        </ul>\n      </section>\n    "])),Object(E.c)("Related Collections"),Object(ut.a)(this.relatedCollections,(function(e){var t;return Object(x.c)(cc||(cc=uc(['<li class="related-collection">\n              <p class="related-collection-title">\n                <a href="/collection/','">\n                  <img src=',' class="related-collection-icon" />\n                  ','\n                </a>\n              </p>\n              <p class="related-collection-count">\n                ',"","\n              </p>\n            </li>"])),e.identifier,ts.a,e.title,null!=(t=e.item_count)?t:0,Object(E.c)(" items"))}))):x.d}},{kind:"get",key:"itemDescription",value:function(){var e,t;return null==(t=null==(e=this.metadata)?void 0:e.description)?void 0:t.value}},{kind:"get",key:"itemRights",value:function(){var e,t;return null==(t=null==(e=this.metadata)?void 0:e.rawMetadata)?void 0:t.rights}},{kind:"get",key:"isEtreeCollection",value:function(){var e,t,n;return null!=(n="etree"===this.identifier||(null==(t=null==(e=this.metadata)?void 0:e.collection)?void 0:t.values.includes("etree")))&&n}},{kind:"method",key:"reviewsButtonPressed",value:function(){this.dispatchEvent(new CustomEvent("reviewsButtonPressed"))}},{kind:"method",key:"forumButtonPressed",value:function(){this.dispatchEvent(new CustomEvent("forumButtonPressed"))}},{kind:"get",static:!0,key:"styles",value:function(){return Object(x.b)(lc||(lc=uc(["\n      :host {\n        --relatedCollectionIconSize: 20px;\n        --relatedCollectionIconGap: 5px;\n      }\n\n      a:link {\n        color: var(--ia-theme-link-color, #4b64ff);\n        text-decoration: none;\n      }\n\n      a:link:hover {\n        text-decoration: underline;\n      }\n\n      #about-container {\n        display: flex;\n        padding: 10px 0 20px;\n        column-gap: 20px;\n        background: var(--ia-theme-secondary-background-color, white);\n      }\n\n      @media (max-width: 767px) {\n        #about-container {\n          flex-direction: column;\n        }\n      }\n\n      #about-main {\n        flex: 1 1 calc(100% * 7 / 12);\n        word-break: break-word;\n      }\n\n      .loading-placeholder {\n        padding: 10px;\n      }\n\n      .loading-placeholder-row {\n        display: block;\n        width: 100%;\n        height: 20px;\n        margin-bottom: 5px;\n        background: linear-gradient(to right bottom, #dddddd, #d8d8d8);\n        border-radius: 4px;\n      }\n\n      .about-section {\n        margin: 10px;\n      }\n\n      .about-section:not(:first-of-type) {\n        margin-top: 40px;\n      }\n\n      .about-section-header {\n        margin: 10px 0;\n        font-size: 1rem;\n        font-weight: normal;\n        text-transform: uppercase;\n      }\n\n      .etree-homepage {\n        font-weight: bold;\n      }\n\n      #about-metadata-header {\n        font-size: 1.8rem;\n        font-weight: normal;\n      }\n\n      #about-asides {\n        display: flex;\n        flex-direction: column;\n        align-items: flex-start;\n        row-gap: 15px;\n        flex: 1 1 calc(100% * 5 / 12);\n      }\n\n      #about-asides > .about-section {\n        padding: 10px;\n      }\n\n      collection-contributors {\n        padding: 10px;\n      }\n\n      collection-stats {\n        width: 100%;\n      }\n\n      #related-collections > ul {\n        margin: 0;\n        padding: 0;\n        list-style-type: none;\n      }\n\n      .related-collection {\n        margin-bottom: 10px;\n      }\n\n      .related-collection > p {\n        margin: 0;\n      }\n\n      .related-collection-icon {\n        width: var(--relatedCollectionIconSize, 20px);\n        height: 100%;\n        margin-top: -2px;\n      }\n\n      .related-collection-title {\n        font-weight: bold;\n      }\n\n      .related-collection-title > a {\n        display: flex;\n        column-gap: var(--relatedCollectionIconGap, 5px);\n        color: inherit;\n      }\n\n      .related-collection-title > a:link:hover {\n        text-decoration: none;\n      }\n\n      .related-collection-count {\n        padding-left: calc(\n          var(--relatedCollectionIconSize, 20px) +\n            var(--relatedCollectionIconGap, 5px)\n        );\n      }\n\n      .activity-button {\n        display: inline-flex;\n        align-items: center;\n        column-gap: 10px;\n        margin: 0 25px 0 0;\n        padding: 0;\n        border: none;\n        color: inherit;\n        background: none;\n        appearance: none;\n        cursor: pointer;\n      }\n\n      .activity-count {\n        font-size: 3rem;\n      }\n\n      .activity-icon {\n        width: 35px;\n        height: 100%;\n      }\n\n      cdx-summary {\n        --cdxsummary-main-font-family: var(\n          --ia-theme-base-font-family,\n          'Helvetica Neue',\n          Helvetica,\n          Arial,\n          sans-serif\n        );\n        --cdxsummary-mono-font-family: Monaco, Menlo, Consolas, 'Courier New',\n          monospace;\n        --cdxsummary-link-txt-color: var(--ia-theme-link-color, #4b64ff);\n        --cdxsummary-link-txt-decoration: none;\n        --cdxsummary-h2-font-size: 18px;\n        --cdxsummary-tbl-hdr-txt-color: #ffffff;\n        --cdxsummary-tbl-hdr-bg-color: #767676;\n        --cdxsummary-btn-txt-color: #ffffff;\n        --cdxsummary-btn-bg-color: #194880;\n        --cdxsummary-btn-font-size: 14px;\n        --cdxsummary-btn-border: 1px solid #428bca;\n        --cdxsummary-btn-border-radius: 5px;\n        --cdxsummary-btn-padding: 6px 10px;\n      }\n      cdx-summary:focus {\n        outline: none;\n      }\n\n      .hidden {\n        display: none;\n      }\n\n      .sr-only {\n        position: absolute !important;\n        width: 1px !important;\n        height: 1px !important;\n        margin: -1px !important;\n        padding: 0 !important;\n        border: 0 !important;\n        overflow: hidden !important;\n        white-space: nowrap !important;\n        clip: rect(1px, 1px, 1px, 1px) !important;\n        -webkit-clip-path: inset(50%) !important;\n        clip-path: inset(50%) !important;\n        user-select: none !important;\n      }\n    "])))}}]}}),x.a),n(241);function Tc(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Pc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ac(e,t){return(Ac=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Rc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ic(e);if(t){var i=Ic(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Dc(this,n)}}function Dc(e,t){return!t||"object"!==zc(t)&&"function"!=typeof t?_c(e):t}function _c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ic(e){return(Ic=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function zc(e){return(zc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mc(){Mc=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){["method","field"].forEach((function(n){t.forEach((function(t){t.kind===n&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var n=e.prototype;["method","field"].forEach((function(r){t.forEach((function(t){var i=t.placement;if(t.kind===r&&("static"===i||"prototype"===i)){var o="static"===i?e:n;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var n=t.descriptor;if("field"===t.kind){var r=t.initializer;n={enumerable:n.enumerable,writable:n.writable,configurable:n.configurable,value:void 0===r?void 0:r.call(e)}}Object.defineProperty(e,t.key,n)},decorateClass:function(e,t){var n=[],r=[],i={static:[],prototype:[],own:[]};if(e.forEach((function(e){this.addElementPlacement(e,i)}),this),e.forEach((function(e){if(!Fc(e))return n.push(e);var t=this.decorateElement(e,i);n.push(t.element),n.push.apply(n,t.extras),r.push.apply(r,t.finishers)}),this),!t)return{elements:n,finishers:r};var o=this.decorateConstructor(n,t);return r.push.apply(r,o.finishers),o.finishers=r,o},addElementPlacement:function(e,t,n){var r=t[e.placement];if(!n&&-1!==r.indexOf(e.key))throw new TypeError("Duplicated element ("+e.key+")");r.push(e.key)},decorateElement:function(e,t){for(var n=[],r=[],i=e.decorators,o=i.length-1;o>=0;o--){var a=t[e.placement];a.splice(a.indexOf(e.key),1);var s=this.fromElementDescriptor(e),c=this.toElementFinisherExtras((0,i[o])(s)||s);e=c.element,this.addElementPlacement(e,t),c.finisher&&r.push(c.finisher);var l=c.extras;if(l){for(var u=0;u<l.length;u++)this.addElementPlacement(l[u],t);n.push.apply(n,l)}}return{element:e,finishers:r,extras:n}},decorateConstructor:function(e,t){for(var n=[],r=t.length-1;r>=0;r--){var i=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[r])(i)||i);if(void 0!==o.finisher&&n.push(o.finisher),void 0!==o.elements){e=o.elements;for(var a=0;a<e.length-1;a++)for(var s=a+1;s<e.length;s++)if(e[a].key===e[s].key&&e[a].placement===e[s].placement)throw new TypeError("Duplicated element ("+e[a].key+")")}}return{elements:e,finishers:n}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return(t=e,function(e){if(Array.isArray(e))return e}(t)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return Gc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Gc(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map((function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var n=Hc(e.key),r=String(e.placement);if("static"!==r&&"prototype"!==r&&"own"!==r)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+r+'"');var i=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:n,placement:r,descriptor:Object.assign({},i)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(i,"get","The property descriptor of a field descriptor"),this.disallowProperty(i,"set","The property descriptor of a field descriptor"),this.disallowProperty(i,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:Uc(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:e.map(this.fromElementDescriptor,this)};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var n=Uc(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:n}},runClassFinishers:function(e,t){for(var n=0;n<t.length;n++){var r=(0,t[n])(e);if(void 0!==r){if("function"!=typeof r)throw new TypeError("Finishers must return a constructor.");e=r}}return e},disallowProperty:function(e,t,n){if(void 0!==e[t])throw new TypeError(n+" can't have a ."+t+" property.")}};return e}function Lc(e){var t,n=Hc(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var r={kind:"field"===e.kind?"field":"method",key:n,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(r.decorators=e.decorators),"field"===e.kind&&(r.initializer=e.value),r}function Bc(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function Fc(e){return e.decorators&&e.decorators.length}function Nc(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function Uc(e,t){var n=e[t];if(void 0!==n&&"function"!=typeof n)throw new TypeError("Expected '"+t+"' to be a function");return n}function Hc(e){var t=function(e,t){if("object"!==zc(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==zc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===zc(t)?t:String(t)}function Gc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Vc,Wc,Kc;!function(e,t,n,r){var i=Mc();if(r)for(var o=0;o<r.length;o++)i=r[o](i);var a=t((function(e){i.initializeInstanceElements(e,s.elements)}),n),s=i.decorateClass(function(e){for(var t=[],n=function(e){return"method"===e.kind&&e.key===o.key&&e.placement===o.placement},r=0;r<e.length;r++){var i,o=e[r];if("method"===o.kind&&(i=t.find(n)))if(Nc(o.descriptor)||Nc(i.descriptor)){if(Fc(o)||Fc(i))throw new ReferenceError("Duplicated methods ("+o.key+") can't be decorated.");i.descriptor=o.descriptor}else{if(Fc(o)){if(Fc(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+o.key+").");i.decorators=o.decorators}Bc(o,i)}else t.push(o)}return t}(a.d.map(Lc)),e);i.initializeClassElements(a.F,s.elements),i.runClassFinishers(a.F,s.finishers)}([Object(O.a)("day-in-history")],(function(e,t){return{F:function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ac(e,t)}(r,t);var n=Rc(r);function r(){var t;Pc(this,r);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=n.call.apply(n,[this].concat(o)),e(_c(t)),t}return r}(t),d:[{kind:"method",key:"render",value:function(){return Object(x.c)(Sc||(Sc=Tc(['\n      <button class="day-in-history-btn" @click=',">\n        <slot>","</slot>\n      </button>\n    "])),this.handleClick,Object(E.c)("this day in history"))}},{kind:"method",key:"handleClick",value:function(){var e=new Date,t=(e.getMonth()+1).toString().padStart(2,"0"),n=e.getDate().toString().padStart(2,"0"),r='title:"-'.concat(t,"-").concat(n,'"');this.dispatchEvent(new CustomEvent("searchRequested",{detail:r,bubbles:!0,composed:!0}))}},{kind:"get",static:!0,key:"styles",value:function(){return Object(x.b)(Cc||(Cc=Tc(["\n      .day-in-history-btn {\n        color: var(--ia-theme-link-color, #4b64ff);\n        text-decoration: none;\n\n        appearance: none;\n        background: none;\n        margin: 0;\n        padding: 0;\n        border: 0;\n        font: inherit;\n        cursor: pointer;\n      }\n\n      .day-in-history-btn:hover {\n        text-decoration: underline;\n      }\n    "])))}}]}}),x.a);function Yc(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function qc(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function $c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xc(e,t){return(Xc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Jc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=el(e);if(t){var i=el(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Qc(this,n)}}function Qc(e,t){return!t||"object"!==tl(t)&&"function"!=typeof t?Zc(e):t}function Zc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function el(e){return(el=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tl(e){return(tl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nl(){nl=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){["method","field"].forEach((function(n){t.forEach((function(t){t.kind===n&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var n=e.prototype;["method","field"].forEach((function(r){t.forEach((function(t){var i=t.placement;if(t.kind===r&&("static"===i||"prototype"===i)){var o="static"===i?e:n;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var n=t.descriptor;if("field"===t.kind){var r=t.initializer;n={enumerable:n.enumerable,writable:n.writable,configurable:n.configurable,value:void 0===r?void 0:r.call(e)}}Object.defineProperty(e,t.key,n)},decorateClass:function(e,t){var n=[],r=[],i={static:[],prototype:[],own:[]};if(e.forEach((function(e){this.addElementPlacement(e,i)}),this),e.forEach((function(e){if(!ol(e))return n.push(e);var t=this.decorateElement(e,i);n.push(t.element),n.push.apply(n,t.extras),r.push.apply(r,t.finishers)}),this),!t)return{elements:n,finishers:r};var o=this.decorateConstructor(n,t);return r.push.apply(r,o.finishers),o.finishers=r,o},addElementPlacement:function(e,t,n){var r=t[e.placement];if(!n&&-1!==r.indexOf(e.key))throw new TypeError("Duplicated element ("+e.key+")");r.push(e.key)},decorateElement:function(e,t){for(var n=[],r=[],i=e.decorators,o=i.length-1;o>=0;o--){var a=t[e.placement];a.splice(a.indexOf(e.key),1);var s=this.fromElementDescriptor(e),c=this.toElementFinisherExtras((0,i[o])(s)||s);e=c.element,this.addElementPlacement(e,t),c.finisher&&r.push(c.finisher);var l=c.extras;if(l){for(var u=0;u<l.length;u++)this.addElementPlacement(l[u],t);n.push.apply(n,l)}}return{element:e,finishers:r,extras:n}},decorateConstructor:function(e,t){for(var n=[],r=t.length-1;r>=0;r--){var i=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[r])(i)||i);if(void 0!==o.finisher&&n.push(o.finisher),void 0!==o.elements){e=o.elements;for(var a=0;a<e.length-1;a++)for(var s=a+1;s<e.length;s++)if(e[a].key===e[s].key&&e[a].placement===e[s].placement)throw new TypeError("Duplicated element ("+e[a].key+")")}}return{elements:e,finishers:n}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return(t=e,function(e){if(Array.isArray(e))return e}(t)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return ll(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ll(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map((function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var n=cl(e.key),r=String(e.placement);if("static"!==r&&"prototype"!==r&&"own"!==r)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+r+'"');var i=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:n,placement:r,descriptor:Object.assign({},i)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(i,"get","The property descriptor of a field descriptor"),this.disallowProperty(i,"set","The property descriptor of a field descriptor"),this.disallowProperty(i,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:sl(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:e.map(this.fromElementDescriptor,this)};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var n=sl(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:n}},runClassFinishers:function(e,t){for(var n=0;n<t.length;n++){var r=(0,t[n])(e);if(void 0!==r){if("function"!=typeof r)throw new TypeError("Finishers must return a constructor.");e=r}}return e},disallowProperty:function(e,t,n){if(void 0!==e[t])throw new TypeError(n+" can't have a ."+t+" property.")}};return e}function rl(e){var t,n=cl(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var r={kind:"field"===e.kind?"field":"method",key:n,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(r.decorators=e.decorators),"field"===e.kind&&(r.initializer=e.value),r}function il(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function ol(e){return e.decorators&&e.decorators.length}function al(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function sl(e,t){var n=e[t];if(void 0!==n&&"function"!=typeof n)throw new TypeError("Expected '"+t+"' to be a function");return n}function cl(e){var t=function(e,t){if("object"!==tl(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==tl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===tl(t)?t:String(t)}function ll(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ul,dl,fl,pl,hl,ml,yl,vl,bl,gl,wl,kl,xl,Ol,jl,El,Sl,Cl,Tl,Pl,Al,Rl,Dl,_l,Il,zl,Ml,Ll=Object(E.c)("Success! Your eligibility has been verified."),Bl=Object(E.c)("Please login first."),Fl=Object(E.c)("Sorry. We could not verify your eligibility at this time.");!function(e,t,n,r){var i=nl();if(r)for(var o=0;o<r.length;o++)i=r[o](i);var a=t((function(e){i.initializeInstanceElements(e,s.elements)}),n),s=i.decorateClass(function(e){for(var t=[],n=function(e){return"method"===e.kind&&e.key===o.key&&e.placement===o.placement},r=0;r<e.length;r++){var i,o=e[r];if("method"===o.kind&&(i=t.find(n)))if(al(o.descriptor)||al(i.descriptor)){if(ol(o)||ol(i))throw new ReferenceError("Duplicated methods ("+o.key+") can't be decorated.");i.descriptor=o.descriptor}else{if(ol(o)){if(ol(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+o.key+").");i.decorators=o.decorators}il(o,i)}else t.push(o)}return t}(a.d.map(rl)),e);i.initializeClassElements(a.F,s.elements),i.runClassFinishers(a.F,s.finishers)}([Object(O.a)("disability-eligibility-form")],(function(e,t){var n,r;return{F:function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xc(e,t)}(r,t);var n=Jc(r);function r(){var t;$c(this,r);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=n.call.apply(n,[this].concat(o)),e(Zc(t)),t}return r}(t),d:[{kind:"field",decorators:[Object(O.b)({type:String})],key:"type",value:void 0},{kind:"field",decorators:[Object(O.b)({type:Boolean})],key:"isPassword",value:function(){return!1}},{kind:"field",decorators:[Object(O.b)({type:Boolean,reflect:!0})],key:"open",value:function(){return!1}},{kind:"field",decorators:[Object(O.e)()],key:"processing",value:function(){return!1}},{kind:"field",decorators:[Object(O.c)("form")],key:"form",value:void 0},{kind:"method",key:"render",value:function(){return Object(x.c)(Vc||(Vc=qc(['\n      <section aria-labelledby="eligibility-form-title">\n        <details ?open=','>\n          <summary>\n            <slot id="eligibility-form-title" name="title"></slot>\n          </summary>\n          <form @submit=','>\n            <slot></slot>\n            <label>\n              <slot name="input-label"></slot>\n              <input\n                type=',"\n                name=",'\n                required\n              />\n            </label>\n            <input type="hidden" name="type" value=',' />\n            <button type="submit">',"</button>\n            ","\n          </form>\n        </details>\n      </section>\n    "])),this.open,this.handleFormSubmission,this.isPassword?"password":"text",this.isPassword?"password":"token",this.type,Object(E.c)("Submit"),this.loadingIndicatorTemplate)}},{kind:"get",key:"loadingIndicatorTemplate",value:function(){return this.processing?Object(x.c)(Wc||(Wc=qc(['<img src="/images/loading.gif" alt="processing" />']))):x.d}},{kind:"method",key:"handleFormSubmission",value:(n=regeneratorRuntime.mark((function e(t){var n,r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),this.processing=!0,e.prev=2,e.next=5,fetch("/services/disability_eligibility.php",{method:"POST",body:new FormData(this.form)});case 5:return n=e.sent,e.next=8,n.json();case 8:"success"===(null==(r=e.sent)?void 0:r.status)?i=Ll:"not logged in"===(null==r?void 0:r.message)?i=Bl:(i=Fl,console.log("Verification error: ".concat(null==r?void 0:r.status_code,", ").concat(null==r?void 0:r.message))),alert(i),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),alert(Fl),console.log("Verification error: ".concat(e.t0));case 17:return e.prev=17,this.processing=!1,e.finish(17);case 20:case"end":return e.stop()}}),e,this,[[2,13,17,20]])})),r=function(){var e=this,t=arguments;return new Promise((function(r,i){var o=n.apply(e,t);function a(e){Yc(o,r,i,a,s,"next",e)}function s(e){Yc(o,r,i,a,s,"throw",e)}a(void 0)}))},function(e){return r.apply(this,arguments)})},{kind:"get",static:!0,key:"styles",value:function(){return Object(x.b)(Kc||(Kc=qc(["\n      details {\n        margin-bottom: 3px;\n      }\n      details[open] {\n        margin-bottom: 20px;\n      }\n\n      summary {\n        display: list-item;\n        padding: 10px;\n        border-radius: 3px;\n        font-weight: bold;\n        cursor: default;\n        transition: background-color 0.125s ease-in-out;\n      }\n      summary:hover,\n      summary:focus {\n        background-color: #eeeeee;\n      }\n      summary:focus {\n        outline: 5px auto var(--ia-theme-primary-text-color, #2c2c2c);\n        outline-offset: -2px;\n      }\n\n      slot[name='title'] {\n        display: inline-block;\n      }\n\n      form {\n        margin: var(--disability-eligibility-form-margin, 20px 0 0 20px);\n        padding: var(--disability-eligibility-form-padding, 10px);\n        background-color: var(\n          --disability-eligibility-form-background-color,\n          #fcf5e6\n        );\n        line-height: calc(10 / 7); /* 1.428571... */\n      }\n\n      label {\n        display: inline-block;\n        margin-bottom: 5px;\n        font-weight: bold;\n        line-height: inherit;\n      }\n\n      input[type='text'],\n      input[type='password'],\n      button {\n        line-height: inherit;\n      }\n\n      ::slotted(h2) {\n        display: inline-block;\n        margin: 0;\n        font: inherit;\n      }\n\n      ::slotted(p) {\n        margin: 0 0 10px;\n      }\n    "])))}}]}}),x.a);function Nl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||Wl(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ul(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=Wl(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Hl(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function Gl(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Hl(o,r,i,a,s,"next",e)}function s(e){Hl(o,r,i,a,s,"throw",e)}a(void 0)}))}}function Vl(e){return function(e){if(Array.isArray(e))return Kl(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Wl(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wl(e,t){if(e){if("string"==typeof e)return Kl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Kl(e,t):void 0}}function Kl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Yl(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function ql(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $l(e,t){return($l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Xl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zl(e);if(t){var i=Zl(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Jl(this,n)}}function Jl(e,t){return!t||"object"!==eu(t)&&"function"!=typeof t?Ql(e):t}function Ql(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zl(e){return(Zl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eu(e){return(eu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var tu=Object.assign;function nu(){nu=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){["method","field"].forEach((function(n){t.forEach((function(t){t.kind===n&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var n=e.prototype;["method","field"].forEach((function(r){t.forEach((function(t){var i=t.placement;if(t.kind===r&&("static"===i||"prototype"===i)){var o="static"===i?e:n;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var n=t.descriptor;if("field"===t.kind){var r=t.initializer;n={enumerable:n.enumerable,writable:n.writable,configurable:n.configurable,value:void 0===r?void 0:r.call(e)}}Object.defineProperty(e,t.key,n)},decorateClass:function(e,t){var n=[],r=[],i={static:[],prototype:[],own:[]};if(e.forEach((function(e){this.addElementPlacement(e,i)}),this),e.forEach((function(e){if(!ou(e))return n.push(e);var t=this.decorateElement(e,i);n.push(t.element),n.push.apply(n,t.extras),r.push.apply(r,t.finishers)}),this),!t)return{elements:n,finishers:r};var o=this.decorateConstructor(n,t);return r.push.apply(r,o.finishers),o.finishers=r,o},addElementPlacement:function(e,t,n){var r=t[e.placement];if(!n&&-1!==r.indexOf(e.key))throw new TypeError("Duplicated element ("+e.key+")");r.push(e.key)},decorateElement:function(e,t){for(var n=[],r=[],i=e.decorators,o=i.length-1;o>=0;o--){var a=t[e.placement];a.splice(a.indexOf(e.key),1);var s=this.fromElementDescriptor(e),c=this.toElementFinisherExtras((0,i[o])(s)||s);e=c.element,this.addElementPlacement(e,t),c.finisher&&r.push(c.finisher);var l=c.extras;if(l){for(var u=0;u<l.length;u++)this.addElementPlacement(l[u],t);n.push.apply(n,l)}}return{element:e,finishers:r,extras:n}},decorateConstructor:function(e,t){for(var n=[],r=t.length-1;r>=0;r--){var i=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[r])(i)||i);if(void 0!==o.finisher&&n.push(o.finisher),void 0!==o.elements){e=o.elements;for(var a=0;a<e.length-1;a++)for(var s=a+1;s<e.length;s++)if(e[a].key===e[s].key&&e[a].placement===e[s].placement)throw new TypeError("Duplicated element ("+e[a].key+")")}}return{elements:e,finishers:n}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return(t=e,function(e){if(Array.isArray(e))return e}(t)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return lu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lu(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map((function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var n=cu(e.key),r=String(e.placement);if("static"!==r&&"prototype"!==r&&"own"!==r)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+r+'"');var i=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:n,placement:r,descriptor:Object.assign({},i)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(i,"get","The property descriptor of a field descriptor"),this.disallowProperty(i,"set","The property descriptor of a field descriptor"),this.disallowProperty(i,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:su(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:e.map(this.fromElementDescriptor,this)};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var n=su(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:n}},runClassFinishers:function(e,t){for(var n=0;n<t.length;n++){var r=(0,t[n])(e);if(void 0!==r){if("function"!=typeof r)throw new TypeError("Finishers must return a constructor.");e=r}}return e},disallowProperty:function(e,t,n){if(void 0!==e[t])throw new TypeError(n+" can't have a ."+t+" property.")}};return e}function ru(e){var t,n=cu(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var r={kind:"field"===e.kind?"field":"method",key:n,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(r.decorators=e.decorators),"field"===e.kind&&(r.initializer=e.value),r}function iu(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function ou(e){return e.decorators&&e.decorators.length}function au(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function su(e,t){var n=e[t];if(void 0!==n&&"function"!=typeof n)throw new TypeError("Expected '"+t+"' to be a function");return n}function cu(e){var t=function(e,t){if("object"!==eu(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==eu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===eu(t)?t:String(t)}function lu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function uu(e,t,n){return(uu="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=du(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function du(e){return(du=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var fu=function(e,t,n,r){var i=nu();if(r)for(var o=0;o<r.length;o++)i=r[o](i);var a=t((function(e){i.initializeInstanceElements(e,s.elements)}),n),s=i.decorateClass(function(e){for(var t=[],n=function(e){return"method"===e.kind&&e.key===o.key&&e.placement===o.placement},r=0;r<e.length;r++){var i,o=e[r];if("method"===o.kind&&(i=t.find(n)))if(au(o.descriptor)||au(i.descriptor)){if(ou(o)||ou(i))throw new ReferenceError("Duplicated methods ("+o.key+") can't be decorated.");i.descriptor=o.descriptor}else{if(ou(o)){if(ou(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+o.key+").");i.decorators=o.decorators}iu(o,i)}else t.push(o)}return t}(a.d.map(ru)),e);return i.initializeClassElements(a.F,s.elements),i.runClassFinishers(a.F,s.finishers)}([Object(O.a)("collection-page")],(function(e,t){var n,r,i,o,a,s,c,l,u,d,f,p,h,m,y=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$l(e,t)}(r,t);var n=Xl(r);function r(){var t;ql(this,r);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=n.call.apply(n,[this].concat(o)),e(Ql(t)),t}return r}(t);return{F:y,d:[{kind:"field",static:!0,key:"DESCRIPTION_MORE_THRESHOLD",value:function(){return 80}},{kind:"field",static:!0,key:"DESCRIPTION_PREVIEW_MAX_LENGTH",value:function(){return 500}},{kind:"field",static:!0,key:"TAB_IDS",value:function(){return["collection","forum","about"]}},{kind:"field",static:!0,key:"ANALYTICS_CATEGORY",value:function(){return"CollectionPageBeta"}},{kind:"field",static:!0,key:"REDIRECT_COLLECTIONS",value:function(){return["tv"]}},{kind:"field",decorators:[Object(O.b)({type:String})],key:"identifier",value:function(){return""}},{kind:"field",decorators:[Object(O.b)({type:String})],key:"searchQuery",value:void 0},{kind:"field",decorators:[Object(O.b)({type:String})],key:"searchType",value:function(){return T.SearchType.METADATA}},{kind:"field",decorators:[Object(O.b)({type:Object})],key:"metadata",value:void 0},{kind:"field",decorators:[Object(O.b)({type:Object})],key:"collectionInfo",value:void 0},{kind:"field",decorators:[Object(O.b)({type:String})],key:"collectionPagePath",value:function(){return"/collection/"}},{kind:"field",decorators:[Object(O.e)()],key:"notFound",value:function(){return!1}},{kind:"field",decorators:[Object(O.e)()],key:"notACollection",value:function(){return!1}},{kind:"field",decorators:[Object(O.e)()],key:"sortParam",value:void 0},{kind:"field",decorators:[Object(O.e)()],key:"baseApiUrl",value:void 0},{kind:"field",decorators:[Object(O.e)()],key:"baseNavigationUrl",value:void 0},{kind:"field",decorators:[Object(O.e)()],key:"baseImageUrl",value:void 0},{kind:"field",decorators:[Object(O.e)()],key:"loggedInUser",value:void 0},{kind:"field",decorators:[Object(O.e)()],key:"forumTemplate",value:function(){return x.d}},{kind:"field",decorators:[Object(O.e)()],key:"isManageView",value:function(){return!1}},{kind:"field",decorators:[Object(O.e)()],key:"isSearchResultEmpty",value:function(){return!1}},{kind:"field",decorators:[Object(O.e)()],key:"initialResultsPageLoading",value:function(){return!1}},{kind:"field",decorators:[Object(O.e)()],key:"newCollectionLoading",value:function(){return!1}},{kind:"field",decorators:[Object(O.b)({type:Object})],key:"appServices",value:void 0},{kind:"field",decorators:[Object(O.e)()],key:"searchService",value:void 0},{kind:"field",decorators:[Object(O.e)()],key:"collectionNameCache",value:void 0},{kind:"field",decorators:[Object(O.e)()],key:"resizeObserver",value:void 0},{kind:"field",decorators:[Object(O.e)()],key:"featureFeedbackService",value:void 0},{kind:"field",decorators:[Object(O.e)()],key:"pageMetadataService",value:void 0},{kind:"field",decorators:[Object(O.e)()],key:"recaptchaManager",value:void 0},{kind:"field",decorators:[Object(O.e)()],key:"analyticsHandler",value:void 0},{kind:"field",decorators:[Object(O.e)()],key:"modalManager",value:void 0},{kind:"field",decorators:[Object(O.e)()],key:"tvSearchHandler",value:void 0},{kind:"field",decorators:[Object(O.e)()],key:"radioSearchHandler",value:void 0},{kind:"field",decorators:[Object(O.e)()],key:"archiveItSearchHandler",value:void 0},{kind:"field",decorators:[Object(O.e)()],key:"forumService",value:void 0},{kind:"field",decorators:[Object(O.e)()],key:"geoCountService",value:void 0},{kind:"field",decorators:[Object(O.e)()],key:"histogramDataService",value:void 0},{kind:"field",key:"_setAppServicesInitialized",value:void 0},{kind:"field",key:"appServicesInitialized",value:function(){var e=this;return new Promise((function(t){e._setAppServicesInitialized=t}))}},{kind:"field",decorators:[Object(O.c)("tab-manager")],key:"tabManager",value:void 0},{kind:"field",decorators:[Object(O.c)("collection-browser")],key:"collectionBrowser",value:void 0},{kind:"field",decorators:[Object(O.c)("#collection-browser-container")],key:"collectionBrowserContainer",value:void 0},{kind:"field",decorators:[Object(O.c)("collection-about")],key:"aboutSection",value:void 0},{kind:"method",key:"render",value:function(){return this.notFound?this.notFoundTemplate:this.notACollection?this.notACollectionTemplate:Object(x.c)(ul||(ul=Yl(['\n      <div id="page-container">\n        ',"\n        <tab-manager\n          .tabs=","\n          .activeTabId=","\n          @tabChanged=",'\n        >\n          <div slot="collection">\n            '," ",'\n          </div>\n          <div slot="forum" id="forum-container">','</div>\n          <div slot="about">',"</div>\n        </tab-manager>\n      </div>\n    "])),this.headerTemplate,this.tabs,this.getDefaultTab,this.handleTabChanged,this.searchBarTemplate,this.collectionBrowserTemplate,this.forumTemplate,this.aboutTabTemplate)}},{kind:"method",key:"connectedCallback",value:function(){uu(du(y.prototype),"connectedCallback",this).call(this),this.setupStateRestorationObserver()}},{kind:"method",key:"disconnectedCallback",value:function(){uu(du(y.prototype),"disconnectedCallback",this).call(this),this.teardownStateRestorationObserver()}},{kind:"method",key:"willUpdate",value:function(e){var t,n,r=e.has("appServices")&&this.appServices,i=e.has("metadata")&&this.metadata,o=e.has("identifier");r&&this.setupAppServicesDependents(),o&&this.handleIdentifierChange(),i&&("collection"!==(null==(n=null==(t=this.metadata)?void 0:t.mediatype)?void 0:n.value)?this.notACollection=!0:(this.setupPageTitle(),this.setupOpenGraphMetadata())),(o||e.has("archiveItSearchHandler"))&&this.updateArchiveItSearchHandler(),this.updateCollectionBrowserContainerOffsets()}},{kind:"method",key:"firstUpdated",value:function(){var e;this.restoreTabFromURL(),(null==(e=this.tabManager)?void 0:e.activeTabId)&&this.persistTabToURL(this.tabManager.activeTabId)}},{kind:"get",key:"tabs",value:function(){var e,t,n={id:"collection",name:Object(E.c)("Collection")},r={id:"about",name:Object(E.c)("About")},i=null!=(t=null==(e=this.collectionInfo)?void 0:e.forum_count)?t:0,o={id:"forum",name:"".concat(Object(E.c)("Forum")).concat(this.hasForum?" (".concat(i.toLocaleString(),")"):"")};return[n].concat(Vl(this.hasForum?[o]:[]),[r])}},{kind:"get",key:"notFoundTemplate",value:function(){return Object(x.c)(dl||(dl=Yl(['<p class="not-found">\n      ',"\n    </p>"])),Object(E.c)(Object(E.d)(fl||(fl=Yl(['Collection "','" cannot be found.'])),this.identifier)))}},{kind:"get",key:"notACollectionTemplate",value:function(){return Object(x.c)(pl||(pl=Yl(['<p class="not-a-collection">\n      ',"\n    </p>"])),Object(E.c)(Object(E.d)(hl||(hl=Yl(['Item "','" is not a collection.'])),this.identifier)))}},{kind:"get",key:"headerTemplate",value:function(){return"democracys-library"===this.identifier?this.democracysLibraryTemplate:Object(x.c)(ml||(ml=Yl(['\n      <header id="page-header" @searchRequested=','>\n        <div id="page-header-inner">\n          <div id="top-matter">\n            ','\n            <div id="title-summary-container">\n              '," ","\n              "," ","\n            </div>\n          </div>\n          ","\n        </div>\n      </header>\n    "])),this.searchRequested,this.thumbnailTemplate,this.titleTemplate,this.headerCreatorTemplate,this.headerSummaryTemplate,this.moreBtnTemplate,this.actionBarTemplate)}},{kind:"get",key:"thumbnailTemplate",value:function(){return this.newCollectionLoading?Object(x.c)(yl||(yl=Yl(['<div class="loading-placeholder thumbnail"></div>']))):Object(x.c)(vl||(vl=Yl(['<div class="thumbnail-frame">\n      <ia-pic-uploader\n        endpoint="https://archive.org/services/post-file.php"\n        identifier=','\n        picture="','"\n        type="full"\n        ?lookingAtMyAccount=',"\n      ></ia-pic-uploader>\n    </div>"])),this.identifier,this.itemThumbnail,this.shouldShowEditorButtons)}},{kind:"get",key:"titleTemplate",value:function(){var e;return this.newCollectionLoading?Object(x.c)(bl||(bl=Yl(['<div class="loading-placeholder title"></div>']))):Object(x.c)(gl||(gl=Yl(["<h1>","</h1>"])),null!=(e=this.itemTitle)?e:"")}},{kind:"get",key:"headerCreatorTemplate",value:function(){var e,t;if(this.newCollectionLoading)return x.d;var n=null==(t=null==(e=this.metadata)?void 0:e.creator)?void 0:t.value;return n&&n!==this.itemTitle?Object(x.c)(wl||(wl=Yl(['<p id="header-creator">',"</p>"])),n):x.d}},{kind:"get",key:"headerSummaryTemplate",value:function(){var e,t,n;if(this.newCollectionLoading)return Object(x.c)(kl||(kl=Yl(['\n        <div class="loading-placeholder summary"></div>\n        <div class="loading-placeholder summary"></div>\n      '])));var r=null!=(n=null==(t=null==(e=this.metadata)?void 0:e.rawMetadata)?void 0:t.summary)?n:this.itemDescriptionPreview;return Object(x.c)(xl||(xl=Yl([' <p id="header-summary">',"</p> "])),Object(j.a)(r))}},{kind:"get",key:"moreBtnTemplate",value:function(){var e,t,n=this;return this.newCollectionLoading?x.d:(null!=(t=null==(e=this.itemDescription)?void 0:e.length)?t:0)>y.DESCRIPTION_MORE_THRESHOLD?Object(x.c)(Ol||(Ol=Yl([' <button\n          id="more-btn"\n          @click=',"\n        >\n          ","\n        </button>"])),(function(){n.tabManager&&(n.tabManager.activeTabId="about")}),Object(E.c)("More...")):x.d}},{kind:"get",key:"actionBarTemplate",value:function(){return Object(x.c)(jl||(jl=Yl(['\n      <div id="action-bar-spacing">\n        <action-bar\n          .appServices=',"\n          .mediaType=","\n          .title=","\n          .url=","\n          .analyticsCategory=","\n          .identifier=","\n          .baseNavigationUrl=","\n          .showFavoriteButton=","\n          showRssButton\n          .rssUrl=","\n          showPlayAllButton\n          ?showEditButton=","\n          ?showRemoveItemsButton=","\n          ?showHistoryButton=","\n          @playAllPressed=","\n          @removeItemsPressed=","\n        ></action-bar>\n      </div>\n    "])),this.appServices,this.itemMediatype,this.itemTitle,window.location.href,y.ANALYTICS_CATEGORY,this.identifier,this.baseNavigationUrl,!!this.loggedInUser,this.rssFeedUrl,this.shouldShowEditorButtons,this.isOwnFavorites,this.shouldShowEditorButtons,this.playAllPressed,this.removeItemsPressed)}},{kind:"get",key:"aboutTabTemplate",value:function(){var e,t,n,r,i,o,a,s,c,l,u;return Object(x.c)(El||(El=Yl(["\n      <collection-about\n        .identifier=","\n        .metadata=","\n        .creator=","\n        .contributors=","\n        .relatedCollections=","\n        .totalViews=","\n        .totalItems=","\n        .reviewCount=","\n        .forumCount=","\n        ?mainContentLoading=","\n        .baseNavigationUrl=","\n        .resizeObserver=","\n        @reviewsButtonPressed=","\n        @forumButtonPressed=","\n        @searchRequested=","\n        @metadataCollapseStateChange=","\n      ></collection-about>\n    "])),this.identifier,this.metadata,null==(e=this.collectionInfo)?void 0:e.uploader_details,null==(t=this.collectionInfo)?void 0:t.contributor_details,null==(n=this.collectionInfo)?void 0:n.related_collection_details,null!=(i=null==(r=this.collectionInfo)?void 0:r.downloads)?i:0,null!=(a=null==(o=this.collectionInfo)?void 0:o.item_count)?a:0,null!=(c=null==(s=this.collectionInfo)?void 0:s.review_count)?c:0,null!=(u=null==(l=this.collectionInfo)?void 0:l.forum_count)?u:0,this.newCollectionLoading,this.baseNavigationUrl,this.resizeObserver,this.reviewsButtonPressed,this.forumButtonPressed,this.searchRequested,this.metadataCollapseStateChanged)}},{kind:"get",key:"searchBarTemplate",value:function(){var e=this.collectionSearchOptions;return Object(x.c)(Sl||(Sl=Yl(['\n      <div id="collection-search-container">\n        <collection-search-input\n          searchOptionsVisible\n          suppressDefaultSearchAction\n          ?showLoadingIndicator=',"\n          .query=","\n          .navBaseUrl=","\n          .advancedSearchUrl=","\n          .buttonText=","\n          .radioSearchHandler=","\n          .archiveItSearchHandler=","\n          .displayedSearchOptions=","\n          ?hideDropdownOptions=","\n          .selectedSearchOption=","\n          @searchRequested=","\n          @searchTypeChanged=","\n        ></collection-search-input>\n      </div>\n    "])),this.initialResultsPageLoading,this.searchQuery,this.baseNavigationUrl,this.advancedSearchUrl,Object(E.c)("Search this collection"),this.radioSearchHandler,this.archiveItSearchHandler,e,e.length<2,this.searchType===T.SearchType.FULLTEXT?"fulltext":"metadata",this.searchRequested,this.searchTypeChanged)}},{kind:"get",key:"collectionBrowserTemplate",value:function(){var e;return Object(x.c)(Cl||(Cl=Yl(['\n      <div id="collection-browser-container">\n        <collection-browser\n          displayMode=',"\n          .collectionPagePath=","\n          .withinCollection=","\n          .pageContext=","\n          .sortParam=","\n          .baseNavigationUrl=","\n          .baseImageUrl=","\n          .searchService=","\n          .collectionNameCache=","\n          .resizeObserver=","\n          .showHistogramDatePicker=","\n          .loggedIn=","\n          .isManageView=","\n          .modalManager=","\n          .analyticsHandler=","\n          .featureFeedbackService=","\n          .recaptchaManager=","\n          .searchContext=","\n          @baseQueryChanged=","\n          @searchTypeChanged=","\n          @searchResultsLoadingChanged=","\n          @itemRemovalRequested=","\n          @emptyResults=","\n        ></collection-browser>\n      </div>\n    "])),this.isManageView?"grid":x.d,this.collectionPagePath,this.identifier,"collection",this.sortParam,this.baseNavigationUrl,this.baseImageUrl,this.searchService,this.collectionNameCache,this.resizeObserver,!0,!!(null==(e=this.loggedInUser)?void 0:e.itemname),this.isManageView,this.modalManager,this.analyticsHandler,this.featureFeedbackService,this.recaptchaManager,y.ANALYTICS_CATEGORY,this.handleBaseQueryChanged,this.searchTypeChanged,this.handleSearchResultsLoadingChanged,this.handleItemRemovalRequested,this.handleEmptyResults)}},{kind:"get",key:"democracysLibraryTemplate",value:function(){return Object(x.c)(Tl||(Tl=Yl(['\n      <div class="dl-container">\n        <ia-democracys-library\n          class=',"\n          .analytics=",'\n        >\n          <h2 class="container container-ia">\n            ','\n          </h2>\n          <div\n            class="ia-dl-action-bar welcome-right focus-on-child-only"\n            slot="action-bar-section"\n          >\n            <div id="action-bar-spacing">\n              <action-bar\n                .appServices=',"\n                .url=","\n                .title=","\n                .analyticsCategory=","\n                .identifier=","\n                .baseNavigationUrl=","\n                .showFavoriteButton=","\n                showRssButton\n                .rssUrl=","\n                ?showEditButton=","\n                ?showHistoryButton=","\n              ></action-bar>\n            </div>\n          </div>\n        </ia-democracys-library>\n      </div>\n    "])),this.shouldShowEditorButtons?"editable":x.d,this.analyticsHandler,Object(E.c)("Democracy's Library: Government Research Freely Available for All"),this.appServices,window.location.href,this.itemTitle,y.ANALYTICS_CATEGORY,this.identifier,this.baseNavigationUrl,!!this.loggedInUser,this.rssFeedUrl,this.shouldShowEditorButtons,this.shouldShowEditorButtons)}},{kind:"method",key:"searchRequested",value:function(e){var t;this.collectionBrowser&&(this.collectionBrowser.baseQuery=null==(t=e.detail)?void 0:t.trim(),this.collectionBrowser.searchType=this.searchType)}},{kind:"method",key:"searchTypeChanged",value:function(e){this.searchType=e.detail}},{kind:"method",key:"handleBaseQueryChanged",value:function(e){this.searchQuery!==e.detail.baseQuery&&(this.tabManager&&(this.tabManager.activeTabId="collection"),this.searchQuery=e.detail.baseQuery)}},{kind:"method",key:"handleSearchResultsLoadingChanged",value:function(e){var t,n,r,i;if(this.initialResultsPageLoading=e.detail.loading,!e.detail.loading&&this.searchService&&this.aboutSection){var o=null==(t=this.collectionBrowser)?void 0:t.collectionInfo;if(o){this.newCollectionLoading=!1,this.collectionInfo=o;var a=null!=(r=null==(n=this.collectionInfo)?void 0:n.collection_files_count)?r:0,s=Object(E.c)(Object(E.d)(Pl||(Pl=Yl([""," (in "," files)"])),this.readableStorageSize,a.toLocaleString()));this.metadata=new P.Metadata(tu({storage_size:s},null==(i=this.collectionInfo)?void 0:i.public_metadata))}}}},{kind:"method",key:"handleItemRemovalRequested",value:function(e){var t;(null==(t=e.detail.items)?void 0:t.length)&&this.showRemoveItemsModal(e.detail.items)}},{kind:"get",key:"getDefaultTab",value:function(){var e,t;if(this.tabManager){var n=new URL(window.location.href).searchParams,r=!(this.searchQuery||n.get("sort")||n.get("and[]")||n.get("not[]")),i=null==(t=null==(e=this.metadata)?void 0:e.rawMetadata)?void 0:t["default-tab"],o=n.get("tab");return y.TAB_IDS.includes(o)?o:y.TAB_IDS.includes(i)&&r?i:this.isSearchResultEmpty&&r?"about":"collection"}}},{kind:"method",key:"showRemoveItemsModal",value:function(e){var t,n,r=this,i=Object(x.c)(Al||(Al=Yl(["\n      <remove-items-modal-content\n        .items=","\n        @confirm=","\n      ></remove-items-modal-content>\n    "])),e,(function(){return r.removeItems(e)})),o=new C.ModalConfig({bodyColor:"#fff",headerColor:"#194880",showHeaderLogo:!1,closeOnBackdropClick:!0,title:Object(x.c)(Rl||(Rl=Yl(["",""])),Object(E.c)("Are you sure you want to remove these items?"))});null==(t=this.modalManager)||t.classList.add("remove-items"),null==(n=this.modalManager)||n.showModal({config:o,customModalContent:i,userClosedModalCallback:function(){var e;null==(e=r.modalManager)||e.classList.remove("remove-items")}})}},{kind:"method",key:"showRemoveItemsProcessingModal",value:function(){var e,t,n=this,r=new C.ModalConfig({showProcessingIndicator:!0,processingImageMode:"processing",bodyColor:"#fff",headerColor:"#194880",showHeaderLogo:!1,closeOnBackdropClick:!0,title:Object(x.c)(Dl||(Dl=Yl(["",""])),Object(E.c)("Removing selected items..."))});null==(e=this.modalManager)||e.classList.add("remove-items"),null==(t=this.modalManager)||t.showModal({config:r,userClosedModalCallback:function(){var e;null==(e=n.modalManager)||e.classList.remove("remove-items")}})}},{kind:"method",key:"showRemoveItemsErrorModal",value:function(){var e,t,n=this,r=new C.ModalConfig({bodyColor:"#fff",headerColor:"#691916",showHeaderLogo:!1,closeOnBackdropClick:!0,title:Object(x.c)(_l||(_l=Yl(["",""])),Object(E.c)("Error: unable to remove items")),message:Object(x.c)(Il||(Il=Yl(["",""])),Object(E.c)("An error occurred while removing items. Please try again in a few minutes."))});null==(e=this.modalManager)||e.classList.add("remove-items"),null==(t=this.modalManager)||t.showModal({config:r,userClosedModalCallback:function(){var e;null==(e=n.modalManager)||e.classList.remove("remove-items")}})}},{kind:"method",key:"removeItems",value:(m=Gl(regeneratorRuntime.mark((function e(t){var n,r,i,o,a,s,c,l,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.map((function(e){return e.identifier})).join(","),s=!1,e.next=4,null==(n=this.appServices)?void 0:n.get();case 4:return c=e.sent,e.next=7,null==c?void 0:c.fetchHandler.get();case 7:return(l=e.sent)||(console.error("Cannot remove favs, no fetch handler"),s=!0),e.prev=10,this.showRemoveItemsProcessingModal(),e.next=14,null==l?void 0:l.fetchApiResponse("https://archive.org/services/offshoot/details-page/favorite.php",{includeCredentials:!0,method:"DELETE",body:JSON.stringify({identifier:a})});case 14:(null==(u=e.sent)?void 0:u.success)?null==(r=this.collectionBrowser)||r.removeCheckedTiles():s=!0,e.next=21;break;case 18:e.prev=18,e.t0=e.catch(10),s=!0;case 21:s?this.showRemoveItemsErrorModal():(null==(i=this.modalManager)||i.closeModal(),null==(o=this.modalManager)||o.classList.remove("remove-items"));case 22:case"end":return e.stop()}}),e,this,[[10,18]])}))),function(e){return m.apply(this,arguments)})},{kind:"method",key:"playAllPressed",value:(h=Gl(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ensurePlaysetImported();case 2:return e.next=4,this.buildPlaylist();case 4:t=e.sent,Playset.set_playset(t),Playset.mobile?Playset.play_mobile(t):t.length>0&&(location.href="".concat(this.baseNavigationUrl,"/details/").concat(t[0][0],"?autoplay=1&playset=1"));case 7:case"end":return e.stop()}}),e,this)}))),function(){return h.apply(this,arguments)})},{kind:"method",key:"removeItemsPressed",value:function(){this.collectionBrowser&&(this.collectionBrowser.isManageView=!this.collectionBrowser.isManageView,this.tabManager&&this.collectionBrowser.isManageView&&(this.tabManager.activeTabId="collection"))}},{kind:"method",key:"reviewsButtonPressed",value:function(){this.tabManager&&this.collectionBrowser&&(this.collectionBrowser.selectedSort=S.a.datereviewed,this.collectionBrowser.sortDirection="desc",this.tabManager.activeTabId="collection",document.documentElement.scrollTo(0,0))}},{kind:"method",key:"forumButtonPressed",value:function(){this.tabManager&&this.hasForum&&(this.tabManager.activeTabId="forum",document.documentElement.scrollTo(0,0))}},{kind:"method",key:"metadataCollapseStateChanged",value:function(e){this.sendAnalyticsEvent({action:e.detail.expanded?"metadataListExpanded":"metadataListCollapsed"})}},{kind:"method",key:"handleTabChanged",value:function(e){this.persistTabToURL(e.detail)}},{kind:"method",key:"handleEmptyResults",value:function(){this.isSearchResultEmpty=!0}},{kind:"get",key:"itemTitle",value:function(){var e,t;return null==(t=null==(e=this.metadata)?void 0:e.title)?void 0:t.value}},{kind:"get",key:"itemDescription",value:function(){var e,t;return null==(t=null==(e=this.metadata)?void 0:e.description)?void 0:t.value}},{kind:"get",key:"itemMediatype",value:function(){var e,t;return null==(t=null==(e=this.metadata)?void 0:e.mediatype)?void 0:t.value}},{kind:"get",key:"itemThumbnail",value:function(){var e,t=null==(e=this.collectionInfo)?void 0:e.thumbnail_url;return t||"https://archive.org/images/notfound.png"}},{kind:"get",key:"itemDescriptionPreview",value:function(){var e,t,n,r=this.itemDescription;if(r){var i=null!=(e=r.search(/(\r?\n){2}|<br ?\/?>|<\/p>/i))?e:-1,o=i>=0?r.slice(0,i):r,a=document.createElement("p");return a.innerHTML=o,(null!=(n=null==(t=a.textContent)?void 0:t.trim().replace(/ {2,}/g," ").length)?n:0)<=y.DESCRIPTION_PREVIEW_MAX_LENGTH?o:Object(A.a)(o,y.DESCRIPTION_PREVIEW_MAX_LENGTH)}}},{kind:"get",key:"rssFeedUrl",value:function(){var e,t,n;if(!this.identifier||null==this.baseApiUrl)return x.d;var r="https://".concat(this.baseApiUrl,"/services/collection-rss.php");if(this.metadata&&!(null==(e=this.metadata.collection)?void 0:e.value))return"".concat(r,"?mediatype=").concat(this.identifier);var i=null==(n=null==(t=this.metadata)?void 0:t.rawMetadata)?void 0:n.search_collection;if(i){var o=encodeURIComponent("(".concat(i,") AND -mediatype:collection"));return"".concat(r,"?collection=").concat(this.identifier,"&query=").concat(o)}return"".concat(r,"?collection=").concat(this.identifier)}},{kind:"get",key:"advancedSearchUrl",value:function(){var e;if(!this.identifier||null==this.baseNavigationUrl)return x.d;var t=['collection:"'.concat(this.identifier,'"'),null!=(e=this.searchQuery)?e:""].filter((function(e){return e})).join(" AND ");return"".concat(this.baseNavigationUrl,"/advancedsearch.php?q=").concat(encodeURIComponent(t))}},{kind:"get",key:"hasForum",value:function(){var e;return!!(null==(e=this.collectionInfo)?void 0:e.forum_identifier)&&this.forumTemplate!==x.d}},{kind:"get",key:"shouldShowEditorButtons",value:function(){var e,t,n,r,i,o=this.loggedInUser;if(!o)return!1;var a=o.username,s=o.privs,c=(null==(t=null==(e=this.metadata)?void 0:e.uploader)?void 0:t.value)===a,l=s.includes("/")||s.includes("/items")||s.includes(this.identifier),u=null!=(i=null==(r=null==(n=this.metadata)?void 0:n.collection)?void 0:r.values.some((function(e){return s.includes(e)})))&&i;return c||this.isOwnFavorites||l||u}},{kind:"get",key:"isOwnFavorites",value:function(){return!!this.loggedInUser&&this.identifier==="fav-".concat(this.loggedInUser.userid)}},{kind:"get",key:"isRadioArchiveCollection",value:function(){var e,t,n,r=null!=(n=null==(t=null==(e=this.metadata)?void 0:e.collection)?void 0:t.values)?n:[],i=new Set(["radio","radio-archive"]);return i.has(this.identifier)||r.some((function(e){return i.has(e)}))}},{kind:"get",key:"archiveItCollectionInfo",value:function(){var e=this.identifier.match(/ArchiveIt-(Collection|Partner)-(\d+)/);return e?{isArchiveIt:!0,type:e[1].toLowerCase(),id:e[2]}:{isArchiveIt:!1}}},{kind:"get",key:"collectionSearchOptions",value:function(){var e,t=this.archiveItCollectionInfo;return[{option:"metadata",enabled:!0}].concat(Vl(t.isArchiveIt?[{option:"archiveit",enabled:!0}]:[{option:"fulltext",enabled:!!(null==(e=this.collectionInfo)?void 0:e.has_items_with_searchable_text)}]),Vl(this.isRadioArchiveCollection?[{option:"radio",enabled:!0}]:[]))}},{kind:"get",key:"readableStorageSize",value:function(){var e,t,n=null!=(t=null==(e=this.collectionInfo)?void 0:e.collection_size)?t:0,r=Math.floor(Math.log2(n)/10),i=Math.pow(2,10*r),o=" KMGTPE".charAt(r).trim()+"B",a=(n/Math.max(1,i)).toFixed(r<1?0:1);return"".concat(a," ").concat(o)}},{kind:"field",key:"restoreTabFromURL",value:function(){var e=this;return function(){var t=new URL(window.location.href).searchParams.get("tab");t&&y.TAB_IDS.includes(t)&&e.tabManager&&(e.tabManager.activeTabId=t)}}},{kind:"method",key:"persistTabToURL",value:function(e){var t=new URL(window.location.href),n=t.searchParams.get("tab");n!==e&&(t.searchParams.set("tab",e),n?window.history.pushState({tab:e},"",t):window.history.replaceState({tab:e},"",t))}},{kind:"method",key:"ensurePlaysetImported",value:(p=Gl(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window.Playset){e.next=6;break}return e.next=4,import("https://av.prod.archive.org/js/playset.js");case 4:t=e.sent.default,window.Playset=t;case 6:case"end":return e.stop()}}),e)}))),function(){return p.apply(this,arguments)})},{kind:"method",key:"buildPlaylist",value:(f=Gl(regeneratorRuntime.mark((function e(){var t,n,r,i,o,a,s,c,l,u,d,f,p,h,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ensurePlaysetImported();case 2:for(r=[],i=null==(t=this.collectionBrowser)?void 0:t.dataSource,o=0,a=Object.values(i);o<a.length;o++){s=a[o],c=Ul(s);try{for(c.s();!(l=c.n()).done;)u=l.value,d=u.identifier,f=u.title,p=u.creator,h=u.description,m=u.datePublished,d&&r.push([d,Playset.truncate(null!=f?f:"",35),Playset.truncate(null!=(n=null!=p?p:h)?n:"",75),null==m?void 0:m.getFullYear()])}catch(e){c.e(e)}finally{c.f()}}return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e,this)}))),function(){return f.apply(this,arguments)})},{kind:"method",key:"updateCollectionBrowserContainerOffsets",value:function(){var e;null==(e=this.collectionBrowserContainer)||e.style.setProperty("--numSearchOptions","".concat(this.collectionSearchOptions.length))}},{kind:"method",key:"updateForumPosts",value:(d=Gl(regeneratorRuntime.mark((function e(){var t,n,r,i,o,a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.appServicesInitialized;case 2:return e.prev=2,o=null!=(r=null==(n=null==(t=this.metadata)?void 0:t.rawMetadata)?void 0:n.forum)?r:this.identifier,e.next=6,null==(i=this.forumService)?void 0:i.fetchForumHTML(o);case 6:if(!(null==(a=e.sent)?void 0:a.success)){e.next=11;break}return s=a.success,this.forumTemplate=Object(x.c)(zl||(zl=Yl(["",""])),Object(j.a)(s)),e.abrupt("return");case 11:e.next=15;break;case 13:e.prev=13,e.t0=e.catch(2);case 15:this.forumTemplate=x.d;case 16:case"end":return e.stop()}}),e,this,[[2,13]])}))),function(){return d.apply(this,arguments)})},{kind:"method",key:"updateHistograms",value:(u=Gl(regeneratorRuntime.mark((function e(){var t,n,r,i,o,a,s,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.appServicesInitialized;case 2:if(this.aboutSection&&this.histogramDataService){e.next=4;break}return e.abrupt("return");case 4:return this.aboutSection.histogramsLoading=!0,o=864e5,e.next=8,this.histogramDataService.fetchHistogramData(this.identifier);case 8:a=e.sent,s=a.views,c=a.items,s&&(this.aboutSection.viewsHistogramModel=tu(tu({},(null==(t=s.cfg)?void 0:t.barWidth)?{barWidth:(null==(n=s.cfg)?void 0:n.barWidth)*o}:void 0),{seriesList:[s.pts].flat().map((function(e){return{dataPoints:e.data,label:e.label}})),label:Object(E.c)("Views"),singularLabel:Object(E.c)("View")})),c&&(this.aboutSection.itemsHistogramModel=tu(tu({},(null==(r=c.cfg)?void 0:r.barWidth)?{barWidth:(null==(i=c.cfg)?void 0:i.barWidth)*o}:void 0),{seriesList:[c.pts].flat().map((function(e){return{dataPoints:e.data,label:e.label,strokeColor:"#375b74",fillColor:"#375b74aa",hoverFillColor:"#375b74dd"}})),label:Object(E.c)("Items"),singularLabel:Object(E.c)("Item")})),this.aboutSection.histogramsLoading=!1;case 14:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{kind:"method",key:"updateGeoCounts",value:(l=Gl(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.appServicesInitialized;case 2:if(this.aboutSection){e.next=4;break}return e.abrupt("return");case 4:return this.aboutSection.geoCountsLoading=!0,e.prev=5,e.next=8,null==(t=this.geoCountService)?void 0:t.getGeoCounts(this.identifier,{days:30,limit:10,allowedUAKinds:["non_robot","unrecognized"]});case 8:(n=e.sent)&&(this.aboutSection.geoCounts=n),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),console.warn("Unable to load geo counts:",e.t0);case 15:this.aboutSection.geoCountsLoading=!1;case 16:case"end":return e.stop()}}),e,this,[[5,12]])}))),function(){return l.apply(this,arguments)})},{kind:"method",key:"updateArchiveItSearchHandler",value:function(){var e,t,n,r,i=this.archiveItCollectionInfo;i.isArchiveIt&&(null==(t=this.archiveItSearchHandler)||t.setSearchType(null!=(e=i.type)?e:"collection"),null==(r=this.archiveItSearchHandler)||r.setArchiveItId(null!=(n=i.id)?n:""))}},{kind:"method",key:"setupStateRestorationObserver",value:function(){window.addEventListener("popstate",this.restoreTabFromURL)}},{kind:"method",key:"teardownStateRestorationObserver",value:function(){window.removeEventListener("popstate",this.restoreTabFromURL)}},{kind:"method",key:"sendAnalyticsEvent",value:function(e){var t;null==(t=this.analyticsHandler)||t.sendEvent({category:y.ANALYTICS_CATEGORY,action:e.action,label:e.label})}},{kind:"method",key:"setupAppServicesDependents",value:(c=Gl(regeneratorRuntime.mark((function e(){var t,n,r=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,null==(t=this.appServices)?void 0:t.get();case 3:return n=e.sent,e.next=6,Promise.all([null==n?void 0:n.appConfig.get().then((function(e){r.baseApiUrl=null==e?void 0:e.archiveApiUrl,r.baseNavigationUrl=null==e?void 0:e.archiveNavUrl,r.baseImageUrl=null==e?void 0:e.baseImageUrl})),null==n?void 0:n.searchService.get().then((function(e){return r.searchService=e})),null==n?void 0:n.resizeObserver.get().then((function(e){return r.resizeObserver=e})),null==n?void 0:n.collectionNameCache.get().then((function(e){return r.collectionNameCache=e})),null==n?void 0:n.pageMetadataService.get().then((function(e){return r.pageMetadataService=e})),null==n?void 0:n.forumService.get().then((function(e){return r.forumService=e})),null==n?void 0:n.geoCountService.get().then((function(e){return r.geoCountService=e})),null==n?void 0:n.histogramDataService.get().then((function(e){return r.histogramDataService=e})),null==n?void 0:n.tvSearchHandler.get().then((function(e){return r.tvSearchHandler=e})),null==n?void 0:n.radioSearchHandler.get().then((function(e){return r.radioSearchHandler=e})),null==n?void 0:n.archiveItSearchHandler.get().then((function(e){return r.archiveItSearchHandler=e})),null==n?void 0:n.featureFeedbackService.get().then((function(e){return r.featureFeedbackService=e})),null==n?void 0:n.recaptchaManager.get().then((function(e){return r.recaptchaManager=e})),null==n?void 0:n.analyticsHandler.get().then((function(e){return r.analyticsHandler=e})),null==n?void 0:n.modalManager.get().then((function(e){return r.modalManager=e})),this.setupLoggedInUser(n),this.setupPageMetadata(n)]);case 6:this._setAppServicesInitialized(!0),e.next=13;break;case 9:throw e.prev=9,e.t0=e.catch(0),this._setAppServicesInitialized(!1),e.t0;case 13:case"end":return e.stop()}}),e,this,[[0,9]])}))),function(){return c.apply(this,arguments)})},{kind:"method",key:"setupLoggedInUser",value:(s=Gl(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null==t?void 0:t.userService.get();case 2:return r=e.sent,e.next=5,null==r?void 0:r.getLoggedInUser();case 5:if(e.t0=n=e.sent,null!=e.t0){e.next=10;break}e.t1=void 0,e.next=11;break;case 10:e.t1=n.success;case 11:this.loggedInUser=e.t1;case 12:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{kind:"method",key:"setupPageMetadata",value:(a=Gl(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null==t?void 0:t.pageMetadataService.get();case 2:if(n=e.sent,this.identifier){e.next=5;break}return e.abrupt("return");case 5:null==n||n.clearLinkTags(),null==n||n.addLink({rel:"canonical",href:"".concat(this.baseNavigationUrl).concat(this.collectionPagePath).concat(this.identifier)});case 7:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{kind:"method",key:"setupPageTitle",value:(o=Gl(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.appServicesInitialized;case 2:if(this.identifier){e.next=4;break}return e.abrupt("return");case 4:null==(t=this.pageMetadataService)||t.setTitle(this.pageTitle);case 5:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{kind:"get",key:"pageTitle",value:function(){var e,t,n,r,i,o,a,s,c=["web","texts","movies","audio","software","image","etree"],l=c.includes(this.identifier),u=null==(t=null==(e=this.metadata)?void 0:e.collection)?void 0:t.values,d="tvnews"===this.identifier||(null==u?void 0:u.includes("tvnews"))||(null==u?void 0:u.includes("tvarchive")),f=["tvnews","tvarchive"].includes(this.identifier),p=null==u?void 0:u.includes("etree"),h=null==u?void 0:u.find((function(e){return c.includes(e)})),m=h?h.charAt(0).toUpperCase()+h.slice(1):"",y=null==(r=null==(n=this.metadata)?void 0:n.title)?void 0:r.value,v=null==(o=null==(i=this.metadata)?void 0:i.rawMetadata)?void 0:o.title_message,b=null==(s=null==(a=this.metadata)?void 0:a.rawMetadata)?void 0:s.title_message_2;return d||f?[f?"":y,Object(E.c)("TV NEWS : Search Captions. Borrow Broadcasts : TV Archive : Internet Archive")].filter((function(e){return e})).join(" : "):l?[v,Object(E.c)("Download & Streaming"),b,y,Object(E.c)("Internet Archive")].filter((function(e){return e})).join(" : "):[null!=y?y:Object(E.c)("Collection"),v,Object(E.c)("Free ")+(p?Object(E.c)("Live Music"):m),Object(E.c)("Free Download, Borrow and Streaming"),Object(E.c)("Internet Archive")].filter((function(e){return e})).join(" : ")}},{kind:"method",key:"setupOpenGraphMetadata",value:(i=Gl(regeneratorRuntime.mark((function e(){var t,n,r,i,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.appServicesInitialized;case 2:n=Ul(this.openGraphMetadata.entries());try{for(n.s();!(r=n.n()).done;)i=Nl(r.value,2),o=i[0],a=i[1],null==(t=this.pageMetadataService)||t.setMetaTag({name:o,content:a})}catch(e){n.e(e)}finally{n.f()}case 4:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{kind:"get",key:"openGraphMetadata",value:function(){var e,t,n,r,i=new Map,o=null==(t=null==(e=this.metadata)?void 0:e.title)?void 0:t.value;o&&i.set("og:title",o);var a=null==(r=null==(n=this.metadata)?void 0:n.description)?void 0:r.value,s=null==a?void 0:a.replace(/<[^>]*>/g,""),c=Object(A.a)(null!=s?s:"",300).replace(/"/g,"").replace(/\s+/g," ");if(c&&(i.set("description",c),i.set("og:description",c)),this.identifier){var l="https://archive.org".concat(this.collectionPagePath).concat(this.identifier);i.set("og:url",l);var u="https://archive.org/services/img/".concat(this.identifier);i.set("og:image",u)}return i.set("twitter:card","summary"),i}},{kind:"method",key:"handleIdentifierChange",value:(r=Gl(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.newCollectionLoading=!0,y.REDIRECT_COLLECTIONS.includes(this.identifier)&&this.handleRedirects(),this.updateForumPosts(),this.updateHistograms(),this.updateGeoCounts(),e.next=7,null==(t=this.appServices)?void 0:t.get();case 7:return n=e.sent,e.next=10,null==n?void 0:n.appRootController.get();case 10:null==(r=e.sent)||r.setItemIdentifier(this.identifier);case 12:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{kind:"method",key:"handleRedirects",value:(n=Gl(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.appServicesInitialized;case 2:e.t0=this.identifier,e.next="tv"===e.t0?5:"democracys-library"===e.t0?7:9;break;case 5:return null==(t=this.tvSearchHandler)||t.performSearch(this.searchQuery),e.abrupt("break",9);case 7:return window.location.href="".concat(this.baseNavigationUrl,"/details/democracys-library"),e.abrupt("break",9);case 9:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{kind:"get",static:!0,key:"styles",value:function(){return Object(x.b)(Ml||(Ml=Yl(["\n      a:link {\n        color: var(--ia-theme-link-color, #4b64ff);\n        text-decoration: none;\n      }\n\n      a:link:hover {\n        text-decoration: underline;\n      }\n\n      .not-found,\n      .not-a-collection {\n        text-align: center;\n        font-weight: bold;\n        font-size: 14px;\n      }\n\n      #page-container {\n        font-size: 1.4rem;\n        margin: 0 0 30px;\n      }\n\n      #page-header {\n        padding: 20px 5px;\n        background: var(--ia-theme-secondary-background-color, white);\n      }\n\n      #page-header-inner {\n        display: flex;\n        max-width: var(--app-page-max-width, 1350px);\n        margin: 0 auto;\n      }\n\n      #top-matter {\n        display: flex;\n        flex: 1;\n      }\n\n      #top-matter h1 {\n        margin: 0;\n        font-size: 2.7rem;\n        font-weight: 200;\n        word-break: break-word;\n      }\n\n      .loading-placeholder {\n        display: block;\n        background: linear-gradient(to right bottom, #dddddd, #d8d8d8);\n        border-radius: 4px;\n      }\n\n      .loading-placeholder.thumbnail {\n        width: 90px;\n        height: 100px;\n        max-width: 25vw;\n        flex-shrink: 0;\n      }\n\n      .loading-placeholder.title {\n        max-width: max(80px, min(400px, 50%));\n        height: 45px;\n        margin-bottom: 5px;\n      }\n\n      .loading-placeholder.summary {\n        max-width: max(120px, min(600px, 75%));\n        height: 20px;\n        margin-top: 5px;\n      }\n\n      .thumbnail-frame {\n        flex-shrink: 0;\n      }\n\n      .thumbnail-frame > img {\n        max-width: 100%;\n        max-height: 100px;\n      }\n\n      #title-summary-container {\n        display: flex;\n        flex-direction: column;\n        width: 100%;\n        margin-left: 10px;\n      }\n\n      #header-creator {\n        margin: 0 0 5px;\n        font-size: 1.8rem;\n        word-break: break-word;\n      }\n\n      #header-summary {\n        margin: 0;\n      }\n\n      #header-summary img {\n        /* Don't show images within the summary */\n        display: none;\n      }\n\n      #more-btn {\n        align-self: flex-start;\n        appearance: none;\n        margin-top: 10px;\n        padding: 0;\n        border: 0;\n        background: none;\n        color: var(--ia-theme-link-color, #4b64ff);\n        font-family: inherit;\n        font-size: 1.4rem;\n        cursor: pointer;\n      }\n\n      #more-btn:hover {\n        text-decoration: underline;\n      }\n\n      #action-bar-spacing {\n        margin-left: 1rem;\n        font-size: 1.4rem;\n        color: #2c2c2c;\n      }\n\n      action-bar {\n        --iconLabelGutterWidth: 5px;\n        --iconHeight: 17px;\n      }\n\n      #forum-container .box {\n        padding: 10px;\n        background: var(--ia-theme-secondary-background-color, white);\n      }\n\n      #forum-container h1 {\n        margin-top: 0;\n        font-size: 2.4rem;\n        font-weight: 500;\n      }\n\n      #forum-container .label {\n        display: inline;\n        padding: 0.2rem 0.6rem 0.3rem;\n        font-size: 75%;\n        font-weight: bold;\n        line-height: 1;\n        color: #fff;\n        text-align: center;\n        white-space: nowrap;\n        vertical-align: baseline;\n        border-radius: 4px;\n      }\n\n      #forum-container .label-success {\n        background-color: #5cb85c;\n        text-decoration: none;\n      }\n\n      #forum-container .label-success:hover {\n        background-color: #449d44;\n      }\n\n      #forum-container span.iconochive-rss {\n        display: inline-flex;\n      }\n\n      #forum-container span.iconochive-rss::after {\n        width: 1.4rem;\n        height: 1.4rem;\n        filter: invert(1); /* Icon is black; make it white */\n        content: url(",");\n      }\n\n      #forum-container span.iconochive-email::after {\n        font-weight: bold;\n        /* U+1F582 is \"Back of Envelope\" symbol; U+FE0E forces text variant, not emoji image */\n        content: '\\1f582\\fe0e';\n      }\n\n      #forum-container .forumTable {\n        width: 100%;\n        background: transparent;\n        border-collapse: collapse;\n        border-spacing: 0;\n        word-break: break-word;\n      }\n\n      #forum-container .forumRowHead {\n        word-break: normal;\n      }\n\n      #forum-container tr:hover {\n        background: var(--ia-theme-primary-background-color, #f5f5f7);\n      }\n\n      #forum-container th,\n      #forum-container td {\n        text-align: left;\n        padding: 5px;\n        line-height: 1.42857143;\n        vertical-align: top;\n        border-top: 1px solid #ddd;\n      }\n\n      #forum-container .smalldate {\n        display: none;\n      }\n\n      #collection-search-container {\n        display: flex;\n        max-width: var(--app-page-max-width, 1350px);\n        margin-right: 5px;\n      }\n\n      collection-search-input {\n        width: 100%;\n      }\n\n      #collection-browser-container {\n        padding-left: 0.5rem;\n        margin-bottom: 2rem;\n      }\n\n      collection-browser {\n        max-width: var(--app-page-max-width, 1350px);\n        margin: auto;\n      }\n\n      @media (min-width: 768px) {\n        #top-matter h1 {\n          font-size: 3.5rem;\n        }\n\n        #header-creator {\n          font-size: 2rem;\n        }\n\n        #collection-search-container {\n          margin-left: 21.2rem;\n        }\n\n        #collection-browser-container {\n          --numSearchOptions: 2;\n          --searchOptionSpacing: calc(\n            4.5rem + 2.5rem * var(--numSearchOptions)\n          );\n\n          margin: calc(-1 * var(--searchOptionSpacing)) auto 0;\n          --rightColumnMarginTop: calc(var(--searchOptionSpacing) + 0.5rem);\n          --placeholderMarginTop: calc(var(--searchOptionSpacing) + 0.5rem);\n        }\n      }\n\n      .hidden {\n        display: none;\n      }\n\n      .sr-only {\n        position: absolute !important;\n        width: 1px !important;\n        height: 1px !important;\n        margin: -1px !important;\n        padding: 0 !important;\n        border: 0 !important;\n        overflow: hidden !important;\n        white-space: nowrap !important;\n        clip: rect(1px, 1px, 1px, 1px) !important;\n        -webkit-clip-path: inset(50%) !important;\n        clip-path: inset(50%) !important;\n        user-select: none !important;\n      }\n\n      /**\n       * DEMOCRACY'S LIBRARY STYLES\n       */\n      ia-democracys-library {\n        position: relative;\n        display: block;\n        min-height: 200px;\n        margin: 0 auto;\n        padding-top: 0;\n        border-top: 1px solid #e9e9e9;\n        outline: none;\n      }\n\n      @media (max-width: 767px) {\n        /* Account for the increased number of action buttons when user can edit */\n        ia-democracys-library.editable {\n          --ia-dl-header-mobile-height: 110px;\n        }\n      }\n\n      @media (min-width: 768px) {\n        ia-democracys-library {\n          width: initial;\n          max-width: 750px;\n        }\n      }\n\n      @media (min-width: 992px) {\n        ia-democracys-library {\n          width: initial;\n          max-width: 970px;\n        }\n      }\n\n      @media (min-width: 1200px) {\n        ia-democracys-library {\n          width: initial;\n          max-width: 1170px;\n        }\n      }\n\n      .dl-container {\n        position: relative;\n        background: white;\n        z-index: 2;\n      }\n\n      ia-democracys-library #action-bar-spacing {\n        margin-top: 1px;\n        font-size: 1.5rem;\n      }\n    "],["\n      a:link {\n        color: var(--ia-theme-link-color, #4b64ff);\n        text-decoration: none;\n      }\n\n      a:link:hover {\n        text-decoration: underline;\n      }\n\n      .not-found,\n      .not-a-collection {\n        text-align: center;\n        font-weight: bold;\n        font-size: 14px;\n      }\n\n      #page-container {\n        font-size: 1.4rem;\n        margin: 0 0 30px;\n      }\n\n      #page-header {\n        padding: 20px 5px;\n        background: var(--ia-theme-secondary-background-color, white);\n      }\n\n      #page-header-inner {\n        display: flex;\n        max-width: var(--app-page-max-width, 1350px);\n        margin: 0 auto;\n      }\n\n      #top-matter {\n        display: flex;\n        flex: 1;\n      }\n\n      #top-matter h1 {\n        margin: 0;\n        font-size: 2.7rem;\n        font-weight: 200;\n        word-break: break-word;\n      }\n\n      .loading-placeholder {\n        display: block;\n        background: linear-gradient(to right bottom, #dddddd, #d8d8d8);\n        border-radius: 4px;\n      }\n\n      .loading-placeholder.thumbnail {\n        width: 90px;\n        height: 100px;\n        max-width: 25vw;\n        flex-shrink: 0;\n      }\n\n      .loading-placeholder.title {\n        max-width: max(80px, min(400px, 50%));\n        height: 45px;\n        margin-bottom: 5px;\n      }\n\n      .loading-placeholder.summary {\n        max-width: max(120px, min(600px, 75%));\n        height: 20px;\n        margin-top: 5px;\n      }\n\n      .thumbnail-frame {\n        flex-shrink: 0;\n      }\n\n      .thumbnail-frame > img {\n        max-width: 100%;\n        max-height: 100px;\n      }\n\n      #title-summary-container {\n        display: flex;\n        flex-direction: column;\n        width: 100%;\n        margin-left: 10px;\n      }\n\n      #header-creator {\n        margin: 0 0 5px;\n        font-size: 1.8rem;\n        word-break: break-word;\n      }\n\n      #header-summary {\n        margin: 0;\n      }\n\n      #header-summary img {\n        /* Don't show images within the summary */\n        display: none;\n      }\n\n      #more-btn {\n        align-self: flex-start;\n        appearance: none;\n        margin-top: 10px;\n        padding: 0;\n        border: 0;\n        background: none;\n        color: var(--ia-theme-link-color, #4b64ff);\n        font-family: inherit;\n        font-size: 1.4rem;\n        cursor: pointer;\n      }\n\n      #more-btn:hover {\n        text-decoration: underline;\n      }\n\n      #action-bar-spacing {\n        margin-left: 1rem;\n        font-size: 1.4rem;\n        color: #2c2c2c;\n      }\n\n      action-bar {\n        --iconLabelGutterWidth: 5px;\n        --iconHeight: 17px;\n      }\n\n      #forum-container .box {\n        padding: 10px;\n        background: var(--ia-theme-secondary-background-color, white);\n      }\n\n      #forum-container h1 {\n        margin-top: 0;\n        font-size: 2.4rem;\n        font-weight: 500;\n      }\n\n      #forum-container .label {\n        display: inline;\n        padding: 0.2rem 0.6rem 0.3rem;\n        font-size: 75%;\n        font-weight: bold;\n        line-height: 1;\n        color: #fff;\n        text-align: center;\n        white-space: nowrap;\n        vertical-align: baseline;\n        border-radius: 4px;\n      }\n\n      #forum-container .label-success {\n        background-color: #5cb85c;\n        text-decoration: none;\n      }\n\n      #forum-container .label-success:hover {\n        background-color: #449d44;\n      }\n\n      #forum-container span.iconochive-rss {\n        display: inline-flex;\n      }\n\n      #forum-container span.iconochive-rss::after {\n        width: 1.4rem;\n        height: 1.4rem;\n        filter: invert(1); /* Icon is black; make it white */\n        content: url(",");\n      }\n\n      #forum-container span.iconochive-email::after {\n        font-weight: bold;\n        /* U+1F582 is \"Back of Envelope\" symbol; U+FE0E forces text variant, not emoji image */\n        content: '\\\\1f582\\\\fe0e';\n      }\n\n      #forum-container .forumTable {\n        width: 100%;\n        background: transparent;\n        border-collapse: collapse;\n        border-spacing: 0;\n        word-break: break-word;\n      }\n\n      #forum-container .forumRowHead {\n        word-break: normal;\n      }\n\n      #forum-container tr:hover {\n        background: var(--ia-theme-primary-background-color, #f5f5f7);\n      }\n\n      #forum-container th,\n      #forum-container td {\n        text-align: left;\n        padding: 5px;\n        line-height: 1.42857143;\n        vertical-align: top;\n        border-top: 1px solid #ddd;\n      }\n\n      #forum-container .smalldate {\n        display: none;\n      }\n\n      #collection-search-container {\n        display: flex;\n        max-width: var(--app-page-max-width, 1350px);\n        margin-right: 5px;\n      }\n\n      collection-search-input {\n        width: 100%;\n      }\n\n      #collection-browser-container {\n        padding-left: 0.5rem;\n        margin-bottom: 2rem;\n      }\n\n      collection-browser {\n        max-width: var(--app-page-max-width, 1350px);\n        margin: auto;\n      }\n\n      @media (min-width: 768px) {\n        #top-matter h1 {\n          font-size: 3.5rem;\n        }\n\n        #header-creator {\n          font-size: 2rem;\n        }\n\n        #collection-search-container {\n          margin-left: 21.2rem;\n        }\n\n        #collection-browser-container {\n          --numSearchOptions: 2;\n          --searchOptionSpacing: calc(\n            4.5rem + 2.5rem * var(--numSearchOptions)\n          );\n\n          margin: calc(-1 * var(--searchOptionSpacing)) auto 0;\n          --rightColumnMarginTop: calc(var(--searchOptionSpacing) + 0.5rem);\n          --placeholderMarginTop: calc(var(--searchOptionSpacing) + 0.5rem);\n        }\n      }\n\n      .hidden {\n        display: none;\n      }\n\n      .sr-only {\n        position: absolute !important;\n        width: 1px !important;\n        height: 1px !important;\n        margin: -1px !important;\n        padding: 0 !important;\n        border: 0 !important;\n        overflow: hidden !important;\n        white-space: nowrap !important;\n        clip: rect(1px, 1px, 1px, 1px) !important;\n        -webkit-clip-path: inset(50%) !important;\n        clip-path: inset(50%) !important;\n        user-select: none !important;\n      }\n\n      /**\n       * DEMOCRACY'S LIBRARY STYLES\n       */\n      ia-democracys-library {\n        position: relative;\n        display: block;\n        min-height: 200px;\n        margin: 0 auto;\n        padding-top: 0;\n        border-top: 1px solid #e9e9e9;\n        outline: none;\n      }\n\n      @media (max-width: 767px) {\n        /* Account for the increased number of action buttons when user can edit */\n        ia-democracys-library.editable {\n          --ia-dl-header-mobile-height: 110px;\n        }\n      }\n\n      @media (min-width: 768px) {\n        ia-democracys-library {\n          width: initial;\n          max-width: 750px;\n        }\n      }\n\n      @media (min-width: 992px) {\n        ia-democracys-library {\n          width: initial;\n          max-width: 970px;\n        }\n      }\n\n      @media (min-width: 1200px) {\n        ia-democracys-library {\n          width: initial;\n          max-width: 1170px;\n        }\n      }\n\n      .dl-container {\n        position: relative;\n        background: white;\n        z-index: 2;\n      }\n\n      ia-democracys-library #action-bar-spacing {\n        margin-top: 1px;\n        font-size: 1.5rem;\n      }\n    "])),Object(x.f)(R.a))}}]}}),x.a)}}]);
//# sourceMappingURL=collectionPage.8e1ba40d563fbf1944f2.js.map