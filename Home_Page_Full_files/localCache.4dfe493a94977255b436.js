(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{334:function(e,t,n){"use strict";n.r(t),n.d(t,"LocalCache",(function(){return s}));n(9),n(8),n(20),n(11),n(12),n(42),n(138),n(61),n(24),n(35),n(101),n(29),n(25),n(34),n(18),n(19),n(23),n(30);var r=n(225);function a(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,o=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){o=!0,i=e},f:function(){try{c||null==n.return||n.return()}finally{if(o)throw i}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t,n,r,a,u,i){try{var c=e[u](i),o=c.value}catch(e){return void n(e)}c.done?t(o):Promise.resolve(o).then(r,a)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var u=e.apply(t,n);function c(e){i(u,r,a,c,o,"next",e)}function o(e){i(u,r,a,c,o,"throw",e)}c(void 0)}))}}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(t){var n,r,a,u,i=this;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.namespace=null!==(n=null==t?void 0:t.namespace)&&void 0!==n?n:"LocalCache",this.defaultTTL=null!==(r=null==t?void 0:t.defaultTTL)&&void 0!==r?r:900,(null===(a=null==t?void 0:t.immediateClean)||void 0===a||a)&&this.cleanExpired(),!(null==t?void 0:t.disableCleaning)){var c=null!==(u=null==t?void 0:t.cleaningInterval)&&void 0!==u?u:60;setInterval((function(){i.cleanExpired()}),1e3*c)}}var t,n,u,i,s,l,f,p;return t=e,(n=[{key:"set",value:(p=c(regeneratorRuntime.mark((function e(t){var n,a,u,i,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={value:t.value},u=null!==(n=t.ttl)&&void 0!==n?n:this.defaultTTL,o=new Date,s=u,o.setMilliseconds(o.getMilliseconds()+1e3*s),i=o,a.expires=i,c=this.getNamespacedKey(t.key),e.prev=5,e.next=8,Object(r.d)(c,a);case 8:e.next=12;break;case 10:e.prev=10,e.t0=e.catch(5);case 12:case"end":return e.stop()}var o,s}),e,this,[[5,10]])}))),function(e){return p.apply(this,arguments)})},{key:"get",value:(f=c(regeneratorRuntime.mark((function e(t){var n,a,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.getNamespacedKey(t),e.prev=1,e.next=4,Object(r.b)(n);case 4:a=e.sent,e.next=9;break;case 7:e.prev=7,e.t0=e.catch(1);case 9:if(a){e.next=11;break}return e.abrupt("return");case 11:if(u=new Date,!(a.expires&&a.expires<u)){e.next=16;break}return e.next=15,this.delete(t);case 15:return e.abrupt("return");case 16:return e.abrupt("return",a.value);case 17:case"end":return e.stop()}}),e,this,[[1,7]])}))),function(e){return f.apply(this,arguments)})},{key:"delete",value:(l=c(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.getNamespacedKey(t),e.prev=1,e.next=4,Object(r.a)(n);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,this,[[1,6]])}))),function(e){return l.apply(this,arguments)})},{key:"cleanExpired",value:(s=c(regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getAllKeys();case 2:return t=e.sent,e.next=5,Promise.all(t.map(function(){var e=c(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.get(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"getAllKeys",value:(i=c(regeneratorRuntime.mark((function e(){var t,n,u,i,c,o,s,l=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.prev=1,e.next=4,Object(r.c)();case 4:t=e.sent,e.next=9;break;case 7:e.prev=7,e.t0=e.catch(1);case 9:n=[],u=a(t);try{for(u.s();!(i=u.n()).done;)"string"==typeof(c=i.value)&&n.push(c)}catch(e){u.e(e)}finally{u.f()}return o=n.filter((function(e){return e.startsWith(l.namespace)})),s=o.map((function(e){return l.removeNamespace(e)})),e.abrupt("return",s);case 15:case"end":return e.stop()}}),e,null,[[1,7]])}))),function(){return i.apply(this,arguments)})},{key:"getNamespacedKey",value:function(e){return"".concat(this.namespace,"-").concat(e)}},{key:"removeNamespace",value:function(e){return e.replace("".concat(this.namespace,"-"),"")}}])&&o(t.prototype,n),u&&o(t,u),e}()}}]);
//# sourceMappingURL=localCache.4dfe493a94977255b436.js.map